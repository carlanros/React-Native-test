16ad4b636dff95e4d238cb8e7a1efb9e
'use strict';var invariant=require('fbjs/lib/invariant');var oneArgumentPooler=function oneArgumentPooler(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance;}else{return new Klass(copyFieldsFrom);}};var twoArgumentPooler=function twoArgumentPooler(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance;}else{return new Klass(a1,a2);}};var threeArgumentPooler=function threeArgumentPooler(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance;}else{return new Klass(a1,a2,a3);}};var fourArgumentPooler=function fourArgumentPooler(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4);return instance;}else{return new Klass(a1,a2,a3,a4);}};var standardReleaser=function standardReleaser(instance){var Klass=this;invariant(instance instanceof Klass,'Trying to release an instance into a pool of a different type.');instance.destructor();if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance);}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function addPoolingTo(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE;}NewKlass.release=standardReleaser;return NewKlass;};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler};module.exports=PooledClass;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBvb2xlZENsYXNzLmpzIl0sIm5hbWVzIjpbImludmFyaWFudCIsInJlcXVpcmUiLCJvbmVBcmd1bWVudFBvb2xlciIsImNvcHlGaWVsZHNGcm9tIiwiS2xhc3MiLCJpbnN0YW5jZVBvb2wiLCJsZW5ndGgiLCJpbnN0YW5jZSIsInBvcCIsImNhbGwiLCJ0d29Bcmd1bWVudFBvb2xlciIsImExIiwiYTIiLCJ0aHJlZUFyZ3VtZW50UG9vbGVyIiwiYTMiLCJmb3VyQXJndW1lbnRQb29sZXIiLCJhNCIsInN0YW5kYXJkUmVsZWFzZXIiLCJkZXN0cnVjdG9yIiwicG9vbFNpemUiLCJwdXNoIiwiREVGQVVMVF9QT09MX1NJWkUiLCJERUZBVUxUX1BPT0xFUiIsImFkZFBvb2xpbmdUbyIsIkNvcHlDb25zdHJ1Y3RvciIsInBvb2xlciIsIk5ld0tsYXNzIiwiZ2V0UG9vbGVkIiwicmVsZWFzZSIsIlBvb2xlZENsYXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUEsYUFFQSxHQUFJQSxXQUFZQyxPQUFaLHNCQUFKLENBU0EsR0FBSUMsbUJBQW9CLFFBQXBCQSxrQkFBb0IsQ0FBU0MsY0FBVCxDQUF5QixDQUMvQyxHQUFJQyxPQUFRLElBQVosQ0FDQSxHQUFJQSxNQUFNQyxZQUFOLENBQW1CQyxNQUF2QixDQUErQixDQUM3QixHQUFJQyxVQUFXSCxNQUFNQyxZQUFOLENBQW1CRyxHQUFuQixFQUFmLENBQ0FKLE1BQU1LLElBQU4sQ0FBV0YsUUFBWCxDQUFxQkosY0FBckIsRUFDQSxNQUFPSSxTQUFQLENBQ0QsQ0FKRCxJQUlPLENBQ0wsTUFBTyxJQUFJSCxNQUFKLENBQVVELGNBQVYsQ0FBUCxDQUNELENBQ0YsQ0FURCxDQVdBLEdBQUlPLG1CQUFvQixRQUFwQkEsa0JBQW9CLENBQVNDLEVBQVQsQ0FBYUMsRUFBYixDQUFpQixDQUN2QyxHQUFJUixPQUFRLElBQVosQ0FDQSxHQUFJQSxNQUFNQyxZQUFOLENBQW1CQyxNQUF2QixDQUErQixDQUM3QixHQUFJQyxVQUFXSCxNQUFNQyxZQUFOLENBQW1CRyxHQUFuQixFQUFmLENBQ0FKLE1BQU1LLElBQU4sQ0FBV0YsUUFBWCxDQUFxQkksRUFBckIsQ0FBeUJDLEVBQXpCLEVBQ0EsTUFBT0wsU0FBUCxDQUNELENBSkQsSUFJTyxDQUNMLE1BQU8sSUFBSUgsTUFBSixDQUFVTyxFQUFWLENBQWNDLEVBQWQsQ0FBUCxDQUNELENBQ0YsQ0FURCxDQVdBLEdBQUlDLHFCQUFzQixRQUF0QkEsb0JBQXNCLENBQVNGLEVBQVQsQ0FBYUMsRUFBYixDQUFpQkUsRUFBakIsQ0FBcUIsQ0FDN0MsR0FBSVYsT0FBUSxJQUFaLENBQ0EsR0FBSUEsTUFBTUMsWUFBTixDQUFtQkMsTUFBdkIsQ0FBK0IsQ0FDN0IsR0FBSUMsVUFBV0gsTUFBTUMsWUFBTixDQUFtQkcsR0FBbkIsRUFBZixDQUNBSixNQUFNSyxJQUFOLENBQVdGLFFBQVgsQ0FBcUJJLEVBQXJCLENBQXlCQyxFQUF6QixDQUE2QkUsRUFBN0IsRUFDQSxNQUFPUCxTQUFQLENBQ0QsQ0FKRCxJQUlPLENBQ0wsTUFBTyxJQUFJSCxNQUFKLENBQVVPLEVBQVYsQ0FBY0MsRUFBZCxDQUFrQkUsRUFBbEIsQ0FBUCxDQUNELENBQ0YsQ0FURCxDQVdBLEdBQUlDLG9CQUFxQixRQUFyQkEsbUJBQXFCLENBQVNKLEVBQVQsQ0FBYUMsRUFBYixDQUFpQkUsRUFBakIsQ0FBcUJFLEVBQXJCLENBQXlCLENBQ2hELEdBQUlaLE9BQVEsSUFBWixDQUNBLEdBQUlBLE1BQU1DLFlBQU4sQ0FBbUJDLE1BQXZCLENBQStCLENBQzdCLEdBQUlDLFVBQVdILE1BQU1DLFlBQU4sQ0FBbUJHLEdBQW5CLEVBQWYsQ0FDQUosTUFBTUssSUFBTixDQUFXRixRQUFYLENBQXFCSSxFQUFyQixDQUF5QkMsRUFBekIsQ0FBNkJFLEVBQTdCLENBQWlDRSxFQUFqQyxFQUNBLE1BQU9ULFNBQVAsQ0FDRCxDQUpELElBSU8sQ0FDTCxNQUFPLElBQUlILE1BQUosQ0FBVU8sRUFBVixDQUFjQyxFQUFkLENBQWtCRSxFQUFsQixDQUFzQkUsRUFBdEIsQ0FBUCxDQUNELENBQ0YsQ0FURCxDQVdBLEdBQUlDLGtCQUFtQixRQUFuQkEsaUJBQW1CLENBQVNWLFFBQVQsQ0FBbUIsQ0FDeEMsR0FBSUgsT0FBUSxJQUFaLENBQ0FKLFVBQ0VPLG1CQUFvQkgsTUFEdEIsQ0FFRSxnRUFGRixFQUlBRyxTQUFTVyxVQUFULEdBQ0EsR0FBSWQsTUFBTUMsWUFBTixDQUFtQkMsTUFBbkIsQ0FBNEJGLE1BQU1lLFFBQXRDLENBQWdELENBQzlDZixNQUFNQyxZQUFOLENBQW1CZSxJQUFuQixDQUF3QmIsUUFBeEIsRUFDRCxDQUNGLENBVkQsQ0FZQSxHQUFJYyxtQkFBb0IsRUFBeEIsQ0FDQSxHQUFJQyxnQkFBaUJwQixpQkFBckIsQ0FhQSxHQUFJcUIsY0FBZSxRQUFmQSxhQUFlLENBQ2pCQyxlQURpQixDQUVqQkMsTUFGaUIsQ0FRakIsQ0FHQSxHQUFJQyxVQUFZRixlQUFoQixDQUNBRSxTQUFTckIsWUFBVCxDQUF3QixFQUF4QixDQUNBcUIsU0FBU0MsU0FBVCxDQUFxQkYsUUFBVUgsY0FBL0IsQ0FDQSxHQUFJLENBQUNJLFNBQVNQLFFBQWQsQ0FBd0IsQ0FDdEJPLFNBQVNQLFFBQVQsQ0FBb0JFLGlCQUFwQixDQUNELENBQ0RLLFNBQVNFLE9BQVQsQ0FBbUJYLGdCQUFuQixDQUNBLE1BQU9TLFNBQVAsQ0FDRCxDQW5CRCxDQXFCQSxHQUFJRyxhQUFjLENBQ2hCTixhQUFjQSxZQURFLENBRWhCckIsa0JBQW9CQSxpQkFGSixDQUdoQlEsa0JBQW9CQSxpQkFISixDQUloQkcsb0JBQXNCQSxtQkFKTixDQUtoQkUsbUJBQXFCQSxrQkFMTCxDQUFsQixDQVFBZSxPQUFPQyxPQUFQLENBQWlCRixXQUFqQiIsImZpbGUiOiJQb29sZWRDbGFzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFBvb2xlZENsYXNzXG4gKiBAZmxvd1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIFN0YXRpYyBwb29sZXJzLiBTZXZlcmFsIGN1c3RvbSB2ZXJzaW9ucyBmb3IgZWFjaCBwb3RlbnRpYWwgbnVtYmVyIG9mXG4gKiBhcmd1bWVudHMuIEEgY29tcGxldGVseSBnZW5lcmljIHBvb2xlciBpcyBlYXN5IHRvIGltcGxlbWVudCwgYnV0IHdvdWxkXG4gKiByZXF1aXJlIGFjY2Vzc2luZyB0aGUgYGFyZ3VtZW50c2Agb2JqZWN0LiBJbiBlYWNoIG9mIHRoZXNlLCBgdGhpc2AgcmVmZXJzIHRvXG4gKiB0aGUgQ2xhc3MgaXRzZWxmLCBub3QgYW4gaW5zdGFuY2UuIElmIGFueSBvdGhlcnMgYXJlIG5lZWRlZCwgc2ltcGx5IGFkZCB0aGVtXG4gKiBoZXJlLCBvciBpbiB0aGVpciBvd24gZmlsZXMuXG4gKi9cbnZhciBvbmVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGNvcHlGaWVsZHNGcm9tKSB7XG4gIHZhciBLbGFzcyA9IHRoaXM7XG4gIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGNvcHlGaWVsZHNGcm9tKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhjb3B5RmllbGRzRnJvbSk7XG4gIH1cbn07XG5cbnZhciB0d29Bcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMikge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMik7XG4gIH1cbn07XG5cbnZhciB0aHJlZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24oYTEsIGEyLCBhMykge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgfVxufTtcblxudmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGE0KSB7XG4gIHZhciBLbGFzcyA9IHRoaXM7XG4gIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMiwgYTMsIGE0KTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzLCBhNCk7XG4gIH1cbn07XG5cbnZhciBzdGFuZGFyZFJlbGVhc2VyID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIEtsYXNzID0gdGhpcztcbiAgaW52YXJpYW50KFxuICAgIGluc3RhbmNlIGluc3RhbmNlb2YgS2xhc3MsXG4gICAgJ1RyeWluZyB0byByZWxlYXNlIGFuIGluc3RhbmNlIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuJyxcbiAgKTtcbiAgaW5zdGFuY2UuZGVzdHJ1Y3RvcigpO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCA8IEtsYXNzLnBvb2xTaXplKSB7XG4gICAgS2xhc3MuaW5zdGFuY2VQb29sLnB1c2goaW5zdGFuY2UpO1xuICB9XG59O1xuXG52YXIgREVGQVVMVF9QT09MX1NJWkUgPSAxMDtcbnZhciBERUZBVUxUX1BPT0xFUiA9IG9uZUFyZ3VtZW50UG9vbGVyO1xuXG50eXBlIFBvb2xlciA9IGFueTtcblxuLyoqXG4gKiBBdWdtZW50cyBgQ29weUNvbnN0cnVjdG9yYCB0byBiZSBhIHBvb2xhYmxlIGNsYXNzLCBhdWdtZW50aW5nIG9ubHkgdGhlIGNsYXNzXG4gKiBpdHNlbGYgKHN0YXRpY2FsbHkpIG5vdCBhZGRpbmcgYW55IHByb3RvdHlwaWNhbCBmaWVsZHMuIEFueSBDb3B5Q29uc3RydWN0b3JcbiAqIHlvdSBnaXZlIHRoaXMgbWF5IGhhdmUgYSBgcG9vbFNpemVgIHByb3BlcnR5LCBhbmQgd2lsbCBsb29rIGZvciBhXG4gKiBwcm90b3R5cGljYWwgYGRlc3RydWN0b3JgIG9uIGluc3RhbmNlcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb3B5Q29uc3RydWN0b3IgQ29uc3RydWN0b3IgdGhhdCBjYW4gYmUgdXNlZCB0byByZXNldC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBvb2xlciBDdXN0b21pemFibGUgcG9vbGVyLlxuICovXG52YXIgYWRkUG9vbGluZ1RvID0gZnVuY3Rpb248VD4oXG4gIENvcHlDb25zdHJ1Y3RvcjogQ2xhc3M8VD4sXG4gIHBvb2xlcjogUG9vbGVyLFxuKTogQ2xhc3M8VD4gJiB7XG4gIGdldFBvb2xlZChcbiAgICAuLi5hcmdzOiAkUmVhZE9ubHlBcnJheTxtaXhlZD5cbiAgKTogLyogYXJndW1lbnRzIG9mIHRoZSBjb25zdHJ1Y3RvciAqLyBULFxuICByZWxlYXNlKGluc3RhbmNlOiBtaXhlZCk6IHZvaWQsXG59IHtcbiAgLy8gQ2FzdGluZyBhcyBhbnkgc28gdGhhdCBmbG93IGlnbm9yZXMgdGhlIGFjdHVhbCBpbXBsZW1lbnRhdGlvbiBhbmQgdHJ1c3RzXG4gIC8vIGl0IHRvIG1hdGNoIHRoZSB0eXBlIHdlIGRlY2xhcmVkXG4gIHZhciBOZXdLbGFzcyA9IChDb3B5Q29uc3RydWN0b3I6IGFueSk7XG4gIE5ld0tsYXNzLmluc3RhbmNlUG9vbCA9IFtdO1xuICBOZXdLbGFzcy5nZXRQb29sZWQgPSBwb29sZXIgfHwgREVGQVVMVF9QT09MRVI7XG4gIGlmICghTmV3S2xhc3MucG9vbFNpemUpIHtcbiAgICBOZXdLbGFzcy5wb29sU2l6ZSA9IERFRkFVTFRfUE9PTF9TSVpFO1xuICB9XG4gIE5ld0tsYXNzLnJlbGVhc2UgPSBzdGFuZGFyZFJlbGVhc2VyO1xuICByZXR1cm4gTmV3S2xhc3M7XG59O1xuXG52YXIgUG9vbGVkQ2xhc3MgPSB7XG4gIGFkZFBvb2xpbmdUbzogYWRkUG9vbGluZ1RvLFxuICBvbmVBcmd1bWVudFBvb2xlcjogKG9uZUFyZ3VtZW50UG9vbGVyOiBQb29sZXIpLFxuICB0d29Bcmd1bWVudFBvb2xlcjogKHR3b0FyZ3VtZW50UG9vbGVyOiBQb29sZXIpLFxuICB0aHJlZUFyZ3VtZW50UG9vbGVyOiAodGhyZWVBcmd1bWVudFBvb2xlcjogUG9vbGVyKSxcbiAgZm91ckFyZ3VtZW50UG9vbGVyOiAoZm91ckFyZ3VtZW50UG9vbGVyOiBQb29sZXIpLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQb29sZWRDbGFzcztcbiJdfQ==
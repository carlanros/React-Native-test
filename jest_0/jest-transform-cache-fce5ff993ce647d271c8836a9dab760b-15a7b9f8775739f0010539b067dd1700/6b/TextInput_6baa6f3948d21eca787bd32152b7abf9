1fe9f0e54a23a552c609a676b193adbf
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var ColorPropType=require('ColorPropType');var DocumentSelectionState=require('DocumentSelectionState');var EventEmitter=require('EventEmitter');var NativeMethodsMixin=require('NativeMethodsMixin');var Platform=require('Platform');var React=require('React');var createReactClass=require('create-react-class');var PropTypes=require('prop-types');var ReactNative=require('ReactNative');var StyleSheet=require('StyleSheet');var Text=require('Text');var TextInputState=require('TextInputState');var TimerMixin=require('react-timer-mixin');var TouchableWithoutFeedback=require('TouchableWithoutFeedback');var UIManager=require('UIManager');var ViewPropTypes=require('ViewPropTypes');var emptyFunction=require('fbjs/lib/emptyFunction');var invariant=require('fbjs/lib/invariant');var requireNativeComponent=require('requireNativeComponent');var warning=require('fbjs/lib/warning');var onlyMultiline={onTextInput:true,children:true};if(Platform.OS==='android'){var AndroidTextInput=requireNativeComponent('AndroidTextInput',null);}else if(Platform.OS==='ios'){var RCTTextView=requireNativeComponent('RCTTextView',null);var RCTTextField=requireNativeComponent('RCTTextField',null);}var DataDetectorTypes=['phoneNumber','link','address','calendarEvent','none','all'];var TextInput=createReactClass({displayName:'TextInput',statics:{State:TextInputState},propTypes:_extends({},ViewPropTypes,{autoCapitalize:PropTypes.oneOf(['none','sentences','words','characters']),autoCorrect:PropTypes.bool,spellCheck:PropTypes.bool,autoFocus:PropTypes.bool,autoGrow:PropTypes.bool,allowFontScaling:PropTypes.bool,editable:PropTypes.bool,keyboardType:PropTypes.oneOf(['default','email-address','numeric','phone-pad','ascii-capable','numbers-and-punctuation','url','number-pad','name-phone-pad','decimal-pad','twitter','web-search','visible-password']),keyboardAppearance:PropTypes.oneOf(['default','light','dark']),returnKeyType:PropTypes.oneOf(['done','go','next','search','send','none','previous','default','emergency-call','google','join','route','yahoo']),returnKeyLabel:PropTypes.string,maxLength:PropTypes.number,maxHeight:PropTypes.number,numberOfLines:PropTypes.number,disableFullscreenUI:PropTypes.bool,enablesReturnKeyAutomatically:PropTypes.bool,multiline:PropTypes.bool,textBreakStrategy:PropTypes.oneOf(['simple','highQuality','balanced']),onBlur:PropTypes.func,onFocus:PropTypes.func,onChange:PropTypes.func,onChangeText:PropTypes.func,onContentSizeChange:PropTypes.func,onEndEditing:PropTypes.func,onSelectionChange:PropTypes.func,onSubmitEditing:PropTypes.func,onKeyPress:PropTypes.func,onLayout:PropTypes.func,onScroll:PropTypes.func,placeholder:PropTypes.string,placeholderTextColor:ColorPropType,secureTextEntry:PropTypes.bool,selectionColor:ColorPropType,selectionState:PropTypes.instanceOf(DocumentSelectionState),selection:PropTypes.shape({start:PropTypes.number.isRequired,end:PropTypes.number}),value:PropTypes.string,defaultValue:PropTypes.string,clearButtonMode:PropTypes.oneOf(['never','while-editing','unless-editing','always']),clearTextOnFocus:PropTypes.bool,selectTextOnFocus:PropTypes.bool,blurOnSubmit:PropTypes.bool,style:Text.propTypes.style,underlineColorAndroid:ColorPropType,inlineImageLeft:PropTypes.string,inlineImagePadding:PropTypes.number,dataDetectorTypes:PropTypes.oneOfType([PropTypes.oneOf(DataDetectorTypes),PropTypes.arrayOf(PropTypes.oneOf(DataDetectorTypes))]),caretHidden:PropTypes.bool}),getDefaultProps:function getDefaultProps(){return{allowFontScaling:true};},mixins:[NativeMethodsMixin,TimerMixin],getInitialState:function getInitialState(){return{layoutHeight:this._layoutHeight};},isFocused:function isFocused(){return TextInputState.currentlyFocusedField()===ReactNative.findNodeHandle(this._inputRef);},contextTypes:{onFocusRequested:PropTypes.func,focusEmitter:PropTypes.instanceOf(EventEmitter)},_inputRef:undefined,_focusSubscription:undefined,_lastNativeText:undefined,_lastNativeSelection:undefined,_layoutHeight:-1,componentDidMount:function componentDidMount(){var _this=this;this._lastNativeText=this.props.value;if(!this.context.focusEmitter){if(this.props.autoFocus){this.requestAnimationFrame(this.focus);}return;}this._focusSubscription=this.context.focusEmitter.addListener('focus',function(el){if(_this===el){_this.requestAnimationFrame(_this.focus);}else if(_this.isFocused()){_this.blur();}});if(this.props.autoFocus){this.context.onFocusRequested(this);}},componentWillUnmount:function componentWillUnmount(){this._focusSubscription&&this._focusSubscription.remove();if(this.isFocused()){this.blur();}},getChildContext:function getChildContext(){return{isInAParentText:true};},childContextTypes:{isInAParentText:PropTypes.bool},clear:function clear(){this.setNativeProps({text:''});},render:function render(){if(Platform.OS==='ios'){return this._renderIOS();}else if(Platform.OS==='android'){return this._renderAndroid();}},_getText:function _getText(){return typeof this.props.value==='string'?this.props.value:typeof this.props.defaultValue==='string'?this.props.defaultValue:'';},_setNativeRef:function _setNativeRef(ref){this._inputRef=ref;},_renderIOS:function _renderIOS(){var textContainer;var props=_extends({},this.props);props.style=[this.props.style];if(props.selection&&props.selection.end==null){props.selection={start:props.selection.start,end:props.selection.start};}if(!props.multiline){if(__DEV__){for(var propKey in onlyMultiline){if(props[propKey]){var error=new Error('TextInput prop `'+propKey+'` is only supported with multiline.');warning(false,'%s',error.stack);}}}textContainer=React.createElement(RCTTextField,_extends({ref:this._setNativeRef},props,{onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onSelectionChange:this._onSelectionChange,onSelectionChangeShouldSetResponder:emptyFunction.thatReturnsTrue,text:this._getText()}));}else{var children=props.children;var childCount=0;React.Children.forEach(children,function(){return++childCount;});invariant(!(props.value&&childCount),'Cannot specify both value and children.');if(childCount>=1){children=React.createElement(Text,{style:props.style,allowFontScaling:props.allowFontScaling},children);}if(props.inputView){children=[children,props.inputView];}props.style.unshift(styles.multilineInput);textContainer=React.createElement(RCTTextView,_extends({ref:this._setNativeRef},props,{children:children,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onContentSizeChange:this.props.onContentSizeChange,onSelectionChange:this._onSelectionChange,onTextInput:this._onTextInput,onSelectionChangeShouldSetResponder:emptyFunction.thatReturnsTrue,text:this._getText(),dataDetectorTypes:this.props.dataDetectorTypes,onScroll:this._onScroll}));}return React.createElement(TouchableWithoutFeedback,{onLayout:props.onLayout,onPress:this._onPress,rejectResponderTermination:true,accessible:props.accessible,accessibilityLabel:props.accessibilityLabel,accessibilityTraits:props.accessibilityTraits,nativeID:this.props.nativeID,testID:props.testID},textContainer);},_renderAndroid:function _renderAndroid(){var props=_extends({},this.props);props.style=this.props.style;if(this.state.layoutHeight>=0){props.style=[props.style,{height:this.state.layoutHeight}];}props.autoCapitalize=UIManager.AndroidTextInput.Constants.AutoCapitalizationType[props.autoCapitalize||'sentences'];var children=this.props.children;var childCount=0;React.Children.forEach(children,function(){return++childCount;});invariant(!(this.props.value&&childCount),'Cannot specify both value and children.');if(childCount>1){children=React.createElement(Text,null,children);}if(props.selection&&props.selection.end==null){props.selection={start:props.selection.start,end:props.selection.start};}var textContainer=React.createElement(AndroidTextInput,_extends({ref:this._setNativeRef},props,{mostRecentEventCount:0,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,onContentSizeChange:this._onContentSizeChange,onSelectionChange:this._onSelectionChange,onTextInput:this._onTextInput,text:this._getText(),children:children,disableFullscreenUI:this.props.disableFullscreenUI,textBreakStrategy:this.props.textBreakStrategy,onScroll:this._onScroll}));return React.createElement(TouchableWithoutFeedback,{onLayout:this._onLayout,onPress:this._onPress,accessible:this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityComponentType:this.props.accessibilityComponentType,nativeID:this.props.nativeID,testID:this.props.testID},textContainer);},_onFocus:function _onFocus(event){if(this.props.onFocus){this.props.onFocus(event);}if(this.props.selectionState){this.props.selectionState.focus();}},_onPress:function _onPress(event){if(this.props.editable||this.props.editable===undefined){this.focus();}},_onChange:function _onChange(event){if(this._inputRef){this._inputRef.setNativeProps({mostRecentEventCount:event.nativeEvent.eventCount});}var text=event.nativeEvent.text;this.props.onChange&&this.props.onChange(event);this.props.onChangeText&&this.props.onChangeText(text);if(!this._inputRef){return;}this._lastNativeText=text;this.forceUpdate();},_onContentSizeChange:function _onContentSizeChange(event){var contentHeight=event.nativeEvent.contentSize.height;if(this.props.autoGrow){if(this.props.maxHeight){contentHeight=Math.min(this.props.maxHeight,contentHeight);}this.setState({layoutHeight:Math.max(this._layoutHeight,contentHeight)});}this.props.onContentSizeChange&&this.props.onContentSizeChange(event);},_onLayout:function _onLayout(event){var height=event.nativeEvent.layout.height;if(height){this._layoutHeight=event.nativeEvent.layout.height;}this.props.onLayout&&this.props.onLayout(event);},_onSelectionChange:function _onSelectionChange(event){this.props.onSelectionChange&&this.props.onSelectionChange(event);if(!this._inputRef){return;}this._lastNativeSelection=event.nativeEvent.selection;if(this.props.selection||this.props.selectionState){this.forceUpdate();}},componentDidUpdate:function componentDidUpdate(){var nativeProps={};if(this._lastNativeText!==this.props.value&&typeof this.props.value==='string'){nativeProps.text=this.props.value;}var selection=this.props.selection;if(this._lastNativeSelection&&selection&&(this._lastNativeSelection.start!==selection.start||this._lastNativeSelection.end!==selection.end)){nativeProps.selection=this.props.selection;}if(Object.keys(nativeProps).length>0&&this._inputRef){this._inputRef.setNativeProps(nativeProps);}if(this.props.selectionState&&selection){this.props.selectionState.update(selection.start,selection.end);}},_onBlur:function _onBlur(event){this.blur();if(this.props.onBlur){this.props.onBlur(event);}if(this.props.selectionState){this.props.selectionState.blur();}},_onTextInput:function _onTextInput(event){this.props.onTextInput&&this.props.onTextInput(event);},_onScroll:function _onScroll(event){this.props.onScroll&&this.props.onScroll(event);}});var styles=StyleSheet.create({multilineInput:{paddingTop:5}});module.exports=TextInput;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dC5qcyJdLCJuYW1lcyI6WyJDb2xvclByb3BUeXBlIiwicmVxdWlyZSIsIkRvY3VtZW50U2VsZWN0aW9uU3RhdGUiLCJFdmVudEVtaXR0ZXIiLCJOYXRpdmVNZXRob2RzTWl4aW4iLCJQbGF0Zm9ybSIsIlJlYWN0IiwiY3JlYXRlUmVhY3RDbGFzcyIsIlByb3BUeXBlcyIsIlJlYWN0TmF0aXZlIiwiU3R5bGVTaGVldCIsIlRleHQiLCJUZXh0SW5wdXRTdGF0ZSIsIlRpbWVyTWl4aW4iLCJUb3VjaGFibGVXaXRob3V0RmVlZGJhY2siLCJVSU1hbmFnZXIiLCJWaWV3UHJvcFR5cGVzIiwiZW1wdHlGdW5jdGlvbiIsImludmFyaWFudCIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJ3YXJuaW5nIiwib25seU11bHRpbGluZSIsIm9uVGV4dElucHV0IiwiY2hpbGRyZW4iLCJPUyIsIkFuZHJvaWRUZXh0SW5wdXQiLCJSQ1RUZXh0VmlldyIsIlJDVFRleHRGaWVsZCIsIkRhdGFEZXRlY3RvclR5cGVzIiwiVGV4dElucHV0IiwiZGlzcGxheU5hbWUiLCJzdGF0aWNzIiwiU3RhdGUiLCJwcm9wVHlwZXMiLCJhdXRvQ2FwaXRhbGl6ZSIsIm9uZU9mIiwiYXV0b0NvcnJlY3QiLCJib29sIiwic3BlbGxDaGVjayIsImF1dG9Gb2N1cyIsImF1dG9Hcm93IiwiYWxsb3dGb250U2NhbGluZyIsImVkaXRhYmxlIiwia2V5Ym9hcmRUeXBlIiwia2V5Ym9hcmRBcHBlYXJhbmNlIiwicmV0dXJuS2V5VHlwZSIsInJldHVybktleUxhYmVsIiwic3RyaW5nIiwibWF4TGVuZ3RoIiwibnVtYmVyIiwibWF4SGVpZ2h0IiwibnVtYmVyT2ZMaW5lcyIsImRpc2FibGVGdWxsc2NyZWVuVUkiLCJlbmFibGVzUmV0dXJuS2V5QXV0b21hdGljYWxseSIsIm11bHRpbGluZSIsInRleHRCcmVha1N0cmF0ZWd5Iiwib25CbHVyIiwiZnVuYyIsIm9uRm9jdXMiLCJvbkNoYW5nZSIsIm9uQ2hhbmdlVGV4dCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJvbkVuZEVkaXRpbmciLCJvblNlbGVjdGlvbkNoYW5nZSIsIm9uU3VibWl0RWRpdGluZyIsIm9uS2V5UHJlc3MiLCJvbkxheW91dCIsIm9uU2Nyb2xsIiwicGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlclRleHRDb2xvciIsInNlY3VyZVRleHRFbnRyeSIsInNlbGVjdGlvbkNvbG9yIiwic2VsZWN0aW9uU3RhdGUiLCJpbnN0YW5jZU9mIiwic2VsZWN0aW9uIiwic2hhcGUiLCJzdGFydCIsImlzUmVxdWlyZWQiLCJlbmQiLCJ2YWx1ZSIsImRlZmF1bHRWYWx1ZSIsImNsZWFyQnV0dG9uTW9kZSIsImNsZWFyVGV4dE9uRm9jdXMiLCJzZWxlY3RUZXh0T25Gb2N1cyIsImJsdXJPblN1Ym1pdCIsInN0eWxlIiwidW5kZXJsaW5lQ29sb3JBbmRyb2lkIiwiaW5saW5lSW1hZ2VMZWZ0IiwiaW5saW5lSW1hZ2VQYWRkaW5nIiwiZGF0YURldGVjdG9yVHlwZXMiLCJvbmVPZlR5cGUiLCJhcnJheU9mIiwiY2FyZXRIaWRkZW4iLCJnZXREZWZhdWx0UHJvcHMiLCJtaXhpbnMiLCJnZXRJbml0aWFsU3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJfbGF5b3V0SGVpZ2h0IiwiaXNGb2N1c2VkIiwiY3VycmVudGx5Rm9jdXNlZEZpZWxkIiwiZmluZE5vZGVIYW5kbGUiLCJfaW5wdXRSZWYiLCJjb250ZXh0VHlwZXMiLCJvbkZvY3VzUmVxdWVzdGVkIiwiZm9jdXNFbWl0dGVyIiwidW5kZWZpbmVkIiwiX2ZvY3VzU3Vic2NyaXB0aW9uIiwiX2xhc3ROYXRpdmVUZXh0IiwiX2xhc3ROYXRpdmVTZWxlY3Rpb24iLCJjb21wb25lbnREaWRNb3VudCIsInByb3BzIiwiY29udGV4dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZvY3VzIiwiYWRkTGlzdGVuZXIiLCJlbCIsImJsdXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZSIsImdldENoaWxkQ29udGV4dCIsImlzSW5BUGFyZW50VGV4dCIsImNoaWxkQ29udGV4dFR5cGVzIiwiY2xlYXIiLCJzZXROYXRpdmVQcm9wcyIsInRleHQiLCJyZW5kZXIiLCJfcmVuZGVySU9TIiwiX3JlbmRlckFuZHJvaWQiLCJfZ2V0VGV4dCIsIl9zZXROYXRpdmVSZWYiLCJyZWYiLCJ0ZXh0Q29udGFpbmVyIiwiX19ERVZfXyIsInByb3BLZXkiLCJlcnJvciIsIkVycm9yIiwic3RhY2siLCJfb25Gb2N1cyIsIl9vbkJsdXIiLCJfb25DaGFuZ2UiLCJfb25TZWxlY3Rpb25DaGFuZ2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJjaGlsZENvdW50IiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiaW5wdXRWaWV3IiwidW5zaGlmdCIsInN0eWxlcyIsIm11bHRpbGluZUlucHV0IiwiX29uVGV4dElucHV0IiwiX29uU2Nyb2xsIiwiX29uUHJlc3MiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiYWNjZXNzaWJpbGl0eVRyYWl0cyIsIm5hdGl2ZUlEIiwidGVzdElEIiwic3RhdGUiLCJoZWlnaHQiLCJDb25zdGFudHMiLCJBdXRvQ2FwaXRhbGl6YXRpb25UeXBlIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJfb25MYXlvdXQiLCJhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZSIsImV2ZW50IiwibW9zdFJlY2VudEV2ZW50Q291bnQiLCJuYXRpdmVFdmVudCIsImV2ZW50Q291bnQiLCJmb3JjZVVwZGF0ZSIsImNvbnRlbnRIZWlnaHQiLCJjb250ZW50U2l6ZSIsIk1hdGgiLCJtaW4iLCJzZXRTdGF0ZSIsIm1heCIsImxheW91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5hdGl2ZVByb3BzIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInVwZGF0ZSIsImNyZWF0ZSIsInBhZGRpbmdUb3AiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFXQSxhLGdPQUVBLEdBQU1BLGVBQWdCQyxPQUFoQixpQkFBTixDQUNB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cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBUZXh0SW5wdXRcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQ29sb3JQcm9wVHlwZSA9IHJlcXVpcmUoJ0NvbG9yUHJvcFR5cGUnKTtcbmNvbnN0IERvY3VtZW50U2VsZWN0aW9uU3RhdGUgPSByZXF1aXJlKCdEb2N1bWVudFNlbGVjdGlvblN0YXRlJyk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdFdmVudEVtaXR0ZXInKTtcbmNvbnN0IE5hdGl2ZU1ldGhvZHNNaXhpbiA9IHJlcXVpcmUoJ05hdGl2ZU1ldGhvZHNNaXhpbicpO1xuY29uc3QgUGxhdGZvcm0gPSByZXF1aXJlKCdQbGF0Zm9ybScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgY3JlYXRlUmVhY3RDbGFzcyA9IHJlcXVpcmUoJ2NyZWF0ZS1yZWFjdC1jbGFzcycpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCdSZWFjdE5hdGl2ZScpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJ1N0eWxlU2hlZXQnKTtcbmNvbnN0IFRleHQgPSByZXF1aXJlKCdUZXh0Jyk7XG5jb25zdCBUZXh0SW5wdXRTdGF0ZSA9IHJlcXVpcmUoJ1RleHRJbnB1dFN0YXRlJyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3QgVGltZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0LXRpbWVyLW1peGluJyk7XG5jb25zdCBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgPSByZXF1aXJlKCdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snKTtcbmNvbnN0IFVJTWFuYWdlciA9IHJlcXVpcmUoJ1VJTWFuYWdlcicpO1xuY29uc3QgVmlld1Byb3BUeXBlcyA9IHJlcXVpcmUoJ1ZpZXdQcm9wVHlwZXMnKTtcblxuLyogJEZsb3dGaXhNZSg+PTAuNTQuMCBzaXRlPXJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yXG4gKiBmb3VuZCB3aGVuIEZsb3cgdjAuNTQgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kXG4gKiBydW4gRmxvdy4gKi9cbmNvbnN0IGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbmNvbnN0IHJlcXVpcmVOYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCdyZXF1aXJlTmF0aXZlQ29tcG9uZW50Jyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuY29uc3Qgb25seU11bHRpbGluZSA9IHtcbiAgb25UZXh0SW5wdXQ6IHRydWUsXG4gIGNoaWxkcmVuOiB0cnVlLFxufTtcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgdmFyIEFuZHJvaWRUZXh0SW5wdXQgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdBbmRyb2lkVGV4dElucHV0JywgbnVsbCk7XG59IGVsc2UgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICB2YXIgUkNUVGV4dFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RUZXh0VmlldycsIG51bGwpO1xuICB2YXIgUkNUVGV4dEZpZWxkID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUVGV4dEZpZWxkJywgbnVsbCk7XG59XG5cbnR5cGUgRXZlbnQgPSBPYmplY3Q7XG50eXBlIFNlbGVjdGlvbiA9IHtcbiAgc3RhcnQ6IG51bWJlcixcbiAgZW5kPzogbnVtYmVyLFxufTtcblxuY29uc3QgRGF0YURldGVjdG9yVHlwZXMgPSBbXG4gICdwaG9uZU51bWJlcicsXG4gICdsaW5rJyxcbiAgJ2FkZHJlc3MnLFxuICAnY2FsZW5kYXJFdmVudCcsXG4gICdub25lJyxcbiAgJ2FsbCcsXG5dO1xuXG4vKipcbiAqIEEgZm91bmRhdGlvbmFsIGNvbXBvbmVudCBmb3IgaW5wdXR0aW5nIHRleHQgaW50byB0aGUgYXBwIHZpYSBhXG4gKiBrZXlib2FyZC4gUHJvcHMgcHJvdmlkZSBjb25maWd1cmFiaWxpdHkgZm9yIHNldmVyYWwgZmVhdHVyZXMsIHN1Y2ggYXNcbiAqIGF1dG8tY29ycmVjdGlvbiwgYXV0by1jYXBpdGFsaXphdGlvbiwgcGxhY2Vob2xkZXIgdGV4dCwgYW5kIGRpZmZlcmVudCBrZXlib2FyZFxuICogdHlwZXMsIHN1Y2ggYXMgYSBudW1lcmljIGtleXBhZC5cbiAqXG4gKiBUaGUgc2ltcGxlc3QgdXNlIGNhc2UgaXMgdG8gcGxvcCBkb3duIGEgYFRleHRJbnB1dGAgYW5kIHN1YnNjcmliZSB0byB0aGVcbiAqIGBvbkNoYW5nZVRleHRgIGV2ZW50cyB0byByZWFkIHRoZSB1c2VyIGlucHV0LiBUaGVyZSBhcmUgYWxzbyBvdGhlciBldmVudHMsXG4gKiBzdWNoIGFzIGBvblN1Ym1pdEVkaXRpbmdgIGFuZCBgb25Gb2N1c2AgdGhhdCBjYW4gYmUgc3Vic2NyaWJlZCB0by4gQSBzaW1wbGVcbiAqIGV4YW1wbGU6XG4gKlxuICogYGBgUmVhY3ROYXRpdmVXZWJQbGF5ZXJcbiAqIGltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG4gKiBpbXBvcnQgeyBBcHBSZWdpc3RyeSwgVGV4dElucHV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VsZXNzVGV4dElucHV0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAqICAgICBzdXBlcihwcm9wcyk7XG4gKiAgICAgdGhpcy5zdGF0ZSA9IHsgdGV4dDogJ1VzZWxlc3MgUGxhY2Vob2xkZXInIH07XG4gKiAgIH1cbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgPFRleHRJbnB1dFxuICogICAgICAgICBzdHlsZT17e2hlaWdodDogNDAsIGJvcmRlckNvbG9yOiAnZ3JheScsIGJvcmRlcldpZHRoOiAxfX1cbiAqICAgICAgICAgb25DaGFuZ2VUZXh0PXsodGV4dCkgPT4gdGhpcy5zZXRTdGF0ZSh7dGV4dH0pfVxuICogICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50ZXh0fVxuICogICAgICAgLz5cbiAqICAgICApO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gc2tpcCB0aGlzIGxpbmUgaWYgdXNpbmcgQ3JlYXRlIFJlYWN0IE5hdGl2ZSBBcHBcbiAqIEFwcFJlZ2lzdHJ5LnJlZ2lzdGVyQ29tcG9uZW50KCdBd2Vzb21lUHJvamVjdCcsICgpID0+IFVzZWxlc3NUZXh0SW5wdXQpO1xuICogYGBgXG4gKlxuICogVHdvIG1ldGhvZHMgZXhwb3NlZCB2aWEgdGhlIG5hdGl2ZSBlbGVtZW50IGFyZSAuZm9jdXMoKSBhbmQgLmJsdXIoKSB0aGF0XG4gKiB3aWxsIGZvY3VzIG9yIGJsdXIgdGhlIFRleHRJbnB1dCBwcm9ncmFtbWF0aWNhbGx5LlxuICpcbiAqIE5vdGUgdGhhdCBzb21lIHByb3BzIGFyZSBvbmx5IGF2YWlsYWJsZSB3aXRoIGBtdWx0aWxpbmU9e3RydWUvZmFsc2V9YC5cbiAqIEFkZGl0aW9uYWxseSwgYm9yZGVyIHN0eWxlcyB0aGF0IGFwcGx5IHRvIG9ubHkgb25lIHNpZGUgb2YgdGhlIGVsZW1lbnRcbiAqIChlLmcuLCBgYm9yZGVyQm90dG9tQ29sb3JgLCBgYm9yZGVyTGVmdFdpZHRoYCwgZXRjLikgd2lsbCBub3QgYmUgYXBwbGllZCBpZlxuICogYG11bHRpbGluZT1mYWxzZWAuIFRvIGFjaGlldmUgdGhlIHNhbWUgZWZmZWN0LCB5b3UgY2FuIHdyYXAgeW91ciBgVGV4dElucHV0YFxuICogaW4gYSBgVmlld2A6XG4gKlxuICogYGBgUmVhY3ROYXRpdmVXZWJQbGF5ZXJcbiAqIGltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG4gKiBpbXBvcnQgeyBBcHBSZWdpc3RyeSwgVmlldywgVGV4dElucHV0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbiAqXG4gKiBjbGFzcyBVc2VsZXNzVGV4dElucHV0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VGV4dElucHV0XG4gKiAgICAgICAgIHsuLi50aGlzLnByb3BzfSAvLyBJbmhlcml0IGFueSBwcm9wcyBwYXNzZWQgdG8gaXQ7IGUuZy4sIG11bHRpbGluZSwgbnVtYmVyT2ZMaW5lcyBiZWxvd1xuICogICAgICAgICBlZGl0YWJsZSA9IHt0cnVlfVxuICogICAgICAgICBtYXhMZW5ndGggPSB7NDB9XG4gKiAgICAgICAvPlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VsZXNzVGV4dElucHV0TXVsdGlsaW5lIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAqICAgICBzdXBlcihwcm9wcyk7XG4gKiAgICAgdGhpcy5zdGF0ZSA9IHtcbiAqICAgICAgIHRleHQ6ICdVc2VsZXNzIE11bHRpbGluZSBQbGFjZWhvbGRlcicsXG4gKiAgICAgfTtcbiAqICAgfVxuICpcbiAqICAgLy8gSWYgeW91IHR5cGUgc29tZXRoaW5nIGluIHRoZSB0ZXh0IGJveCB0aGF0IGlzIGEgY29sb3IsIHRoZSBiYWNrZ3JvdW5kIHdpbGwgY2hhbmdlIHRvIHRoYXRcbiAqICAgLy8gY29sb3IuXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICA8VmlldyBzdHlsZT17e1xuICogICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5zdGF0ZS50ZXh0LFxuICogICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiAnIzAwMDAwMCcsXG4gKiAgICAgICAgYm9yZGVyQm90dG9tV2lkdGg6IDEgfX1cbiAqICAgICAgPlxuICogICAgICAgIDxVc2VsZXNzVGV4dElucHV0XG4gKiAgICAgICAgICBtdWx0aWxpbmUgPSB7dHJ1ZX1cbiAqICAgICAgICAgIG51bWJlck9mTGluZXMgPSB7NH1cbiAqICAgICAgICAgIG9uQ2hhbmdlVGV4dD17KHRleHQpID0+IHRoaXMuc2V0U3RhdGUoe3RleHR9KX1cbiAqICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRleHR9XG4gKiAgICAgICAgLz5cbiAqICAgICAgPC9WaWV3PlxuICogICAgICk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBza2lwIHRoZXNlIGxpbmVzIGlmIHVzaW5nIENyZWF0ZSBSZWFjdCBOYXRpdmUgQXBwXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudChcbiAqICAnQXdlc29tZVByb2plY3QnLFxuICogICgpID0+IFVzZWxlc3NUZXh0SW5wdXRNdWx0aWxpbmVcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBgVGV4dElucHV0YCBoYXMgYnkgZGVmYXVsdCBhIGJvcmRlciBhdCB0aGUgYm90dG9tIG9mIGl0cyB2aWV3LiBUaGlzIGJvcmRlclxuICogaGFzIGl0cyBwYWRkaW5nIHNldCBieSB0aGUgYmFja2dyb3VuZCBpbWFnZSBwcm92aWRlZCBieSB0aGUgc3lzdGVtLCBhbmQgaXRcbiAqIGNhbm5vdCBiZSBjaGFuZ2VkLiBTb2x1dGlvbnMgdG8gYXZvaWQgdGhpcyBpcyB0byBlaXRoZXIgbm90IHNldCBoZWlnaHRcbiAqIGV4cGxpY2l0bHksIGNhc2UgaW4gd2hpY2ggdGhlIHN5c3RlbSB3aWxsIHRha2UgY2FyZSBvZiBkaXNwbGF5aW5nIHRoZSBib3JkZXJcbiAqIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uLCBvciB0byBub3QgZGlzcGxheSB0aGUgYm9yZGVyIGJ5IHNldHRpbmdcbiAqIGB1bmRlcmxpbmVDb2xvckFuZHJvaWRgIHRvIHRyYW5zcGFyZW50LlxuICpcbiAqIE5vdGUgdGhhdCBvbiBBbmRyb2lkIHBlcmZvcm1pbmcgdGV4dCBzZWxlY3Rpb24gaW4gaW5wdXQgY2FuIGNoYW5nZVxuICogYXBwJ3MgYWN0aXZpdHkgYHdpbmRvd1NvZnRJbnB1dE1vZGVgIHBhcmFtIHRvIGBhZGp1c3RSZXNpemVgLlxuICogVGhpcyBtYXkgY2F1c2UgaXNzdWVzIHdpdGggY29tcG9uZW50cyB0aGF0IGhhdmUgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAqIHdoaWxlIGtleWJvYXJkIGlzIGFjdGl2ZS4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciBlaXRoZXIgc3BlY2lmeSBgd2luZG93U29mdElucHV0TW9kZWBcbiAqIGluIEFuZHJvaWRNYW5pZmVzdC54bWwgKCBodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9ndWlkZS90b3BpY3MvbWFuaWZlc3QvYWN0aXZpdHktZWxlbWVudC5odG1sIClcbiAqIG9yIGNvbnRyb2wgdGhpcyBwYXJhbSBwcm9ncmFtbWF0aWNhbGx5IHdpdGggbmF0aXZlIGNvZGUuXG4gKlxuICovXG5cbmNvbnN0IFRleHRJbnB1dCA9IGNyZWF0ZVJlYWN0Q2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1RleHRJbnB1dCcsXG4gIHN0YXRpY3M6IHtcbiAgICAvKiBUT0RPKGJyZW50dmF0bmUpIGRvY3MgYXJlIG5lZWRlZCBmb3IgdGhpcyAqL1xuICAgIFN0YXRlOiBUZXh0SW5wdXRTdGF0ZSxcbiAgfSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICAuLi5WaWV3UHJvcFR5cGVzLFxuICAgIC8qKlxuICAgICAqIENhbiB0ZWxsIGBUZXh0SW5wdXRgIHRvIGF1dG9tYXRpY2FsbHkgY2FwaXRhbGl6ZSBjZXJ0YWluIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAtIGBjaGFyYWN0ZXJzYDogYWxsIGNoYXJhY3RlcnMuXG4gICAgICogLSBgd29yZHNgOiBmaXJzdCBsZXR0ZXIgb2YgZWFjaCB3b3JkLlxuICAgICAqIC0gYHNlbnRlbmNlc2A6IGZpcnN0IGxldHRlciBvZiBlYWNoIHNlbnRlbmNlICgqZGVmYXVsdCopLlxuICAgICAqIC0gYG5vbmVgOiBkb24ndCBhdXRvIGNhcGl0YWxpemUgYW55dGhpbmcuXG4gICAgICovXG4gICAgYXV0b0NhcGl0YWxpemU6IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAnbm9uZScsXG4gICAgICAnc2VudGVuY2VzJyxcbiAgICAgICd3b3JkcycsXG4gICAgICAnY2hhcmFjdGVycycsXG4gICAgXSksXG4gICAgLyoqXG4gICAgICogSWYgYGZhbHNlYCwgZGlzYWJsZXMgYXV0by1jb3JyZWN0LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgdHJ1ZWAuXG4gICAgICovXG4gICAgYXV0b0NvcnJlY3Q6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIElmIGBmYWxzZWAsIGRpc2FibGVzIHNwZWxsLWNoZWNrIHN0eWxlIChpLmUuIHJlZCB1bmRlcmxpbmVzKS5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBpbmhlcml0ZWQgZnJvbSBgYXV0b0NvcnJlY3RgLlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBzcGVsbENoZWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIGZvY3VzZXMgdGhlIGlucHV0IG9uIGBjb21wb25lbnREaWRNb3VudGAuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBhdXRvRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHdpbGwgaW5jcmVhc2UgdGhlIGhlaWdodCBvZiB0aGUgdGV4dGJveCBpZiBuZWVkIGJlLiBJZiBmYWxzZSxcbiAgICAgKiB0aGUgdGV4dGJveCB3aWxsIGJlY29tZSBzY3JvbGxhYmxlIG9uY2UgdGhlIGhlaWdodCBpcyByZWFjaGVkLiBUaGVcbiAgICAgKiBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgYXV0b0dyb3c6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIGZvbnRzIHNob3VsZCBzY2FsZSB0byByZXNwZWN0IFRleHQgU2l6ZSBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzLiBUaGVcbiAgICAgKiBkZWZhdWx0IGlzIGB0cnVlYC5cbiAgICAgKi9cbiAgICBhbGxvd0ZvbnRTY2FsaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBJZiBgZmFsc2VgLCB0ZXh0IGlzIG5vdCBlZGl0YWJsZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgICAqL1xuICAgIGVkaXRhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGtleWJvYXJkIHRvIG9wZW4sIGUuZy5gbnVtZXJpY2AuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIGFjcm9zcyBwbGF0Zm9ybXM6XG4gICAgICpcbiAgICAgKiAtIGBkZWZhdWx0YFxuICAgICAqIC0gYG51bWVyaWNgXG4gICAgICogLSBgZW1haWwtYWRkcmVzc2BcbiAgICAgKiAtIGBwaG9uZS1wYWRgXG4gICAgICpcbiAgICAgKiAqaU9TIE9ubHkqXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIG9uIGlPUyBvbmx5OlxuICAgICAqXG4gICAgICogLSBgYXNjaWktY2FwYWJsZWBcbiAgICAgKiAtIGBudW1iZXJzLWFuZC1wdW5jdHVhdGlvbmBcbiAgICAgKiAtIGB1cmxgXG4gICAgICogLSBgbnVtYmVyLXBhZGBcbiAgICAgKiAtIGBuYW1lLXBob25lLXBhZGBcbiAgICAgKiAtIGBkZWNpbWFsLXBhZGBcbiAgICAgKiAtIGB0d2l0dGVyYFxuICAgICAqIC0gYHdlYi1zZWFyY2hgXG4gICAgICpcbiAgICAgKiAqQW5kcm9pZCBPbmx5KlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyB2YWx1ZXMgd29yayBvbiBBbmRyb2lkIG9ubHk6XG4gICAgICpcbiAgICAgKiAtIGB2aXNpYmxlLXBhc3N3b3JkYFxuICAgICAqL1xuICAgIGtleWJvYXJkVHlwZTogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgIC8vIENyb3NzLXBsYXRmb3JtXG4gICAgICAnZGVmYXVsdCcsXG4gICAgICAnZW1haWwtYWRkcmVzcycsXG4gICAgICAnbnVtZXJpYycsXG4gICAgICAncGhvbmUtcGFkJyxcbiAgICAgIC8vIGlPUy1vbmx5XG4gICAgICAnYXNjaWktY2FwYWJsZScsXG4gICAgICAnbnVtYmVycy1hbmQtcHVuY3R1YXRpb24nLFxuICAgICAgJ3VybCcsXG4gICAgICAnbnVtYmVyLXBhZCcsXG4gICAgICAnbmFtZS1waG9uZS1wYWQnLFxuICAgICAgJ2RlY2ltYWwtcGFkJyxcbiAgICAgICd0d2l0dGVyJyxcbiAgICAgICd3ZWItc2VhcmNoJyxcbiAgICAgIC8vIEFuZHJvaWQtb25seVxuICAgICAgJ3Zpc2libGUtcGFzc3dvcmQnLFxuICAgIF0pLFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGNvbG9yIG9mIHRoZSBrZXlib2FyZC5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAga2V5Ym9hcmRBcHBlYXJhbmNlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgJ2RlZmF1bHQnLFxuICAgICAgJ2xpZ2h0JyxcbiAgICAgICdkYXJrJyxcbiAgICBdKSxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGhvdyB0aGUgcmV0dXJuIGtleSBzaG91bGQgbG9vay4gT24gQW5kcm9pZCB5b3UgY2FuIGFsc28gdXNlXG4gICAgICogYHJldHVybktleUxhYmVsYC5cbiAgICAgKlxuICAgICAqICpDcm9zcyBwbGF0Zm9ybSpcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgdmFsdWVzIHdvcmsgYWNyb3NzIHBsYXRmb3JtczpcbiAgICAgKlxuICAgICAqIC0gYGRvbmVgXG4gICAgICogLSBgZ29gXG4gICAgICogLSBgbmV4dGBcbiAgICAgKiAtIGBzZWFyY2hgXG4gICAgICogLSBgc2VuZGBcbiAgICAgKlxuICAgICAqICpBbmRyb2lkIE9ubHkqXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIG9uIEFuZHJvaWQgb25seTpcbiAgICAgKlxuICAgICAqIC0gYG5vbmVgXG4gICAgICogLSBgcHJldmlvdXNgXG4gICAgICpcbiAgICAgKiAqaU9TIE9ubHkqXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIHZhbHVlcyB3b3JrIG9uIGlPUyBvbmx5OlxuICAgICAqXG4gICAgICogLSBgZGVmYXVsdGBcbiAgICAgKiAtIGBlbWVyZ2VuY3ktY2FsbGBcbiAgICAgKiAtIGBnb29nbGVgXG4gICAgICogLSBgam9pbmBcbiAgICAgKiAtIGByb3V0ZWBcbiAgICAgKiAtIGB5YWhvb2BcbiAgICAgKi9cbiAgICByZXR1cm5LZXlUeXBlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgLy8gQ3Jvc3MtcGxhdGZvcm1cbiAgICAgICdkb25lJyxcbiAgICAgICdnbycsXG4gICAgICAnbmV4dCcsXG4gICAgICAnc2VhcmNoJyxcbiAgICAgICdzZW5kJyxcbiAgICAgIC8vIEFuZHJvaWQtb25seVxuICAgICAgJ25vbmUnLFxuICAgICAgJ3ByZXZpb3VzJyxcbiAgICAgIC8vIGlPUy1vbmx5XG4gICAgICAnZGVmYXVsdCcsXG4gICAgICAnZW1lcmdlbmN5LWNhbGwnLFxuICAgICAgJ2dvb2dsZScsXG4gICAgICAnam9pbicsXG4gICAgICAncm91dGUnLFxuICAgICAgJ3lhaG9vJyxcbiAgICBdKSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXR1cm4ga2V5IHRvIHRoZSBsYWJlbC4gVXNlIGl0IGluc3RlYWQgb2YgYHJldHVybktleVR5cGVgLlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgcmV0dXJuS2V5TGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLyoqXG4gICAgICogTGltaXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIHRoYXQgY2FuIGJlIGVudGVyZWQuIFVzZSB0aGlzXG4gICAgICogaW5zdGVhZCBvZiBpbXBsZW1lbnRpbmcgdGhlIGxvZ2ljIGluIEpTIHRvIGF2b2lkIGZsaWNrZXIuXG4gICAgICovXG4gICAgbWF4TGVuZ3RoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIElmIGF1dG9ncm93IGlzIGB0cnVlYCwgbGltaXRzIHRoZSBoZWlnaHQgdGhhdCB0aGUgVGV4dElucHV0IGJveCBjYW4gZ3Jvd1xuICAgICAqIHRvLiBPbmNlIGl0IHJlYWNoZXMgdGhpcyBoZWlnaHQsIHRoZSBUZXh0SW5wdXQgYmVjb21lcyBzY3JvbGxhYmxlLlxuICAgICAqL1xuICAgIG1heEhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgbGluZXMgZm9yIGEgYFRleHRJbnB1dGAuIFVzZSBpdCB3aXRoIG11bHRpbGluZSBzZXQgdG9cbiAgICAgKiBgdHJ1ZWAgdG8gYmUgYWJsZSB0byBmaWxsIHRoZSBsaW5lcy5cbiAgICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgICAqL1xuICAgIG51bWJlck9mTGluZXM6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogV2hlbiBgZmFsc2VgLCBpZiB0aGVyZSBpcyBhIHNtYWxsIGFtb3VudCBvZiBzcGFjZSBhdmFpbGFibGUgYXJvdW5kIGEgdGV4dCBpbnB1dFxuICAgICAqIChlLmcuIGxhbmRzY2FwZSBvcmllbnRhdGlvbiBvbiBhIHBob25lKSwgdGhlIE9TIG1heSBjaG9vc2UgdG8gaGF2ZSB0aGUgdXNlciBlZGl0XG4gICAgICogdGhlIHRleHQgaW5zaWRlIG9mIGEgZnVsbCBzY3JlZW4gdGV4dCBpbnB1dCBtb2RlLiBXaGVuIGB0cnVlYCwgdGhpcyBmZWF0dXJlIGlzXG4gICAgICogZGlzYWJsZWQgYW5kIHVzZXJzIHdpbGwgYWx3YXlzIGVkaXQgdGhlIHRleHQgZGlyZWN0bHkgaW5zaWRlIG9mIHRoZSB0ZXh0IGlucHV0LlxuICAgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICAgKi9cbiAgICBkaXNhYmxlRnVsbHNjcmVlblVJOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCBkaXNhYmxlcyB0aGUgcmV0dXJuIGtleSB3aGVuIHRoZXJlIGlzIG5vIHRleHQgYW5kXG4gICAgICogYXV0b21hdGljYWxseSBlbmFibGVzIGl0IHdoZW4gdGhlcmUgaXMgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYGZhbHNlYC5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgZW5hYmxlc1JldHVybktleUF1dG9tYXRpY2FsbHk6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHRleHQgaW5wdXQgY2FuIGJlIG11bHRpcGxlIGxpbmVzLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAgICovXG4gICAgbXVsdGlsaW5lOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBicmVhayBzdHJhdGVneSBvbiBBbmRyb2lkIEFQSSBMZXZlbCAyMyssIHBvc3NpYmxlIHZhbHVlcyBhcmUgYHNpbXBsZWAsIGBoaWdoUXVhbGl0eWAsIGBiYWxhbmNlZGBcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgc2ltcGxlYC5cbiAgICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgICAqL1xuICAgIHRleHRCcmVha1N0cmF0ZWd5OiBQcm9wVHlwZXMub25lT2YoWydzaW1wbGUnLCAnaGlnaFF1YWxpdHknLCAnYmFsYW5jZWQnXSksXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCBpcyBibHVycmVkLlxuICAgICAqL1xuICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCBpcyBmb2N1c2VkLlxuICAgICAqL1xuICAgIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyB0ZXh0IGNoYW5nZXMuXG4gICAgICovXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyB0ZXh0IGNoYW5nZXMuXG4gICAgICogQ2hhbmdlZCB0ZXh0IGlzIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgY2FsbGJhY2sgaGFuZGxlci5cbiAgICAgKi9cbiAgICBvbkNoYW5nZVRleHQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHRleHQgaW5wdXQncyBjb250ZW50IHNpemUgY2hhbmdlcy5cbiAgICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdpdGhcbiAgICAgKiBgeyBuYXRpdmVFdmVudDogeyBjb250ZW50U2l6ZTogeyB3aWR0aCwgaGVpZ2h0IH0gfSB9YC5cbiAgICAgKlxuICAgICAqIE9ubHkgY2FsbGVkIGZvciBtdWx0aWxpbmUgdGV4dCBpbnB1dHMuXG4gICAgICovXG4gICAgb25Db250ZW50U2l6ZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0ZXh0IGlucHV0IGVuZHMuXG4gICAgICovXG4gICAgb25FbmRFZGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSB0ZXh0IGlucHV0IHNlbGVjdGlvbiBpcyBjaGFuZ2VkLlxuICAgICAqIFRoaXMgd2lsbCBiZSBjYWxsZWQgd2l0aFxuICAgICAqIGB7IG5hdGl2ZUV2ZW50OiB7IHNlbGVjdGlvbjogeyBzdGFydCwgZW5kIH0gfSB9YC5cbiAgICAgKi9cbiAgICBvblNlbGVjdGlvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgdGV4dCBpbnB1dCdzIHN1Ym1pdCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKiBJbnZhbGlkIGlmIGBtdWx0aWxpbmU9e3RydWV9YCBpcyBzcGVjaWZpZWQuXG4gICAgICovXG4gICAgb25TdWJtaXRFZGl0aW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWQuXG4gICAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCB3aXRoIGB7IG5hdGl2ZUV2ZW50OiB7IGtleToga2V5VmFsdWUgfSB9YFxuICAgICAqIHdoZXJlIGBrZXlWYWx1ZWAgaXMgYCdFbnRlcidgIG9yIGAnQmFja3NwYWNlJ2AgZm9yIHJlc3BlY3RpdmUga2V5cyBhbmRcbiAgICAgKiB0aGUgdHlwZWQtaW4gY2hhcmFjdGVyIG90aGVyd2lzZSBpbmNsdWRpbmcgYCcgJ2AgZm9yIHNwYWNlLlxuICAgICAqIEZpcmVzIGJlZm9yZSBgb25DaGFuZ2VgIGNhbGxiYWNrcy5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgb25LZXlQcmVzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VudCBhbmQgbGF5b3V0IGNoYW5nZXMgd2l0aCBge3gsIHksIHdpZHRoLCBoZWlnaHR9YC5cbiAgICAgKi9cbiAgICBvbkxheW91dDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBjb250ZW50IHNjcm9sbCB3aXRoIGB7IG5hdGl2ZUV2ZW50OiB7IGNvbnRlbnRPZmZzZXQ6IHsgeCwgeSB9IH0gfWAuXG4gICAgICogTWF5IGFsc28gY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGZyb20gU2Nyb2xsRXZlbnQgYnV0IG9uIEFuZHJvaWQgY29udGVudFNpemVcbiAgICAgKiBpcyBub3QgcHJvdmlkZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICovXG4gICAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGJlZm9yZSB0ZXh0IGlucHV0IGhhcyBiZWVuIGVudGVyZWQuXG4gICAgICovXG4gICAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgY29sb3Igb2YgdGhlIHBsYWNlaG9sZGVyIHN0cmluZy5cbiAgICAgKi9cbiAgICBwbGFjZWhvbGRlclRleHRDb2xvcjogQ29sb3JQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSB0ZXh0IGlucHV0IG9ic2N1cmVzIHRoZSB0ZXh0IGVudGVyZWQgc28gdGhhdCBzZW5zaXRpdmUgdGV4dFxuICAgICAqIGxpa2UgcGFzc3dvcmRzIHN0YXkgc2VjdXJlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLiBEb2VzIG5vdCB3b3JrIHdpdGggJ211bHRpbGluZT17dHJ1ZX0nLlxuICAgICAqL1xuICAgIHNlY3VyZVRleHRFbnRyeTogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgKiBUaGUgaGlnaGxpZ2h0IGFuZCBjdXJzb3IgY29sb3Igb2YgdGhlIHRleHQgaW5wdXQuXG4gICAgKi9cbiAgICBzZWxlY3Rpb25Db2xvcjogQ29sb3JQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiBgRG9jdW1lbnRTZWxlY3Rpb25TdGF0ZWAsIHRoaXMgaXMgc29tZSBzdGF0ZSB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvclxuICAgICAqIG1haW50YWluaW5nIHNlbGVjdGlvbiBpbmZvcm1hdGlvbiBmb3IgYSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFNvbWUgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgd2l0aCB0aGlzIGluc3RhbmNlIGlzOlxuICAgICAqXG4gICAgICogLSBgYmx1cigpYFxuICAgICAqIC0gYGZvY3VzKClgXG4gICAgICogLSBgdXBkYXRlKClgXG4gICAgICpcbiAgICAgKiA+IFlvdSBjYW4gcmVmZXJlbmNlIGBEb2N1bWVudFNlbGVjdGlvblN0YXRlYCBpblxuICAgICAqID4gW2B2ZW5kb3IvZG9jdW1lbnQvc2VsZWN0aW9uL0RvY3VtZW50U2VsZWN0aW9uU3RhdGUuanNgXShodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2Jsb2IvbWFzdGVyL0xpYnJhcmllcy92ZW5kb3IvZG9jdW1lbnQvc2VsZWN0aW9uL0RvY3VtZW50U2VsZWN0aW9uU3RhdGUuanMpXG4gICAgICpcbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgc2VsZWN0aW9uU3RhdGU6IFByb3BUeXBlcy5pbnN0YW5jZU9mKERvY3VtZW50U2VsZWN0aW9uU3RhdGUpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSB0ZXh0IGlucHV0J3Mgc2VsZWN0aW9uLiBTZXQgc3RhcnQgYW5kIGVuZCB0b1xuICAgICAqIHRoZSBzYW1lIHZhbHVlIHRvIHBvc2l0aW9uIHRoZSBjdXJzb3IuXG4gICAgICovXG4gICAgc2VsZWN0aW9uOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgc3RhcnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgIGVuZDogUHJvcFR5cGVzLm51bWJlcixcbiAgICB9KSxcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgdG8gc2hvdyBmb3IgdGhlIHRleHQgaW5wdXQuIGBUZXh0SW5wdXRgIGlzIGEgY29udHJvbGxlZFxuICAgICAqIGNvbXBvbmVudCwgd2hpY2ggbWVhbnMgdGhlIG5hdGl2ZSB2YWx1ZSB3aWxsIGJlIGZvcmNlZCB0byBtYXRjaCB0aGlzXG4gICAgICogdmFsdWUgcHJvcCBpZiBwcm92aWRlZC4gRm9yIG1vc3QgdXNlcywgdGhpcyB3b3JrcyBncmVhdCwgYnV0IGluIHNvbWVcbiAgICAgKiBjYXNlcyB0aGlzIG1heSBjYXVzZSBmbGlja2VyaW5nIC0gb25lIGNvbW1vbiBjYXVzZSBpcyBwcmV2ZW50aW5nIGVkaXRzXG4gICAgICogYnkga2VlcGluZyB2YWx1ZSB0aGUgc2FtZS4gSW4gYWRkaXRpb24gdG8gc2ltcGx5IHNldHRpbmcgdGhlIHNhbWUgdmFsdWUsXG4gICAgICogZWl0aGVyIHNldCBgZWRpdGFibGU9e2ZhbHNlfWAsIG9yIHNldC91cGRhdGUgYG1heExlbmd0aGAgdG8gcHJldmVudFxuICAgICAqIHVud2FudGVkIGVkaXRzIHdpdGhvdXQgZmxpY2tlci5cbiAgICAgKi9cbiAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBpbml0aWFsIHZhbHVlIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0aGUgdXNlciBzdGFydHMgdHlwaW5nLlxuICAgICAqIFVzZWZ1bCBmb3Igc2ltcGxlIHVzZS1jYXNlcyB3aGVyZSB5b3UgZG8gbm90IHdhbnQgdG8gZGVhbCB3aXRoIGxpc3RlbmluZ1xuICAgICAqIHRvIGV2ZW50cyBhbmQgdXBkYXRpbmcgdGhlIHZhbHVlIHByb3AgdG8ga2VlcCB0aGUgY29udHJvbGxlZCBzdGF0ZSBpbiBzeW5jLlxuICAgICAqL1xuICAgIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBjbGVhciBidXR0b24gc2hvdWxkIGFwcGVhciBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgdGV4dCB2aWV3LlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBjbGVhckJ1dHRvbk1vZGU6IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAnbmV2ZXInLFxuICAgICAgJ3doaWxlLWVkaXRpbmcnLFxuICAgICAgJ3VubGVzcy1lZGl0aW5nJyxcbiAgICAgICdhbHdheXMnLFxuICAgIF0pLFxuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgY2xlYXJzIHRoZSB0ZXh0IGZpZWxkIGF1dG9tYXRpY2FsbHkgd2hlbiBlZGl0aW5nIGJlZ2lucy5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgY2xlYXJUZXh0T25Gb2N1czogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBhbGwgdGV4dCB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgc2VsZWN0ZWQgb24gZm9jdXMuXG4gICAgICovXG4gICAgc2VsZWN0VGV4dE9uRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHRleHQgZmllbGQgd2lsbCBibHVyIHdoZW4gc3VibWl0dGVkLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUgZm9yIHNpbmdsZS1saW5lIGZpZWxkcyBhbmQgZmFsc2UgZm9yXG4gICAgICogbXVsdGlsaW5lIGZpZWxkcy4gTm90ZSB0aGF0IGZvciBtdWx0aWxpbmUgZmllbGRzLCBzZXR0aW5nIGBibHVyT25TdWJtaXRgXG4gICAgICogdG8gYHRydWVgIG1lYW5zIHRoYXQgcHJlc3NpbmcgcmV0dXJuIHdpbGwgYmx1ciB0aGUgZmllbGQgYW5kIHRyaWdnZXIgdGhlXG4gICAgICogYG9uU3VibWl0RWRpdGluZ2AgZXZlbnQgaW5zdGVhZCBvZiBpbnNlcnRpbmcgYSBuZXdsaW5lIGludG8gdGhlIGZpZWxkLlxuICAgICAqL1xuICAgIGJsdXJPblN1Ym1pdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogTm90ZSB0aGF0IG5vdCBhbGwgVGV4dCBzdHlsZXMgYXJlIHN1cHBvcnRlZCwgYW4gaW5jb21wbGV0ZSBsaXN0IG9mIHdoYXQgaXMgbm90IHN1cHBvcnRlZCBpbmNsdWRlczpcbiAgICAgKlxuICAgICAqIC0gYGJvcmRlckxlZnRXaWR0aGBcbiAgICAgKiAtIGBib3JkZXJUb3BXaWR0aGBcbiAgICAgKiAtIGBib3JkZXJSaWdodFdpZHRoYFxuICAgICAqIC0gYGJvcmRlckJvdHRvbVdpZHRoYFxuICAgICAqIC0gYGJvcmRlclRvcExlZnRSYWRpdXNgXG4gICAgICogLSBgYm9yZGVyVG9wUmlnaHRSYWRpdXNgXG4gICAgICogLSBgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNgXG4gICAgICogLSBgYm9yZGVyQm90dG9tTGVmdFJhZGl1c2BcbiAgICAgKlxuICAgICAqIHNlZSBbSXNzdWUjNzA3MF0oaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9pc3N1ZXMvNzA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWwuXG4gICAgICpcbiAgICAgKiBbU3R5bGVzXShkb2NzL3N0eWxlLmh0bWwpXG4gICAgICovXG4gICAgc3R5bGU6IFRleHQucHJvcFR5cGVzLnN0eWxlLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xvciBvZiB0aGUgYFRleHRJbnB1dGAgdW5kZXJsaW5lLlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgdW5kZXJsaW5lQ29sb3JBbmRyb2lkOiBDb2xvclByb3BUeXBlLFxuXG4gICAgLyoqXG4gICAgICogSWYgZGVmaW5lZCwgdGhlIHByb3ZpZGVkIGltYWdlIHJlc291cmNlIHdpbGwgYmUgcmVuZGVyZWQgb24gdGhlIGxlZnQuXG4gICAgICogVGhlIGltYWdlIHJlc291cmNlIG11c3QgYmUgaW5zaWRlIGAvYW5kcm9pZC9hcHAvc3JjL21haW4vcmVzL2RyYXdhYmxlYCBhbmQgcmVmZXJlbmNlZFxuICAgICAqIGxpa2VcbiAgICAgKiBgYGBcbiAgICAgKiA8VGV4dElucHV0XG4gICAgICogIGlubGluZUltYWdlTGVmdD0nc2VhcmNoX2ljb24nXG4gICAgICogLz5cbiAgICAgKiBgYGBcbiAgICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgICAqL1xuICAgIGlubGluZUltYWdlTGVmdDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIFBhZGRpbmcgYmV0d2VlbiB0aGUgaW5saW5lIGltYWdlLCBpZiBhbnksIGFuZCB0aGUgdGV4dCBpbnB1dCBpdHNlbGYuXG4gICAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICAgKi9cbiAgICBpbmxpbmVJbWFnZVBhZGRpbmc6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSB0eXBlcyBvZiBkYXRhIGNvbnZlcnRlZCB0byBjbGlja2FibGUgVVJMcyBpbiB0aGUgdGV4dCBpbnB1dC5cbiAgICAgKiBPbmx5IHZhbGlkIGlmIGBtdWx0aWxpbmU9e3RydWV9YCBhbmQgYGVkaXRhYmxlPXtmYWxzZX1gLlxuICAgICAqIEJ5IGRlZmF1bHQgbm8gZGF0YSB0eXBlcyBhcmUgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHByb3ZpZGUgb25lIHR5cGUgb3IgYW4gYXJyYXkgb2YgbWFueSB0eXBlcy5cbiAgICAgKlxuICAgICAqIFBvc3NpYmxlIHZhbHVlcyBmb3IgYGRhdGFEZXRlY3RvclR5cGVzYCBhcmU6XG4gICAgICpcbiAgICAgKiAtIGAncGhvbmVOdW1iZXInYFxuICAgICAqIC0gYCdsaW5rJ2BcbiAgICAgKiAtIGAnYWRkcmVzcydgXG4gICAgICogLSBgJ2NhbGVuZGFyRXZlbnQnYFxuICAgICAqIC0gYCdub25lJ2BcbiAgICAgKiAtIGAnYWxsJ2BcbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBkYXRhRGV0ZWN0b3JUeXBlczogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMub25lT2YoRGF0YURldGVjdG9yVHlwZXMpLFxuICAgICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKERhdGFEZXRlY3RvclR5cGVzKSksXG4gICAgXSksXG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBjYXJldCBpcyBoaWRkZW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAgICovXG4gICAgY2FyZXRIaWRkZW46IFByb3BUeXBlcy5ib29sLFxuICB9LFxuICBnZXREZWZhdWx0UHJvcHMoKTogT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgYWxsb3dGb250U2NhbGluZzogdHJ1ZSxcbiAgICB9O1xuICB9LFxuICAvKipcbiAgICogYE5hdGl2ZU1ldGhvZHNNaXhpbmAgd2lsbCBsb29rIGZvciB0aGlzIHdoZW4gaW52b2tpbmcgYHNldE5hdGl2ZVByb3BzYC4gV2VcbiAgICogbWFrZSBgdGhpc2AgbG9vayBsaWtlIGFuIGFjdHVhbCBuYXRpdmUgY29tcG9uZW50IGNsYXNzLlxuICAgKi9cbiAgbWl4aW5zOiBbTmF0aXZlTWV0aG9kc01peGluLCBUaW1lck1peGluXSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7bGF5b3V0SGVpZ2h0OiB0aGlzLl9sYXlvdXRIZWlnaHR9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgaW5wdXQgaXMgY3VycmVudGx5IGZvY3VzZWQ7IGBmYWxzZWAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNGb2N1c2VkOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZEZpZWxkKCkgPT09XG4gICAgICBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9pbnB1dFJlZik7XG4gIH0sXG5cbiAgY29udGV4dFR5cGVzOiB7XG4gICAgb25Gb2N1c1JlcXVlc3RlZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZm9jdXNFbWl0dGVyOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihFdmVudEVtaXR0ZXIpLFxuICB9LFxuXG4gIF9pbnB1dFJlZjogKHVuZGVmaW5lZDogYW55KSxcbiAgX2ZvY3VzU3Vic2NyaXB0aW9uOiAodW5kZWZpbmVkOiA/RnVuY3Rpb24pLFxuICBfbGFzdE5hdGl2ZVRleHQ6ICh1bmRlZmluZWQ6ID9zdHJpbmcpLFxuICBfbGFzdE5hdGl2ZVNlbGVjdGlvbjogKHVuZGVmaW5lZDogP1NlbGVjdGlvbiksXG4gIF9sYXlvdXRIZWlnaHQ6ICgtMTogbnVtYmVyKSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fbGFzdE5hdGl2ZVRleHQgPSB0aGlzLnByb3BzLnZhbHVlO1xuICAgIGlmICghdGhpcy5jb250ZXh0LmZvY3VzRW1pdHRlcikge1xuICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZm9jdXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9mb2N1c1N1YnNjcmlwdGlvbiA9IHRoaXMuY29udGV4dC5mb2N1c0VtaXR0ZXIuYWRkTGlzdGVuZXIoXG4gICAgICAnZm9jdXMnLFxuICAgICAgKGVsKSA9PiB7XG4gICAgICAgIGlmICh0aGlzID09PSBlbCkge1xuICAgICAgICAgIHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZm9jdXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNGb2N1c2VkKCkpIHtcbiAgICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICB0aGlzLmNvbnRleHQub25Gb2N1c1JlcXVlc3RlZCh0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2ZvY3VzU3Vic2NyaXB0aW9uICYmIHRoaXMuX2ZvY3VzU3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuICAgIGlmICh0aGlzLmlzRm9jdXNlZCgpKSB7XG4gICAgICB0aGlzLmJsdXIoKTtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0Q2hpbGRDb250ZXh0OiBmdW5jdGlvbigpOiBPYmplY3Qge1xuICAgIHJldHVybiB7aXNJbkFQYXJlbnRUZXh0OiB0cnVlfTtcbiAgfSxcblxuICBjaGlsZENvbnRleHRUeXBlczoge1xuICAgIGlzSW5BUGFyZW50VGV4dDogUHJvcFR5cGVzLmJvb2xcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgdGV4dCBmcm9tIHRoZSBgVGV4dElucHV0YC5cbiAgICovXG4gIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldE5hdGl2ZVByb3BzKHt0ZXh0OiAnJ30pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcklPUygpO1xuICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlckFuZHJvaWQoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2dldFRleHQ6IGZ1bmN0aW9uKCk6ID9zdHJpbmcge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgdGhpcy5wcm9wcy52YWx1ZSA6XG4gICAgICAoXG4gICAgICAgIHR5cGVvZiB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSA6XG4gICAgICAgICcnXG4gICAgICApO1xuICB9LFxuXG4gIF9zZXROYXRpdmVSZWY6IGZ1bmN0aW9uKHJlZjogYW55KSB7XG4gICAgdGhpcy5faW5wdXRSZWYgPSByZWY7XG4gIH0sXG5cbiAgX3JlbmRlcklPUzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRleHRDb250YWluZXI7XG5cbiAgICB2YXIgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKTtcbiAgICBwcm9wcy5zdHlsZSA9IFt0aGlzLnByb3BzLnN0eWxlXTtcblxuICAgIGlmIChwcm9wcy5zZWxlY3Rpb24gJiYgcHJvcHMuc2VsZWN0aW9uLmVuZCA9PSBudWxsKSB7XG4gICAgICBwcm9wcy5zZWxlY3Rpb24gPSB7c3RhcnQ6IHByb3BzLnNlbGVjdGlvbi5zdGFydCwgZW5kOiBwcm9wcy5zZWxlY3Rpb24uc3RhcnR9O1xuICAgIH1cblxuICAgIGlmICghcHJvcHMubXVsdGlsaW5lKSB7XG4gICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBmb3IgKHZhciBwcm9wS2V5IGluIG9ubHlNdWx0aWxpbmUpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcEtleV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICAnVGV4dElucHV0IHByb3AgYCcgKyBwcm9wS2V5ICsgJ2AgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBtdWx0aWxpbmUuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcycsIGVycm9yLnN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRleHRDb250YWluZXIgPVxuICAgICAgICA8UkNUVGV4dEZpZWxkXG4gICAgICAgICAgcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIG9uRm9jdXM9e3RoaXMuX29uRm9jdXN9XG4gICAgICAgICAgb25CbHVyPXt0aGlzLl9vbkJsdXJ9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX29uQ2hhbmdlfVxuICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLl9vblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlcj17ZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWV9XG4gICAgICAgICAgdGV4dD17dGhpcy5fZ2V0VGV4dCgpfVxuICAgICAgICAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICB2YXIgY2hpbGRDb3VudCA9IDA7XG4gICAgICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoKSA9PiArK2NoaWxkQ291bnQpO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhKHByb3BzLnZhbHVlICYmIGNoaWxkQ291bnQpLFxuICAgICAgICAnQ2Fubm90IHNwZWNpZnkgYm90aCB2YWx1ZSBhbmQgY2hpbGRyZW4uJ1xuICAgICAgKTtcbiAgICAgIGlmIChjaGlsZENvdW50ID49IDEpIHtcbiAgICAgICAgY2hpbGRyZW4gPSA8VGV4dCBzdHlsZT17cHJvcHMuc3R5bGV9IGFsbG93Rm9udFNjYWxpbmc9e3Byb3BzLmFsbG93Rm9udFNjYWxpbmd9PntjaGlsZHJlbn08L1RleHQ+O1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLmlucHV0Vmlldykge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbiwgcHJvcHMuaW5wdXRWaWV3XTtcbiAgICAgIH1cbiAgICAgIHByb3BzLnN0eWxlLnVuc2hpZnQoc3R5bGVzLm11bHRpbGluZUlucHV0KTtcbiAgICAgIHRleHRDb250YWluZXIgPVxuICAgICAgICA8UkNUVGV4dFZpZXdcbiAgICAgICAgICByZWY9e3RoaXMuX3NldE5hdGl2ZVJlZn1cbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgICAgIG9uRm9jdXM9e3RoaXMuX29uRm9jdXN9XG4gICAgICAgICAgb25CbHVyPXt0aGlzLl9vbkJsdXJ9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX29uQ2hhbmdlfVxuICAgICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U9e3RoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZX1cbiAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17dGhpcy5fb25TZWxlY3Rpb25DaGFuZ2V9XG4gICAgICAgICAgb25UZXh0SW5wdXQ9e3RoaXMuX29uVGV4dElucHV0fVxuICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlU2hvdWxkU2V0UmVzcG9uZGVyPXtlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZX1cbiAgICAgICAgICB0ZXh0PXt0aGlzLl9nZXRUZXh0KCl9XG4gICAgICAgICAgZGF0YURldGVjdG9yVHlwZXM9e3RoaXMucHJvcHMuZGF0YURldGVjdG9yVHlwZXN9XG4gICAgICAgICAgb25TY3JvbGw9e3RoaXMuX29uU2Nyb2xsfVxuICAgICAgICAvPjtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3VjaGFibGVXaXRob3V0RmVlZGJhY2tcbiAgICAgICAgb25MYXlvdXQ9e3Byb3BzLm9uTGF5b3V0fVxuICAgICAgICBvblByZXNzPXt0aGlzLl9vblByZXNzfVxuICAgICAgICByZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbj17dHJ1ZX1cbiAgICAgICAgYWNjZXNzaWJsZT17cHJvcHMuYWNjZXNzaWJsZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtwcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWx9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM9e3Byb3BzLmFjY2Vzc2liaWxpdHlUcmFpdHN9XG4gICAgICAgIG5hdGl2ZUlEPXt0aGlzLnByb3BzLm5hdGl2ZUlEfVxuICAgICAgICB0ZXN0SUQ9e3Byb3BzLnRlc3RJRH0+XG4gICAgICAgIHt0ZXh0Q29udGFpbmVyfVxuICAgICAgPC9Ub3VjaGFibGVXaXRob3V0RmVlZGJhY2s+XG4gICAgKTtcbiAgfSxcblxuICBfcmVuZGVyQW5kcm9pZDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKTtcbiAgICBwcm9wcy5zdHlsZSA9IHRoaXMucHJvcHMuc3R5bGU7XG4gICAgaWYgKHRoaXMuc3RhdGUubGF5b3V0SGVpZ2h0ID49IDApIHtcbiAgICAgIHByb3BzLnN0eWxlID0gW3Byb3BzLnN0eWxlLCB7aGVpZ2h0OiB0aGlzLnN0YXRlLmxheW91dEhlaWdodH1dO1xuICAgIH1cbiAgICBwcm9wcy5hdXRvQ2FwaXRhbGl6ZSA9XG4gICAgICBVSU1hbmFnZXIuQW5kcm9pZFRleHRJbnB1dC5Db25zdGFudHMuQXV0b0NhcGl0YWxpemF0aW9uVHlwZVtcbiAgICAgICAgcHJvcHMuYXV0b0NhcGl0YWxpemUgfHwgJ3NlbnRlbmNlcydcbiAgICAgIF07XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgdmFyIGNoaWxkQ291bnQgPSAwO1xuICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sICgpID0+ICsrY2hpbGRDb3VudCk7XG4gICAgaW52YXJpYW50KFxuICAgICAgISh0aGlzLnByb3BzLnZhbHVlICYmIGNoaWxkQ291bnQpLFxuICAgICAgJ0Nhbm5vdCBzcGVjaWZ5IGJvdGggdmFsdWUgYW5kIGNoaWxkcmVuLidcbiAgICApO1xuICAgIGlmIChjaGlsZENvdW50ID4gMSkge1xuICAgICAgY2hpbGRyZW4gPSA8VGV4dD57Y2hpbGRyZW59PC9UZXh0PjtcbiAgICB9XG4gICAgaWYgKHByb3BzLnNlbGVjdGlvbiAmJiBwcm9wcy5zZWxlY3Rpb24uZW5kID09IG51bGwpIHtcbiAgICAgIHByb3BzLnNlbGVjdGlvbiA9IHtzdGFydDogcHJvcHMuc2VsZWN0aW9uLnN0YXJ0LCBlbmQ6IHByb3BzLnNlbGVjdGlvbi5zdGFydH07XG4gICAgfVxuICAgIGNvbnN0IHRleHRDb250YWluZXIgPVxuICAgICAgPEFuZHJvaWRUZXh0SW5wdXRcbiAgICAgICAgcmVmPXt0aGlzLl9zZXROYXRpdmVSZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgbW9zdFJlY2VudEV2ZW50Q291bnQ9ezB9XG4gICAgICAgIG9uRm9jdXM9e3RoaXMuX29uRm9jdXN9XG4gICAgICAgIG9uQmx1cj17dGhpcy5fb25CbHVyfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5fb25DaGFuZ2V9XG4gICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U9e3RoaXMuX29uQ29udGVudFNpemVDaGFuZ2V9XG4gICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLl9vblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgb25UZXh0SW5wdXQ9e3RoaXMuX29uVGV4dElucHV0fVxuICAgICAgICB0ZXh0PXt0aGlzLl9nZXRUZXh0KCl9XG4gICAgICAgIGNoaWxkcmVuPXtjaGlsZHJlbn1cbiAgICAgICAgZGlzYWJsZUZ1bGxzY3JlZW5VST17dGhpcy5wcm9wcy5kaXNhYmxlRnVsbHNjcmVlblVJfVxuICAgICAgICB0ZXh0QnJlYWtTdHJhdGVneT17dGhpcy5wcm9wcy50ZXh0QnJlYWtTdHJhdGVneX1cbiAgICAgICAgb25TY3JvbGw9e3RoaXMuX29uU2Nyb2xsfVxuICAgICAgLz47XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFja1xuICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXR9XG4gICAgICAgIG9uUHJlc3M9e3RoaXMuX29uUHJlc3N9XG4gICAgICAgIGFjY2Vzc2libGU9e3RoaXMucHJvcHMuYWNjZXNzaWJsZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGU9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGV9XG4gICAgICAgIG5hdGl2ZUlEPXt0aGlzLnByb3BzLm5hdGl2ZUlEfVxuICAgICAgICB0ZXN0SUQ9e3RoaXMucHJvcHMudGVzdElEfT5cbiAgICAgICAge3RleHRDb250YWluZXJ9XG4gICAgICA8L1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz5cbiAgICApO1xuICB9LFxuXG4gIF9vbkZvY3VzOiBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvblN0YXRlKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbGVjdGlvblN0YXRlLmZvY3VzKCk7XG4gICAgfVxuICB9LFxuXG4gIF9vblByZXNzOiBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lZGl0YWJsZSB8fCB0aGlzLnByb3BzLmVkaXRhYmxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICB9XG4gIH0sXG5cbiAgX29uQ2hhbmdlOiBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcbiAgICAvLyBNYWtlIHN1cmUgdG8gZmlyZSB0aGUgbW9zdFJlY2VudEV2ZW50Q291bnQgZmlyc3Qgc28gaXQgaXMgYWxyZWFkeSBzZXQgb25cbiAgICAvLyBuYXRpdmUgd2hlbiB0aGUgdGV4dCB2YWx1ZSBpcyBzZXQuXG4gICAgaWYgKHRoaXMuX2lucHV0UmVmKSB7XG4gICAgICB0aGlzLl9pbnB1dFJlZi5zZXROYXRpdmVQcm9wcyh7XG4gICAgICAgIG1vc3RSZWNlbnRFdmVudENvdW50OiBldmVudC5uYXRpdmVFdmVudC5ldmVudENvdW50LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHRleHQgPSBldmVudC5uYXRpdmVFdmVudC50ZXh0O1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UgJiYgdGhpcy5wcm9wcy5vbkNoYW5nZShldmVudCk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZVRleHQgJiYgdGhpcy5wcm9wcy5vbkNoYW5nZVRleHQodGV4dCk7XG5cbiAgICBpZiAoIXRoaXMuX2lucHV0UmVmKSB7XG4gICAgICAvLyBjYWxsaW5nIGB0aGlzLnByb3BzLm9uQ2hhbmdlYCBvciBgdGhpcy5wcm9wcy5vbkNoYW5nZVRleHRgXG4gICAgICAvLyBtYXkgY2xlYW4gdXAgdGhlIGlucHV0IGl0c2VsZi4gRXhpdHMgaGVyZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXN0TmF0aXZlVGV4dCA9IHRleHQ7XG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICB9LFxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlOiBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcbiAgICBsZXQgY29udGVudEhlaWdodCA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplLmhlaWdodDtcbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvR3Jvdykge1xuICAgICAgaWYgKHRoaXMucHJvcHMubWF4SGVpZ2h0KSB7XG4gICAgICAgIGNvbnRlbnRIZWlnaHQgPSBNYXRoLm1pbih0aGlzLnByb3BzLm1heEhlaWdodCwgY29udGVudEhlaWdodCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IE1hdGgubWF4KHRoaXMuX2xheW91dEhlaWdodCwgY29udGVudEhlaWdodCl9KTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgJiYgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKGV2ZW50KTtcbiAgfSxcblxuICBfb25MYXlvdXQ6IGZ1bmN0aW9uKGV2ZW50OiBFdmVudCkge1xuICAgIGNvbnN0IGhlaWdodCA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dC5oZWlnaHQ7XG4gICAgaWYgKGhlaWdodCkge1xuICAgICAgdGhpcy5fbGF5b3V0SGVpZ2h0ID0gZXZlbnQubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodDtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgfSxcblxuICBfb25TZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25TZWxlY3Rpb25DaGFuZ2UgJiYgdGhpcy5wcm9wcy5vblNlbGVjdGlvbkNoYW5nZShldmVudCk7XG5cbiAgICBpZiAoIXRoaXMuX2lucHV0UmVmKSB7XG4gICAgICAvLyBjYWxsaW5nIGB0aGlzLnByb3BzLm9uU2VsZWN0aW9uQ2hhbmdlYFxuICAgICAgLy8gbWF5IGNsZWFuIHVwIHRoZSBpbnB1dCBpdHNlbGYuIEV4aXRzIGhlcmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbGFzdE5hdGl2ZVNlbGVjdGlvbiA9IGV2ZW50Lm5hdGl2ZUV2ZW50LnNlbGVjdGlvbjtcblxuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbiB8fCB0aGlzLnByb3BzLnNlbGVjdGlvblN0YXRlKSB7XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIGNhc2UgbmF0aXZlIHVwZGF0ZXMgdGhlIHRleHQgYW5kIEpTIGRlY2lkZXNcbiAgICAvLyB0aGF0IHRoZSB1cGRhdGUgc2hvdWxkIGJlIGlnbm9yZWQgYW5kIHdlIHNob3VsZCBzdGljayB3aXRoIHRoZSB2YWx1ZVxuICAgIC8vIHRoYXQgd2UgaGF2ZSBpbiBKUy5cbiAgICBjb25zdCBuYXRpdmVQcm9wcyA9IHt9O1xuXG4gICAgaWYgKHRoaXMuX2xhc3ROYXRpdmVUZXh0ICE9PSB0aGlzLnByb3BzLnZhbHVlICYmIHR5cGVvZiB0aGlzLnByb3BzLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgbmF0aXZlUHJvcHMudGV4dCA9IHRoaXMucHJvcHMudmFsdWU7XG4gICAgfVxuXG4gICAgLy8gU2VsZWN0aW9uIGlzIGFsc28gYSBjb250cm9sbGVkIHByb3AsIGlmIHRoZSBuYXRpdmUgdmFsdWUgZG9lc24ndCBtYXRjaFxuICAgIC8vIEpTLCB1cGRhdGUgdG8gdGhlIEpTIHZhbHVlLlxuICAgIGNvbnN0IHtzZWxlY3Rpb259ID0gdGhpcy5wcm9wcztcbiAgICBpZiAodGhpcy5fbGFzdE5hdGl2ZVNlbGVjdGlvbiAmJiBzZWxlY3Rpb24gJiZcbiAgICAgICAgKHRoaXMuX2xhc3ROYXRpdmVTZWxlY3Rpb24uc3RhcnQgIT09IHNlbGVjdGlvbi5zdGFydCB8fFxuICAgICAgICB0aGlzLl9sYXN0TmF0aXZlU2VsZWN0aW9uLmVuZCAhPT0gc2VsZWN0aW9uLmVuZCkpIHtcbiAgICAgIG5hdGl2ZVByb3BzLnNlbGVjdGlvbiA9IHRoaXMucHJvcHMuc2VsZWN0aW9uO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhuYXRpdmVQcm9wcykubGVuZ3RoID4gMCAmJiB0aGlzLl9pbnB1dFJlZikge1xuICAgICAgdGhpcy5faW5wdXRSZWYuc2V0TmF0aXZlUHJvcHMobmF0aXZlUHJvcHMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvblN0YXRlICYmIHNlbGVjdGlvbikge1xuICAgICAgdGhpcy5wcm9wcy5zZWxlY3Rpb25TdGF0ZS51cGRhdGUoc2VsZWN0aW9uLnN0YXJ0LCBzZWxlY3Rpb24uZW5kKTtcbiAgICB9XG4gIH0sXG5cbiAgX29uQmx1cjogZnVuY3Rpb24oZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5ibHVyKCk7XG4gICAgaWYgKHRoaXMucHJvcHMub25CbHVyKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQmx1cihldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uU3RhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uU3RhdGUuYmx1cigpO1xuICAgIH1cbiAgfSxcblxuICBfb25UZXh0SW5wdXQ6IGZ1bmN0aW9uKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25UZXh0SW5wdXQgJiYgdGhpcy5wcm9wcy5vblRleHRJbnB1dChldmVudCk7XG4gIH0sXG5cbiAgX29uU2Nyb2xsOiBmdW5jdGlvbihldmVudDogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmIHRoaXMucHJvcHMub25TY3JvbGwoZXZlbnQpO1xuICB9LFxufSk7XG5cbnZhciBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIG11bHRpbGluZUlucHV0OiB7XG4gICAgLy8gVGhpcyBkZWZhdWx0IHRvcCBpbnNldCBtYWtlcyBSQ1RUZXh0VmlldyBzZWVtIGFzIGNsb3NlIGFzIHBvc3NpYmxlXG4gICAgLy8gdG8gc2luZ2xlLWxpbmUgUkNUVGV4dEZpZWxkIGRlZmF1bHRzLCB1c2luZyB0aGUgc3lzdGVtIGRlZmF1bHRzXG4gICAgLy8gb2YgZm9udCBzaXplIDE3IGFuZCBhIGhlaWdodCBvZiAzMSBwb2ludHMuXG4gICAgcGFkZGluZ1RvcDogNSxcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHRJbnB1dDtcbiJdfQ==
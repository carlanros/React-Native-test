fbe4eece61b66e0be292db08fac71f88
Object.defineProperty(exports,"__esModule",{value:true});exports.ITERATOR_SYMBOL=undefined;var _typeof=typeof Symbol==="function"&&typeof(typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof obj;};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if((typeof Symbol==="function"?Symbol.iterator:"@@iterator")in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();exports.getAdapter=getAdapter;exports.makeOptions=makeOptions;exports.isCustomComponentElement=isCustomComponentElement;exports.propsOfNode=propsOfNode;exports.typeOfNode=typeOfNode;exports.nodeHasType=nodeHasType;exports.nodeMatches=nodeMatches;exports.nodeEqual=nodeEqual;exports.containsChildrenSubArray=containsChildrenSubArray;exports.childrenToSimplifiedArray=childrenToSimplifiedArray;exports.isReactElementAlike=isReactElementAlike;exports.withSetStateAllowed=withSetStateAllowed;exports.AND=AND;exports.displayNameOfNode=displayNameOfNode;exports.sym=sym;exports.privateSet=privateSet;exports.cloneElement=cloneElement;var _object=require("object.assign");var _object2=_interopRequireDefault(_object);var _isEqual=require("lodash/isEqual");var _isEqual2=_interopRequireDefault(_isEqual);var _objectIs=require("object-is");var _objectIs2=_interopRequireDefault(_objectIs);var _object3=require("object.entries");var _object4=_interopRequireDefault(_object3);var _functionPrototype=require("function.prototype.name");var _functionPrototype2=_interopRequireDefault(_functionPrototype);var _configuration=require('./configuration');var _configuration2=_interopRequireDefault(_configuration);var _validateAdapter=require('./validateAdapter');var _validateAdapter2=_interopRequireDefault(_validateAdapter);var _RSTTraversal=require('./RSTTraversal');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var ITERATOR_SYMBOL=exports.ITERATOR_SYMBOL=typeof Symbol==='function'&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator");function getAdapter(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(options.adapter){(0,_validateAdapter2['default'])(options.adapter);return options.adapter;}var _configuration$get=_configuration2['default'].get(),adapter=_configuration$get.adapter;(0,_validateAdapter2['default'])(adapter);return adapter;}function makeOptions(options){return(0,_object2['default'])({},_configuration2['default'].get(),options);}function isCustomComponentElement(inst,adapter){return!!inst&&adapter.isValidElement(inst)&&typeof inst.type==='function';}function propsOfNode(node){return(0,_object4['default'])(node&&node.props||{}).filter(function(_ref){var _ref2=_slicedToArray(_ref,2),value=_ref2[1];return typeof value!=='undefined';}).reduce(function(acc,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return(0,_object2['default'])(acc,_defineProperty({},key,value));},{});}function typeOfNode(node){return node?node.type:null;}function nodeHasType(node,type){if(!type||!node)return false;if(!node.type)return false;if(typeof node.type==='string')return node.type===type;return(typeof node.type==='function'?(0,_functionPrototype2['default'])(node.type)===type:node.type.name===type)||node.type.displayName===type;}function internalChildrenCompare(a,b,lenComp,isLoose){var nodeCompare=isLoose?nodeMatches:nodeEqual;if(a===b)return true;if(!Array.isArray(a)&&!Array.isArray(b)){return nodeCompare(a,b,lenComp);}if(!a&&!b)return true;if(a.length!==b.length)return false;if(a.length===0&&b.length===0)return true;for(var i=0;i<a.length;i+=1){if(!nodeCompare(a[i],b[i],lenComp))return false;}return true;}function childrenMatch(a,b,lenComp){return internalChildrenCompare(a,b,lenComp,true);}function childrenEqual(a,b,lenComp){return internalChildrenCompare(a,b,lenComp,false);}function removeNullaryReducer(acc,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];var addition=value==null?{}:_defineProperty({},key,value);return(0,_object2['default'])({},acc,addition);}function internalNodeCompare(a,b,lenComp,isLoose){if(a===b)return true;if(!a||!b)return false;if(a.type!==b.type)return false;var left=propsOfNode(a);var right=propsOfNode(b);if(isLoose){left=(0,_object4['default'])(left).reduce(removeNullaryReducer,{});right=(0,_object4['default'])(right).reduce(removeNullaryReducer,{});}var leftKeys=Object.keys(left);for(var i=0;i<leftKeys.length;i+=1){var prop=leftKeys[i];if(prop==='children'){}else if(!(prop in right)){return false;}else if(right[prop]===left[prop]){}else if(_typeof(right[prop])===_typeof(left[prop])&&_typeof(left[prop])==='object'){if(!(0,_isEqual2['default'])(left[prop],right[prop]))return false;}else{return false;}}var leftHasChildren='children'in left;var rightHasChildren='children'in right;var childCompare=isLoose?childrenMatch:childrenEqual;if(leftHasChildren||rightHasChildren){if(!childCompare(childrenToSimplifiedArray(left.children),childrenToSimplifiedArray(right.children),lenComp)){return false;}}if(!isTextualNode(a)){var rightKeys=Object.keys(right);return lenComp(leftKeys.length-leftHasChildren,rightKeys.length-rightHasChildren);}return false;}function nodeMatches(a,b){var lenComp=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_objectIs2['default'];return internalNodeCompare(a,b,lenComp,true);}function nodeEqual(a,b){var lenComp=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_objectIs2['default'];return internalNodeCompare(a,b,lenComp,false);}function containsChildrenSubArray(match,node,subArray){var children=(0,_RSTTraversal.childrenOfNode)(node);var checker=function checker(_,i){return arraysEqual(match,children.slice(i,i+subArray.length),subArray);};return children.some(checker);}function arraysEqual(match,left,right){return left.length===right.length&&left.every(function(el,i){return match(el,right[i]);});}function childrenToArray(children){var result=[];var push=function push(el){if(el===null||el===false||typeof el==='undefined')return;result.push(el);};if(Array.isArray(children)){children.forEach(push);}else{push(children);}return result;}function childrenToSimplifiedArray(nodeChildren){var childrenArray=childrenToArray(nodeChildren);var simplifiedArray=[];for(var i=0;i<childrenArray.length;i+=1){var child=childrenArray[i];var previousChild=simplifiedArray.pop();if(typeof previousChild==='undefined'){simplifiedArray.push(child);}else if(isTextualNode(child)&&isTextualNode(previousChild)){simplifiedArray.push(previousChild+child);}else{simplifiedArray.push(previousChild);simplifiedArray.push(child);}}return simplifiedArray;}function isTextualNode(node){return typeof node==='string'||typeof node==='number';}function isReactElementAlike(arg,adapter){return adapter.isValidElement(arg)||isTextualNode(arg)||Array.isArray(arg);}function withSetStateAllowed(fn){var cleanup=false;if(typeof global.document==='undefined'){cleanup=true;global.document={};}fn();if(cleanup){global.document=undefined;delete global.document;}}function AND(fns){var fnsReversed=fns.slice().reverse();return function(x){return fnsReversed.every(function(fn){return fn(x);});};}function displayNameOfNode(node){if(!node)return null;var type=node.type;if(!type)return null;return type.displayName||(typeof type==='function'?(0,_functionPrototype2['default'])(type):type.name||type);}function sym(s){return typeof Symbol==='function'?Symbol['for']('enzyme.'+String(s)):s;}function privateSet(obj,prop,value){Object.defineProperty(obj,prop,{value:value,enumerable:false,writable:true});}function cloneElement(adapter,el,props){return adapter.createElement(el.type,(0,_object2['default'])({},el.props,props));}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlV0aWxzLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSVRFUkFUT1JfU1lNQk9MIiwidW5kZWZpbmVkIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfc2xpY2VkVG9BcnJheSIsInNsaWNlSXRlcmF0b3IiLCJhcnIiLCJpIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9pIiwiX3MiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJsZW5ndGgiLCJlcnIiLCJBcnJheSIsImlzQXJyYXkiLCJUeXBlRXJyb3IiLCJnZXRBZGFwdGVyIiwibWFrZU9wdGlvbnMiLCJpc0N1c3RvbUNvbXBvbmVudEVsZW1lbnQiLCJwcm9wc09mTm9kZSIsInR5cGVPZk5vZGUiLCJub2RlSGFzVHlwZSIsIm5vZGVNYXRjaGVzIiwibm9kZUVxdWFsIiwiY29udGFpbnNDaGlsZHJlblN1YkFycmF5IiwiY2hpbGRyZW5Ub1NpbXBsaWZpZWRBcnJheSIsImlzUmVhY3RFbGVtZW50QWxpa2UiLCJ3aXRoU2V0U3RhdGVBbGxvd2VkIiwiQU5EIiwiZGlzcGxheU5hbWVPZk5vZGUiLCJzeW0iLCJwcml2YXRlU2V0IiwiY2xvbmVFbGVtZW50IiwiX29iamVjdCIsInJlcXVpcmUiLCJfb2JqZWN0MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaXNFcXVhbCIsIl9pc0VxdWFsMiIsIl9vYmplY3RJcyIsIl9vYmplY3RJczIiLCJfb2JqZWN0MyIsIl9vYmplY3Q0IiwiX2Z1bmN0aW9uUHJvdG90eXBlIiwiX2Z1bmN0aW9uUHJvdG90eXBlMiIsIl9jb25maWd1cmF0aW9uIiwiX2NvbmZpZ3VyYXRpb24yIiwiX3ZhbGlkYXRlQWRhcHRlciIsIl92YWxpZGF0ZUFkYXB0ZXIyIiwiX1JTVFRyYXZlcnNhbCIsIl9fZXNNb2R1bGUiLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwiYWRhcHRlciIsIl9jb25maWd1cmF0aW9uJGdldCIsImdldCIsImluc3QiLCJpc1ZhbGlkRWxlbWVudCIsInR5cGUiLCJub2RlIiwicHJvcHMiLCJmaWx0ZXIiLCJfcmVmIiwiX3JlZjIiLCJyZWR1Y2UiLCJhY2MiLCJfcmVmMyIsIl9yZWY0IiwibmFtZSIsImRpc3BsYXlOYW1lIiwiaW50ZXJuYWxDaGlsZHJlbkNvbXBhcmUiLCJhIiwiYiIsImxlbkNvbXAiLCJpc0xvb3NlIiwibm9kZUNvbXBhcmUiLCJjaGlsZHJlbk1hdGNoIiwiY2hpbGRyZW5FcXVhbCIsInJlbW92ZU51bGxhcnlSZWR1Y2VyIiwiX3JlZjUiLCJfcmVmNiIsImFkZGl0aW9uIiwiaW50ZXJuYWxOb2RlQ29tcGFyZSIsImxlZnQiLCJyaWdodCIsImxlZnRLZXlzIiwia2V5cyIsInByb3AiLCJsZWZ0SGFzQ2hpbGRyZW4iLCJyaWdodEhhc0NoaWxkcmVuIiwiY2hpbGRDb21wYXJlIiwiY2hpbGRyZW4iLCJpc1RleHR1YWxOb2RlIiwicmlnaHRLZXlzIiwibWF0Y2giLCJzdWJBcnJheSIsImNoaWxkcmVuT2ZOb2RlIiwiY2hlY2tlciIsIl8iLCJhcnJheXNFcXVhbCIsInNsaWNlIiwic29tZSIsImV2ZXJ5IiwiZWwiLCJjaGlsZHJlblRvQXJyYXkiLCJyZXN1bHQiLCJmb3JFYWNoIiwibm9kZUNoaWxkcmVuIiwiY2hpbGRyZW5BcnJheSIsInNpbXBsaWZpZWRBcnJheSIsImNoaWxkIiwicHJldmlvdXNDaGlsZCIsInBvcCIsImFyZyIsImZuIiwiY2xlYW51cCIsImdsb2JhbCIsImRvY3VtZW50IiwiZm5zIiwiZm5zUmV2ZXJzZWQiLCJyZXZlcnNlIiwieCIsInMiLCJTdHJpbmciLCJjcmVhdGVFbGVtZW50Il0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsQ0FBK0IsWUFBL0IsQ0FBNkMsQ0FDM0ND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QUtELENBRUQsUUFBU3ZCLGFBQVQsQ0FBc0IwQixPQUF0QixDQUErQmtELEVBQS9CLENBQW1DM0MsS0FBbkMsQ0FBMEMsQ0FDeEMsTUFBT1AsU0FBUXVFLGFBQVIsQ0FBc0JyQixHQUFHN0MsSUFBekIsQ0FBK0IsQ0FBQyxFQUFHNUIsU0FBUyxTQUFULENBQUosRUFBeUIsRUFBekIsQ0FBNkJ5RSxHQUFHM0MsS0FBaEMsQ0FBdUNBLEtBQXZDLENBQS9CLENBQVAsQ0FDRCIsImZpbGUiOiJVdGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLklURVJBVE9SX1NZTUJPTCA9IHVuZGVmaW5lZDtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7IC8qIGVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogMCAqL1xuXG5cbmV4cG9ydHMuZ2V0QWRhcHRlciA9IGdldEFkYXB0ZXI7XG5leHBvcnRzLm1ha2VPcHRpb25zID0gbWFrZU9wdGlvbnM7XG5leHBvcnRzLmlzQ3VzdG9tQ29tcG9uZW50RWxlbWVudCA9IGlzQ3VzdG9tQ29tcG9uZW50RWxlbWVudDtcbmV4cG9ydHMucHJvcHNPZk5vZGUgPSBwcm9wc09mTm9kZTtcbmV4cG9ydHMudHlwZU9mTm9kZSA9IHR5cGVPZk5vZGU7XG5leHBvcnRzLm5vZGVIYXNUeXBlID0gbm9kZUhhc1R5cGU7XG5leHBvcnRzLm5vZGVNYXRjaGVzID0gbm9kZU1hdGNoZXM7XG5leHBvcnRzLm5vZGVFcXVhbCA9IG5vZGVFcXVhbDtcbmV4cG9ydHMuY29udGFpbnNDaGlsZHJlblN1YkFycmF5ID0gY29udGFpbnNDaGlsZHJlblN1YkFycmF5O1xuZXhwb3J0cy5jaGlsZHJlblRvU2ltcGxpZmllZEFycmF5ID0gY2hpbGRyZW5Ub1NpbXBsaWZpZWRBcnJheTtcbmV4cG9ydHMuaXNSZWFjdEVsZW1lbnRBbGlrZSA9IGlzUmVhY3RFbGVtZW50QWxpa2U7XG5leHBvcnRzLndpdGhTZXRTdGF0ZUFsbG93ZWQgPSB3aXRoU2V0U3RhdGVBbGxvd2VkO1xuZXhwb3J0cy5BTkQgPSBBTkQ7XG5leHBvcnRzLmRpc3BsYXlOYW1lT2ZOb2RlID0gZGlzcGxheU5hbWVPZk5vZGU7XG5leHBvcnRzLnN5bSA9IHN5bTtcbmV4cG9ydHMucHJpdmF0ZVNldCA9IHByaXZhdGVTZXQ7XG5leHBvcnRzLmNsb25lRWxlbWVudCA9IGNsb25lRWxlbWVudDtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfaXNFcXVhbCA9IHJlcXVpcmUoJ2xvZGFzaC9pc0VxdWFsJyk7XG5cbnZhciBfaXNFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0VxdWFsKTtcblxudmFyIF9vYmplY3RJcyA9IHJlcXVpcmUoJ29iamVjdC1pcycpO1xuXG52YXIgX29iamVjdElzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdElzKTtcblxudmFyIF9vYmplY3QzID0gcmVxdWlyZSgnb2JqZWN0LmVudHJpZXMnKTtcblxudmFyIF9vYmplY3Q0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0Myk7XG5cbnZhciBfZnVuY3Rpb25Qcm90b3R5cGUgPSByZXF1aXJlKCdmdW5jdGlvbi5wcm90b3R5cGUubmFtZScpO1xuXG52YXIgX2Z1bmN0aW9uUHJvdG90eXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z1bmN0aW9uUHJvdG90eXBlKTtcblxudmFyIF9jb25maWd1cmF0aW9uID0gcmVxdWlyZSgnLi9jb25maWd1cmF0aW9uJyk7XG5cbnZhciBfY29uZmlndXJhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maWd1cmF0aW9uKTtcblxudmFyIF92YWxpZGF0ZUFkYXB0ZXIgPSByZXF1aXJlKCcuL3ZhbGlkYXRlQWRhcHRlcicpO1xuXG52YXIgX3ZhbGlkYXRlQWRhcHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWxpZGF0ZUFkYXB0ZXIpO1xuXG52YXIgX1JTVFRyYXZlcnNhbCA9IHJlcXVpcmUoJy4vUlNUVHJhdmVyc2FsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIElURVJBVE9SX1NZTUJPTCA9IGV4cG9ydHMuSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG5cbmZ1bmN0aW9uIGdldEFkYXB0ZXIoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBpZiAob3B0aW9ucy5hZGFwdGVyKSB7XG4gICAgKDAsIF92YWxpZGF0ZUFkYXB0ZXIyWydkZWZhdWx0J10pKG9wdGlvbnMuYWRhcHRlcik7XG4gICAgcmV0dXJuIG9wdGlvbnMuYWRhcHRlcjtcbiAgfVxuXG4gIHZhciBfY29uZmlndXJhdGlvbiRnZXQgPSBfY29uZmlndXJhdGlvbjJbJ2RlZmF1bHQnXS5nZXQoKSxcbiAgICAgIGFkYXB0ZXIgPSBfY29uZmlndXJhdGlvbiRnZXQuYWRhcHRlcjtcblxuICAoMCwgX3ZhbGlkYXRlQWRhcHRlcjJbJ2RlZmF1bHQnXSkoYWRhcHRlcik7XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG5mdW5jdGlvbiBtYWtlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF9jb25maWd1cmF0aW9uMlsnZGVmYXVsdCddLmdldCgpLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gaXNDdXN0b21Db21wb25lbnRFbGVtZW50KGluc3QsIGFkYXB0ZXIpIHtcbiAgcmV0dXJuICEhaW5zdCAmJiBhZGFwdGVyLmlzVmFsaWRFbGVtZW50KGluc3QpICYmIHR5cGVvZiBpbnN0LnR5cGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIHByb3BzT2ZOb2RlKG5vZGUpIHtcbiAgcmV0dXJuICgwLCBfb2JqZWN0NFsnZGVmYXVsdCddKShub2RlICYmIG5vZGUucHJvcHMgfHwge30pLmZpbHRlcihmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xuXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfcmVmMykge1xuICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSxcbiAgICAgICAga2V5ID0gX3JlZjRbMF0sXG4gICAgICAgIHZhbHVlID0gX3JlZjRbMV07XG5cbiAgICByZXR1cm4gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKGFjYywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbHVlKSk7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gdHlwZU9mTm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlID8gbm9kZS50eXBlIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9kZUhhc1R5cGUobm9kZSwgdHlwZSkge1xuICBpZiAoIXR5cGUgfHwgIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgaWYgKCFub2RlLnR5cGUpIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBub2RlLnR5cGUgPT09ICdzdHJpbmcnKSByZXR1cm4gbm9kZS50eXBlID09PSB0eXBlO1xuICByZXR1cm4gKHR5cGVvZiBub2RlLnR5cGUgPT09ICdmdW5jdGlvbicgPyAoMCwgX2Z1bmN0aW9uUHJvdG90eXBlMlsnZGVmYXVsdCddKShub2RlLnR5cGUpID09PSB0eXBlIDogbm9kZS50eXBlLm5hbWUgPT09IHR5cGUpIHx8IG5vZGUudHlwZS5kaXNwbGF5TmFtZSA9PT0gdHlwZTtcbn1cblxuZnVuY3Rpb24gaW50ZXJuYWxDaGlsZHJlbkNvbXBhcmUoYSwgYiwgbGVuQ29tcCwgaXNMb29zZSkge1xuICB2YXIgbm9kZUNvbXBhcmUgPSBpc0xvb3NlID8gbm9kZU1hdGNoZXMgOiBub2RlRXF1YWw7XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYSkgJiYgIUFycmF5LmlzQXJyYXkoYikpIHtcbiAgICByZXR1cm4gbm9kZUNvbXBhcmUoYSwgYiwgbGVuQ29tcCk7XG4gIH1cbiAgaWYgKCFhICYmICFiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoYS5sZW5ndGggPT09IDAgJiYgYi5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoIW5vZGVDb21wYXJlKGFbaV0sIGJbaV0sIGxlbkNvbXApKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuTWF0Y2goYSwgYiwgbGVuQ29tcCkge1xuICByZXR1cm4gaW50ZXJuYWxDaGlsZHJlbkNvbXBhcmUoYSwgYiwgbGVuQ29tcCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRXF1YWwoYSwgYiwgbGVuQ29tcCkge1xuICByZXR1cm4gaW50ZXJuYWxDaGlsZHJlbkNvbXBhcmUoYSwgYiwgbGVuQ29tcCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOdWxsYXJ5UmVkdWNlcihhY2MsIF9yZWY1KSB7XG4gIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAyKSxcbiAgICAgIGtleSA9IF9yZWY2WzBdLFxuICAgICAgdmFsdWUgPSBfcmVmNlsxXTtcblxuICB2YXIgYWRkaXRpb24gPSB2YWx1ZSA9PSBudWxsID8ge30gOiBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgdmFsdWUpO1xuICByZXR1cm4gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBhY2MsIGFkZGl0aW9uKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJuYWxOb2RlQ29tcGFyZShhLCBiLCBsZW5Db21wLCBpc0xvb3NlKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gZmFsc2U7XG4gIGlmIChhLnR5cGUgIT09IGIudHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsZWZ0ID0gcHJvcHNPZk5vZGUoYSk7XG4gIHZhciByaWdodCA9IHByb3BzT2ZOb2RlKGIpO1xuICBpZiAoaXNMb29zZSkge1xuICAgIGxlZnQgPSAoMCwgX29iamVjdDRbJ2RlZmF1bHQnXSkobGVmdCkucmVkdWNlKHJlbW92ZU51bGxhcnlSZWR1Y2VyLCB7fSk7XG4gICAgcmlnaHQgPSAoMCwgX29iamVjdDRbJ2RlZmF1bHQnXSkocmlnaHQpLnJlZHVjZShyZW1vdmVOdWxsYXJ5UmVkdWNlciwge30pO1xuICB9XG5cbiAgdmFyIGxlZnRLZXlzID0gT2JqZWN0LmtleXMobGVmdCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVmdEtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB2YXIgcHJvcCA9IGxlZnRLZXlzW2ldO1xuICAgIC8vIHdlIHdpbGwgY2hlY2sgY2hpbGRyZW4gbGF0ZXJcbiAgICBpZiAocHJvcCA9PT0gJ2NoaWxkcmVuJykge1xuICAgICAgLy8gY29udGludWU7XG4gICAgfSBlbHNlIGlmICghKHByb3AgaW4gcmlnaHQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChyaWdodFtwcm9wXSA9PT0gbGVmdFtwcm9wXSkge1xuICAgICAgLy8gY29udGludWU7XG4gICAgfSBlbHNlIGlmIChfdHlwZW9mKHJpZ2h0W3Byb3BdKSA9PT0gX3R5cGVvZihsZWZ0W3Byb3BdKSAmJiBfdHlwZW9mKGxlZnRbcHJvcF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKCEoMCwgX2lzRXF1YWwyWydkZWZhdWx0J10pKGxlZnRbcHJvcF0sIHJpZ2h0W3Byb3BdKSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxlZnRIYXNDaGlsZHJlbiA9ICdjaGlsZHJlbicgaW4gbGVmdDtcbiAgdmFyIHJpZ2h0SGFzQ2hpbGRyZW4gPSAnY2hpbGRyZW4nIGluIHJpZ2h0O1xuICB2YXIgY2hpbGRDb21wYXJlID0gaXNMb29zZSA/IGNoaWxkcmVuTWF0Y2ggOiBjaGlsZHJlbkVxdWFsO1xuICBpZiAobGVmdEhhc0NoaWxkcmVuIHx8IHJpZ2h0SGFzQ2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkQ29tcGFyZShjaGlsZHJlblRvU2ltcGxpZmllZEFycmF5KGxlZnQuY2hpbGRyZW4pLCBjaGlsZHJlblRvU2ltcGxpZmllZEFycmF5KHJpZ2h0LmNoaWxkcmVuKSwgbGVuQ29tcCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWlzVGV4dHVhbE5vZGUoYSkpIHtcbiAgICB2YXIgcmlnaHRLZXlzID0gT2JqZWN0LmtleXMocmlnaHQpO1xuICAgIHJldHVybiBsZW5Db21wKGxlZnRLZXlzLmxlbmd0aCAtIGxlZnRIYXNDaGlsZHJlbiwgcmlnaHRLZXlzLmxlbmd0aCAtIHJpZ2h0SGFzQ2hpbGRyZW4pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBub2RlTWF0Y2hlcyhhLCBiKSB7XG4gIHZhciBsZW5Db21wID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfb2JqZWN0SXMyWydkZWZhdWx0J107XG5cbiAgcmV0dXJuIGludGVybmFsTm9kZUNvbXBhcmUoYSwgYiwgbGVuQ29tcCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIG5vZGVFcXVhbChhLCBiKSB7XG4gIHZhciBsZW5Db21wID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfb2JqZWN0SXMyWydkZWZhdWx0J107XG5cbiAgcmV0dXJuIGludGVybmFsTm9kZUNvbXBhcmUoYSwgYiwgbGVuQ29tcCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBjb250YWluc0NoaWxkcmVuU3ViQXJyYXkobWF0Y2gsIG5vZGUsIHN1YkFycmF5KSB7XG4gIHZhciBjaGlsZHJlbiA9ICgwLCBfUlNUVHJhdmVyc2FsLmNoaWxkcmVuT2ZOb2RlKShub2RlKTtcbiAgdmFyIGNoZWNrZXIgPSBmdW5jdGlvbiBjaGVja2VyKF8sIGkpIHtcbiAgICByZXR1cm4gYXJyYXlzRXF1YWwobWF0Y2gsIGNoaWxkcmVuLnNsaWNlKGksIGkgKyBzdWJBcnJheS5sZW5ndGgpLCBzdWJBcnJheSk7XG4gIH07XG4gIHJldHVybiBjaGlsZHJlbi5zb21lKGNoZWNrZXIpO1xufVxuXG5mdW5jdGlvbiBhcnJheXNFcXVhbChtYXRjaCwgbGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQubGVuZ3RoID09PSByaWdodC5sZW5ndGggJiYgbGVmdC5ldmVyeShmdW5jdGlvbiAoZWwsIGkpIHtcbiAgICByZXR1cm4gbWF0Y2goZWwsIHJpZ2h0W2ldKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuVG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKGVsKSB7XG4gICAgaWYgKGVsID09PSBudWxsIHx8IGVsID09PSBmYWxzZSB8fCB0eXBlb2YgZWwgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgcmVzdWx0LnB1c2goZWwpO1xuICB9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGNoaWxkcmVuLmZvckVhY2gocHVzaCk7XG4gIH0gZWxzZSB7XG4gICAgcHVzaChjaGlsZHJlbik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5Ub1NpbXBsaWZpZWRBcnJheShub2RlQ2hpbGRyZW4pIHtcbiAgdmFyIGNoaWxkcmVuQXJyYXkgPSBjaGlsZHJlblRvQXJyYXkobm9kZUNoaWxkcmVuKTtcbiAgdmFyIHNpbXBsaWZpZWRBcnJheSA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5BcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuQXJyYXlbaV07XG4gICAgdmFyIHByZXZpb3VzQ2hpbGQgPSBzaW1wbGlmaWVkQXJyYXkucG9wKCk7XG5cbiAgICBpZiAodHlwZW9mIHByZXZpb3VzQ2hpbGQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzaW1wbGlmaWVkQXJyYXkucHVzaChjaGlsZCk7XG4gICAgfSBlbHNlIGlmIChpc1RleHR1YWxOb2RlKGNoaWxkKSAmJiBpc1RleHR1YWxOb2RlKHByZXZpb3VzQ2hpbGQpKSB7XG4gICAgICBzaW1wbGlmaWVkQXJyYXkucHVzaChwcmV2aW91c0NoaWxkICsgY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaW1wbGlmaWVkQXJyYXkucHVzaChwcmV2aW91c0NoaWxkKTtcbiAgICAgIHNpbXBsaWZpZWRBcnJheS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2ltcGxpZmllZEFycmF5O1xufVxuXG5mdW5jdGlvbiBpc1RleHR1YWxOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBub2RlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50QWxpa2UoYXJnLCBhZGFwdGVyKSB7XG4gIHJldHVybiBhZGFwdGVyLmlzVmFsaWRFbGVtZW50KGFyZykgfHwgaXNUZXh0dWFsTm9kZShhcmcpIHx8IEFycmF5LmlzQXJyYXkoYXJnKTtcbn1cblxuLy8gVE9ETyhsbXIpOiBjYW4gd2UgZ2V0IHJpZCBvZiB0aGlzIG91dHNpZGUgb2YgdGhlIGFkYXB0ZXI/XG5mdW5jdGlvbiB3aXRoU2V0U3RhdGVBbGxvd2VkKGZuKSB7XG4gIC8vIE5PVEUobG1yKTpcbiAgLy8gdGhpcyBpcyBjdXJyZW50bHkgaGVyZSB0byBjaXJjdW12ZW50IGEgUmVhY3QgYnVnIHdoZXJlIGBzZXRTdGF0ZSgpYCBpc1xuICAvLyBub3QgYWxsb3dlZCB3aXRob3V0IGdsb2JhbCBiZWluZyBkZWZpbmVkLlxuICB2YXIgY2xlYW51cCA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGdsb2JhbC5kb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjbGVhbnVwID0gdHJ1ZTtcbiAgICBnbG9iYWwuZG9jdW1lbnQgPSB7fTtcbiAgfVxuICBmbigpO1xuICBpZiAoY2xlYW51cCkge1xuICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIGEgYnVnIGluIG5vZGUvamVzdCBpbiB0aGF0IGRldmVsb3BlcnMgYXJlbid0IGFibGUgdG9cbiAgICAvLyBkZWxldGUgdGhpbmdzIGZyb20gZ2xvYmFsIHdoZW4gcnVubmluZyBpbiBhIG5vZGUgdm0uXG4gICAgZ2xvYmFsLmRvY3VtZW50ID0gdW5kZWZpbmVkO1xuICAgIGRlbGV0ZSBnbG9iYWwuZG9jdW1lbnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gQU5EKGZucykge1xuICB2YXIgZm5zUmV2ZXJzZWQgPSBmbnMuc2xpY2UoKS5yZXZlcnNlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBmbnNSZXZlcnNlZC5ldmVyeShmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmbih4KTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheU5hbWVPZk5vZGUobm9kZSkge1xuICBpZiAoIW5vZGUpIHJldHVybiBudWxsO1xuXG4gIHZhciB0eXBlID0gbm9kZS50eXBlO1xuXG5cbiAgaWYgKCF0eXBlKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyAoMCwgX2Z1bmN0aW9uUHJvdG90eXBlMlsnZGVmYXVsdCddKSh0eXBlKSA6IHR5cGUubmFtZSB8fCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gc3ltKHMpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgPyBTeW1ib2xbJ2ZvciddKCdlbnp5bWUuJyArIFN0cmluZyhzKSkgOiBzO1xufVxuXG5mdW5jdGlvbiBwcml2YXRlU2V0KG9iaiwgcHJvcCwgdmFsdWUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2xvbmVFbGVtZW50KGFkYXB0ZXIsIGVsLCBwcm9wcykge1xuICByZXR1cm4gYWRhcHRlci5jcmVhdGVFbGVtZW50KGVsLnR5cGUsICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgZWwucHJvcHMsIHByb3BzKSk7XG59Il19
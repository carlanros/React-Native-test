37eeb73b5e5f07c881ca5f7587edb184
'use strict';var EdgeInsetsPropType=require('EdgeInsetsPropType');var React=require('React');var PropTypes=require('prop-types');var TimerMixin=require('react-timer-mixin');var Touchable=require('Touchable');var createReactClass=require('create-react-class');var ensurePositiveDelayProps=require('ensurePositiveDelayProps');var warning=require('fbjs/lib/warning');var _require=require('ViewAccessibility'),AccessibilityComponentTypes=_require.AccessibilityComponentTypes,AccessibilityTraits=_require.AccessibilityTraits;var PRESS_RETENTION_OFFSET={top:20,left:20,right:20,bottom:30};var TouchableWithoutFeedback=createReactClass({displayName:'TouchableWithoutFeedback',mixins:[TimerMixin,Touchable.Mixin],propTypes:{accessible:PropTypes.bool,accessibilityComponentType:PropTypes.oneOf(AccessibilityComponentTypes),accessibilityTraits:PropTypes.oneOfType([PropTypes.oneOf(AccessibilityTraits),PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits))]),disabled:PropTypes.bool,onPress:PropTypes.func,onPressIn:PropTypes.func,onPressOut:PropTypes.func,onLayout:PropTypes.func,onLongPress:PropTypes.func,delayPressIn:PropTypes.number,delayPressOut:PropTypes.number,delayLongPress:PropTypes.number,pressRetentionOffset:EdgeInsetsPropType,hitSlop:EdgeInsetsPropType},getInitialState:function getInitialState(){return this.touchableGetInitialState();},componentDidMount:function componentDidMount(){ensurePositiveDelayProps(this.props);},componentWillReceiveProps:function componentWillReceiveProps(nextProps){ensurePositiveDelayProps(nextProps);},touchableHandlePress:function touchableHandlePress(e){this.props.onPress&&this.props.onPress(e);},touchableHandleActivePressIn:function touchableHandleActivePressIn(e){this.props.onPressIn&&this.props.onPressIn(e);},touchableHandleActivePressOut:function touchableHandleActivePressOut(e){this.props.onPressOut&&this.props.onPressOut(e);},touchableHandleLongPress:function touchableHandleLongPress(e){this.props.onLongPress&&this.props.onLongPress(e);},touchableGetPressRectOffset:function touchableGetPressRectOffset(){return this.props.pressRetentionOffset||PRESS_RETENTION_OFFSET;},touchableGetHitSlop:function touchableGetHitSlop(){return this.props.hitSlop;},touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){return this.props.delayPressIn||0;},touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){return this.props.delayLongPress===0?0:this.props.delayLongPress||500;},touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){return this.props.delayPressOut||0;},render:function render(){var child=React.Children.only(this.props.children);var children=child.props.children;warning(!child.type||child.type.displayName!=='Text','TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See '+(child._owner&&child._owner.getName&&child._owner.getName()||'<unknown>'));if(Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='View'){children=React.Children.toArray(children);children.push(Touchable.renderDebugView({color:'red',hitSlop:this.props.hitSlop}));}var style=Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='Text'?[child.props.style,{color:'red'}]:child.props.style;return React.cloneElement(child,{accessible:this.props.accessible!==false,accessibilityLabel:this.props.accessibilityLabel,accessibilityComponentType:this.props.accessibilityComponentType,accessibilityTraits:this.props.accessibilityTraits,nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,style:style,children:children});}});module.exports=TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJuYW1lcyI6WyJFZGdlSW5zZXRzUHJvcFR5cGUiLCJyZXF1aXJlIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJUaW1lck1peGluIiwiVG91Y2hhYmxlIiwiY3JlYXRlUmVhY3RDbGFzcyIsImVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyIsIndhcm5pbmciLCJBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXMiLCJBY2Nlc3NpYmlsaXR5VHJhaXRzIiwiUFJFU1NfUkVURU5USU9OX09GRlNFVCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayIsImRpc3BsYXlOYW1lIiwibWl4aW5zIiwiTWl4aW4iLCJwcm9wVHlwZXMiLCJhY2Nlc3NpYmxlIiwiYm9vbCIsImFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlIiwib25lT2YiLCJhY2Nlc3NpYmlsaXR5VHJhaXRzIiwib25lT2ZUeXBlIiwiYXJyYXlPZiIsImRpc2FibGVkIiwib25QcmVzcyIsImZ1bmMiLCJvblByZXNzSW4iLCJvblByZXNzT3V0Iiwib25MYXlvdXQiLCJvbkxvbmdQcmVzcyIsImRlbGF5UHJlc3NJbiIsIm51bWJlciIsImRlbGF5UHJlc3NPdXQiLCJkZWxheUxvbmdQcmVzcyIsInByZXNzUmV0ZW50aW9uT2Zmc2V0IiwiaGl0U2xvcCIsImdldEluaXRpYWxTdGF0ZSIsInRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicHJvcHMiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJlIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbiIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0IiwidG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzIiwidG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0IiwidG91Y2hhYmxlR2V0SGl0U2xvcCIsInRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMiLCJ0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TIiwidG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TIiwicmVuZGVyIiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJjaGlsZHJlbiIsInR5cGUiLCJfb3duZXIiLCJnZXROYW1lIiwiVE9VQ0hfVEFSR0VUX0RFQlVHIiwidG9BcnJheSIsInB1c2giLCJyZW5kZXJEZWJ1Z1ZpZXciLCJjb2xvciIsInN0eWxlIiwiY2xvbmVFbGVtZW50IiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwibmF0aXZlSUQiLCJ0ZXN0SUQiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyTW92ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJUZXJtaW5hdGUiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFXQSxhQUVBLEdBQU1BLG9CQUFxQkMsT0FBckIsc0JBQU4sQ0FDQSxHQUFNQyxPQUFRRCxPQUFSLFNBQU4sQ0FDQSxHQUFNRSxXQUFZRixPQUFaLGNBQU4sQ0FJQSxHQUFNRyxZQUFhSCxPQUFiLHFCQUFOLENBQ0EsR0FBTUksV0FBWUosT0FBWixhQUFOLENBRUEsR0FBTUssa0JBQW1CTCxPQUFuQixzQkFBTixDQUNBLEdBQU1NLDBCQUEyQk4sT0FBM0IsNEJBQU4sQ0FJQSxHQUFNTyxTQUFVUCxPQUFWLG9CQUFOLEMsYUFLSUEsTyxzQkFGRlEsMkIsVUFBQUEsMkIsQ0FDQUMsbUIsVUFBQUEsbUIsQ0FLRixHQUFNQyx3QkFBeUIsQ0FBQ0MsSUFBSyxFQUFOLENBQVVDLEtBQU0sRUFBaEIsQ0FBb0JDLE1BQU8sRUFBM0IsQ0FBK0JDLE9BQVEsRUFBdkMsQ0FBL0IsQ0FTQSxHQUFNQywwQkFBMkJWLGlCQUFpQixDQUNoRFcsWUFBYSwwQkFEbUMsQ0FFaERDLE9BQVEsQ0FBQ2QsVUFBRCxDQUFhQyxVQUFVYyxLQUF2QixDQUZ3QyxDQUloREMsVUFBVyxDQUNUQyxXQUFZbEIsVUFBVW1CLElBRGIsQ0FFVEMsMkJBQTRCcEIsVUFBVXFCLEtBQVYsQ0FDMUJmLDJCQUQwQixDQUZuQixDQUtUZ0Isb0JBQXFCdEIsVUFBVXVCLFNBQVYsQ0FBb0IsQ0FDdkN2QixVQUFVcUIsS0FBVixDQUFnQmQsbUJBQWhCLENBRHVDLENBRXZDUCxVQUFVd0IsT0FBVixDQUFrQnhCLFVBQVVxQixLQUFWLENBQWdCZCxtQkFBaEIsQ0FBbEIsQ0FGdUMsQ0FBcEIsQ0FMWixDQVlUa0IsU0FBVXpCLFVBQVVtQixJQVpYLENBaUJUTyxRQUFTMUIsVUFBVTJCLElBakJWLENBc0JUQyxVQUFXNUIsVUFBVTJCLElBdEJaLENBMEJSRSxXQUFZN0IsVUFBVTJCLElBMUJkLENBZ0NURyxTQUFVOUIsVUFBVTJCLElBaENYLENBa0NUSSxZQUFhL0IsVUFBVTJCLElBbENkLENBdUNUSyxhQUFjaEMsVUFBVWlDLE1BdkNmLENBMkNUQyxjQUFlbEMsVUFBVWlDLE1BM0NoQixDQStDVEUsZUFBZ0JuQyxVQUFVaUMsTUEvQ2pCLENBdURURyxxQkFBc0J2QyxrQkF2RGIsQ0FnRVR3QyxRQUFTeEMsa0JBaEVBLENBSnFDLENBdUVoRHlDLGdCQUFpQiwwQkFBVyxDQUMxQixNQUFPLE1BQUtDLHdCQUFMLEVBQVAsQ0FDRCxDQXpFK0MsQ0EyRWhEQyxrQkFBbUIsNEJBQVcsQ0FDNUJwQyx5QkFBeUIsS0FBS3FDLEtBQTlCLEVBQ0QsQ0E3RStDLENBK0VoREMsMEJBQTJCLG1DQUFTQyxTQUFULENBQTRCLENBQ3JEdkMseUJBQXlCdUMsU0FBekIsRUFDRCxDQWpGK0MsQ0F1RmhEQyxxQkFBc0IsOEJBQVNDLENBQVQsQ0FBbUIsQ0FDdkMsS0FBS0osS0FBTCxDQUFXZixPQUFYLEVBQXNCLEtBQUtlLEtBQUwsQ0FBV2YsT0FBWCxDQUFtQm1CLENBQW5CLENBQXRCLENBQ0QsQ0F6RitDLENBMkZoREMsNkJBQThCLHNDQUFTRCxDQUFULENBQW1CLENBQy9DLEtBQUtKLEtBQUwsQ0FBV2IsU0FBWCxFQUF3QixLQUFLYSxLQUFMLENBQVdiLFNBQVgsQ0FBcUJpQixDQUFyQixDQUF4QixDQUNELENBN0YrQyxDQStGaERFLDhCQUErQix1Q0FBU0YsQ0FBVCxDQUFtQixDQUNoRCxLQUFLSixLQUFMLENBQVdaLFVBQVgsRUFBeUIsS0FBS1ksS0FBTCxDQUFXWixVQUFYLENBQXNCZ0IsQ0FBdEIsQ0FBekIsQ0FDRCxDQWpHK0MsQ0FtR2hERyx5QkFBMEIsa0NBQVNILENBQVQsQ0FBbUIsQ0FDM0MsS0FBS0osS0FBTCxDQUFXVixXQUFYLEVBQTBCLEtBQUtVLEtBQUwsQ0FBV1YsV0FBWCxDQUF1QmMsQ0FBdkIsQ0FBMUIsQ0FDRCxDQXJHK0MsQ0F1R2hESSw0QkFBNkIsc0NBQTBDLENBQ3JFLE1BQU8sTUFBS1IsS0FBTCxDQUFXTCxvQkFBWCxFQUFtQzVCLHNCQUExQyxDQUNELENBekcrQyxDQTJHaEQwQyxvQkFBcUIsOEJBQW9CLENBQ3ZDLE1BQU8sTUFBS1QsS0FBTCxDQUFXSixPQUFsQixDQUNELENBN0crQyxDQStHaERjLDZCQUE4Qix1Q0FBbUIsQ0FDL0MsTUFBTyxNQUFLVixLQUFMLENBQVdULFlBQVgsRUFBMkIsQ0FBbEMsQ0FDRCxDQWpIK0MsQ0FtSGhEb0IsNkJBQThCLHVDQUFtQixDQUMvQyxNQUFPLE1BQUtYLEtBQUwsQ0FBV04sY0FBWCxHQUE4QixDQUE5QixDQUFrQyxDQUFsQyxDQUNMLEtBQUtNLEtBQUwsQ0FBV04sY0FBWCxFQUE2QixHQUQvQixDQUVELENBdEgrQyxDQXdIaERrQiw0QkFBNkIsc0NBQW1CLENBQzlDLE1BQU8sTUFBS1osS0FBTCxDQUFXUCxhQUFYLEVBQTRCLENBQW5DLENBQ0QsQ0ExSCtDLENBNEhoRG9CLE9BQVEsaUJBQStCLENBR3JDLEdBQU1DLE9BQVF4RCxNQUFNeUQsUUFBTixDQUFlQyxJQUFmLENBQW9CLEtBQUtoQixLQUFMLENBQVdpQixRQUEvQixDQUFkLENBQ0EsR0FBSUEsVUFBV0gsTUFBTWQsS0FBTixDQUFZaUIsUUFBM0IsQ0FDQXJELFFBQ0UsQ0FBQ2tELE1BQU1JLElBQVAsRUFBZUosTUFBTUksSUFBTixDQUFXN0MsV0FBWCxHQUEyQixNQUQ1QyxDQUVFLHlHQUNJeUMsTUFBTUssTUFBTixFQUFnQkwsTUFBTUssTUFBTixDQUFhQyxPQUE3QixFQUF3Q04sTUFBTUssTUFBTixDQUFhQyxPQUFiLEVBQXpDLEVBQW9FLFdBRHZFLENBRkYsRUFLQSxHQUFJM0QsVUFBVTRELGtCQUFWLEVBQWdDUCxNQUFNSSxJQUF0QyxFQUE4Q0osTUFBTUksSUFBTixDQUFXN0MsV0FBWCxHQUEyQixNQUE3RSxDQUFxRixDQUNuRjRDLFNBQVczRCxNQUFNeUQsUUFBTixDQUFlTyxPQUFmLENBQXVCTCxRQUF2QixDQUFYLENBQ0FBLFNBQVNNLElBQVQsQ0FBYzlELFVBQVUrRCxlQUFWLENBQTBCLENBQUNDLE1BQU8sS0FBUixDQUFlN0IsUUFBUyxLQUFLSSxLQUFMLENBQVdKLE9BQW5DLENBQTFCLENBQWQsRUFDRCxDQUNELEdBQU04QixPQUFTakUsVUFBVTRELGtCQUFWLEVBQWdDUCxNQUFNSSxJQUF0QyxFQUE4Q0osTUFBTUksSUFBTixDQUFXN0MsV0FBWCxHQUEyQixNQUExRSxDQUNaLENBQUN5QyxNQUFNZCxLQUFOLENBQVkwQixLQUFiLENBQW9CLENBQUNELE1BQU8sS0FBUixDQUFwQixDQURZLENBRVpYLE1BQU1kLEtBQU4sQ0FBWTBCLEtBRmQsQ0FHQSxNQUFRcEUsTUFBRCxDQUFhcUUsWUFBYixDQUEwQmIsS0FBMUIsQ0FBaUMsQ0FDdENyQyxXQUFZLEtBQUt1QixLQUFMLENBQVd2QixVQUFYLEdBQTBCLEtBREEsQ0FFdENtRCxtQkFBb0IsS0FBSzVCLEtBQUwsQ0FBVzRCLGtCQUZPLENBR3RDakQsMkJBQTRCLEtBQUtxQixLQUFMLENBQVdyQiwwQkFIRCxDQUl0Q0Usb0JBQXFCLEtBQUttQixLQUFMLENBQVduQixtQkFKTSxDQUt0Q2dELFNBQVUsS0FBSzdCLEtBQUwsQ0FBVzZCLFFBTGlCLENBTXRDQyxPQUFRLEtBQUs5QixLQUFMLENBQVc4QixNQU5tQixDQU90Q3pDLFNBQVUsS0FBS1csS0FBTCxDQUFXWCxRQVBpQixDQVF0Q08sUUFBUyxLQUFLSSxLQUFMLENBQVdKLE9BUmtCLENBU3RDbUMsMEJBQTJCLEtBQUtDLHNDQVRNLENBVXRDQyw4QkFBK0IsS0FBS0MsMENBVkUsQ0FXdENDLGlCQUFrQixLQUFLQyw2QkFYZSxDQVl0Q0MsZ0JBQWlCLEtBQUtDLDRCQVpnQixDQWF0Q0MsbUJBQW9CLEtBQUtDLCtCQWJhLENBY3RDQyxxQkFBc0IsS0FBS0MsaUNBZFcsQ0FldENoQixXQWZzQyxDQWdCdENULGlCQWhCc0MsQ0FBakMsQ0FBUCxDQWtCRCxDQS9KK0MsQ0FBakIsQ0FBakMsQ0FrS0EwQixPQUFPQyxPQUFQLENBQWlCeEUsd0JBQWpCIiwiZmlsZSI6IlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrXG4gKiBAZmxvd1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEVkZ2VJbnNldHNQcm9wVHlwZSA9IHJlcXVpcmUoJ0VkZ2VJbnNldHNQcm9wVHlwZScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuLyogJEZsb3dGaXhNZSg+PTAuNTQuMCBzaXRlPXJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yXG4gKiBmb3VuZCB3aGVuIEZsb3cgdjAuNTQgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kXG4gKiBydW4gRmxvdy4gKi9cbmNvbnN0IFRpbWVyTWl4aW4gPSByZXF1aXJlKCdyZWFjdC10aW1lci1taXhpbicpO1xuY29uc3QgVG91Y2hhYmxlID0gcmVxdWlyZSgnVG91Y2hhYmxlJyk7XG5cbmNvbnN0IGNyZWF0ZVJlYWN0Q2xhc3MgPSByZXF1aXJlKCdjcmVhdGUtcmVhY3QtY2xhc3MnKTtcbmNvbnN0IGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyA9IHJlcXVpcmUoJ2Vuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcycpO1xuLyogJEZsb3dGaXhNZSg+PTAuNTQuMCBzaXRlPXJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yXG4gKiBmb3VuZCB3aGVuIEZsb3cgdjAuNTQgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kXG4gKiBydW4gRmxvdy4gKi9cbmNvbnN0IHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbmNvbnN0IHtcbiAgQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGVzLFxuICBBY2Nlc3NpYmlsaXR5VHJhaXRzLFxufSA9IHJlcXVpcmUoJ1ZpZXdBY2Nlc3NpYmlsaXR5Jyk7XG5cbmV4cG9ydCB0eXBlIEV2ZW50ID0gT2JqZWN0O1xuXG5jb25zdCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUID0ge3RvcDogMjAsIGxlZnQ6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzB9O1xuXG4vKipcbiAqIERvIG5vdCB1c2UgdW5sZXNzIHlvdSBoYXZlIGEgdmVyeSBnb29kIHJlYXNvbi4gQWxsIGVsZW1lbnRzIHRoYXRcbiAqIHJlc3BvbmQgdG8gcHJlc3Mgc2hvdWxkIGhhdmUgYSB2aXN1YWwgZmVlZGJhY2sgd2hlbiB0b3VjaGVkLlxuICpcbiAqIFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayBzdXBwb3J0cyBvbmx5IG9uZSBjaGlsZC5cbiAqIElmIHlvdSB3aXNoIHRvIGhhdmUgc2V2ZXJhbCBjaGlsZCBjb21wb25lbnRzLCB3cmFwIHRoZW0gaW4gYSBWaWV3LlxuICovXG5jb25zdCBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgPSBjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snLFxuICBtaXhpbnM6IFtUaW1lck1peGluLCBUb3VjaGFibGUuTWl4aW5dLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGFjY2Vzc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlOiBQcm9wVHlwZXMub25lT2YoXG4gICAgICBBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXNcbiAgICApLFxuICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgUHJvcFR5cGVzLm9uZU9mKEFjY2Vzc2liaWxpdHlUcmFpdHMpLFxuICAgICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKEFjY2Vzc2liaWxpdHlUcmFpdHMpKSxcbiAgICBdKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBkaXNhYmxlIGFsbCBpbnRlcmFjdGlvbnMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdG91Y2ggaXMgcmVsZWFzZWQsIGJ1dCBub3QgaWYgY2FuY2VsbGVkIChlLmcuIGJ5IGEgc2Nyb2xsXG4gICAgICogdGhhdCBzdGVhbHMgdGhlIHJlc3BvbmRlciBsb2NrKS5cbiAgICAgKi9cbiAgICBvblByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAqIENhbGxlZCBhcyBzb29uIGFzIHRoZSB0b3VjaGFibGUgZWxlbWVudCBpcyBwcmVzc2VkIGFuZCBpbnZva2VkIGV2ZW4gYmVmb3JlIG9uUHJlc3MuXG4gICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiBtYWtpbmcgbmV0d29yayByZXF1ZXN0cy5cbiAgICAqL1xuICAgIG9uUHJlc3NJbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgKiBDYWxsZWQgYXMgc29vbiBhcyB0aGUgdG91Y2ggaXMgcmVsZWFzZWQgZXZlbiBiZWZvcmUgb25QcmVzcy5cbiAgICAqL1xuICAgICBvblByZXNzT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdW50IGFuZCBsYXlvdXQgY2hhbmdlcyB3aXRoXG4gICAgICpcbiAgICAgKiAgIGB7bmF0aXZlRXZlbnQ6IHtsYXlvdXQ6IHt4LCB5LCB3aWR0aCwgaGVpZ2h0fX19YFxuICAgICAqL1xuICAgIG9uTGF5b3V0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIG9uTG9uZ1ByZXNzOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzSW4gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGRlbGF5UHJlc3NJbjogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBEZWxheSBpbiBtcywgZnJvbSB0aGUgcmVsZWFzZSBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzT3V0IGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheVByZXNzT3V0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIG9uUHJlc3NJbiwgYmVmb3JlIG9uTG9uZ1ByZXNzIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheUxvbmdQcmVzczogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBzY3JvbGwgdmlldyBpcyBkaXNhYmxlZCwgdGhpcyBkZWZpbmVzIGhvdyBmYXIgeW91ciB0b3VjaCBtYXlcbiAgICAgKiBtb3ZlIG9mZiBvZiB0aGUgYnV0dG9uLCBiZWZvcmUgZGVhY3RpdmF0aW5nIHRoZSBidXR0b24uIE9uY2UgZGVhY3RpdmF0ZWQsXG4gICAgICogdHJ5IG1vdmluZyBpdCBiYWNrIGFuZCB5b3UnbGwgc2VlIHRoYXQgdGhlIGJ1dHRvbiBpcyBvbmNlIGFnYWluXG4gICAgICogcmVhY3RpdmF0ZWQhIE1vdmUgaXQgYmFjayBhbmQgZm9ydGggc2V2ZXJhbCB0aW1lcyB3aGlsZSB0aGUgc2Nyb2xsIHZpZXdcbiAgICAgKiBpcyBkaXNhYmxlZC4gRW5zdXJlIHlvdSBwYXNzIGluIGEgY29uc3RhbnQgdG8gcmVkdWNlIG1lbW9yeSBhbGxvY2F0aW9ucy5cbiAgICAgKi9cbiAgICBwcmVzc1JldGVudGlvbk9mZnNldDogRWRnZUluc2V0c1Byb3BUeXBlLFxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyBob3cgZmFyIHlvdXIgdG91Y2ggY2FuIHN0YXJ0IGF3YXkgZnJvbSB0aGUgYnV0dG9uLiBUaGlzIGlzXG4gICAgICogYWRkZWQgdG8gYHByZXNzUmV0ZW50aW9uT2Zmc2V0YCB3aGVuIG1vdmluZyBvZmYgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiAqKiBOT1RFICoqXG4gICAgICogVGhlIHRvdWNoIGFyZWEgbmV2ZXIgZXh0ZW5kcyBwYXN0IHRoZSBwYXJlbnQgdmlldyBib3VuZHMgYW5kIHRoZSBaLWluZGV4XG4gICAgICogb2Ygc2libGluZyB2aWV3cyBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZSBpZiBhIHRvdWNoIGhpdHMgdHdvIG92ZXJsYXBwaW5nXG4gICAgICogdmlld3MuXG4gICAgICovXG4gICAgaGl0U2xvcDogRWRnZUluc2V0c1Byb3BUeXBlLFxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyh0aGlzLnByb3BzKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHM6IE9iamVjdCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyhuZXh0UHJvcHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBgVG91Y2hhYmxlLk1peGluYCBzZWxmIGNhbGxiYWNrcy4gVGhlIG1peGluIHdpbGwgaW52b2tlIHRoZXNlIGlmIHRoZXkgYXJlXG4gICAqIGRlZmluZWQgb24geW91ciBjb21wb25lbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3MgJiYgdGhpcy5wcm9wcy5vblByZXNzKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzSW4gJiYgdGhpcy5wcm9wcy5vblByZXNzSW4oZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzT3V0ICYmIHRoaXMucHJvcHMub25QcmVzc091dChlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkxvbmdQcmVzcyAmJiB0aGlzLnByb3BzLm9uTG9uZ1ByZXNzKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb24oKTogdHlwZW9mIFBSRVNTX1JFVEVOVElPTl9PRkZTRVQge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNzUmV0ZW50aW9uT2Zmc2V0IHx8IFBSRVNTX1JFVEVOVElPTl9PRkZTRVQ7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGl0U2xvcDogZnVuY3Rpb24oKTogP09iamVjdCB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaGl0U2xvcDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5UHJlc3NJbiB8fCAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVM6IGZ1bmN0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgPT09IDAgPyAwIDpcbiAgICAgIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgfHwgNTAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUzogZnVuY3Rpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzT3V0IHx8IDA7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpOiBSZWFjdC5FbGVtZW50PGFueT4ge1xuICAgIC8vIE5vdGUoYXZpayk6IHJlbW92ZSBkeW5hbWljIHR5cGVjYXN0IG9uY2UgRmxvdyBoYXMgYmVlbiB1cGdyYWRlZFxuICAgIC8vICRGbG93Rml4TWUoPj0wLjQxLjApXG4gICAgY29uc3QgY2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGxldCBjaGlsZHJlbiA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIHdhcm5pbmcoXG4gICAgICAhY2hpbGQudHlwZSB8fCBjaGlsZC50eXBlLmRpc3BsYXlOYW1lICE9PSAnVGV4dCcsXG4gICAgICAnVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIGRvZXMgbm90IHdvcmsgd2VsbCB3aXRoIFRleHQgY2hpbGRyZW4uIFdyYXAgY2hpbGRyZW4gaW4gYSBWaWV3IGluc3RlYWQuIFNlZSAnICtcbiAgICAgICAgKChjaGlsZC5fb3duZXIgJiYgY2hpbGQuX293bmVyLmdldE5hbWUgJiYgY2hpbGQuX293bmVyLmdldE5hbWUoKSkgfHwgJzx1bmtub3duPicpXG4gICAgKTtcbiAgICBpZiAoVG91Y2hhYmxlLlRPVUNIX1RBUkdFVF9ERUJVRyAmJiBjaGlsZC50eXBlICYmIGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgPT09ICdWaWV3Jykge1xuICAgICAgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTtcbiAgICAgIGNoaWxkcmVuLnB1c2goVG91Y2hhYmxlLnJlbmRlckRlYnVnVmlldyh7Y29sb3I6ICdyZWQnLCBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3B9KSk7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gKFRvdWNoYWJsZS5UT1VDSF9UQVJHRVRfREVCVUcgJiYgY2hpbGQudHlwZSAmJiBjaGlsZC50eXBlLmRpc3BsYXlOYW1lID09PSAnVGV4dCcpID9cbiAgICAgIFtjaGlsZC5wcm9wcy5zdHlsZSwge2NvbG9yOiAncmVkJ31dIDpcbiAgICAgIGNoaWxkLnByb3BzLnN0eWxlO1xuICAgIHJldHVybiAoUmVhY3Q6IGFueSkuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICBhY2Nlc3NpYmxlOiB0aGlzLnByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlLFxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiB0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbCxcbiAgICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlOiB0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlLFxuICAgICAgYWNjZXNzaWJpbGl0eVRyYWl0czogdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5VHJhaXRzLFxuICAgICAgbmF0aXZlSUQ6IHRoaXMucHJvcHMubmF0aXZlSUQsXG4gICAgICB0ZXN0SUQ6IHRoaXMucHJvcHMudGVzdElELFxuICAgICAgb25MYXlvdXQ6IHRoaXMucHJvcHMub25MYXlvdXQsXG4gICAgICBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3AsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyTW92ZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlLFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUsXG4gICAgICBzdHlsZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgIH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2s7XG4iXX0=
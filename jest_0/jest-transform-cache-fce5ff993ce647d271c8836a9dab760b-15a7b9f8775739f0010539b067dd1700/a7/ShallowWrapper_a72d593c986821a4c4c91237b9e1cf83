a8573cc1d4753958d76b53b17be5e20c
Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _object=require("object.assign");var _object2=_interopRequireDefault(_object);var _flatten=require("lodash/flatten");var _flatten2=_interopRequireDefault(_flatten);var _uniq=require("lodash/uniq");var _uniq2=_interopRequireDefault(_uniq);var _compact=require("lodash/compact");var _compact2=_interopRequireDefault(_compact);var _cheerio=require("cheerio");var _cheerio2=_interopRequireDefault(_cheerio);var _Utils=require('./Utils');var _Debug=require('./Debug');var _RSTTraversal=require('./RSTTraversal');var _selectors=require('./selectors');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var NODE=(0,_Utils.sym)('__node__');var NODES=(0,_Utils.sym)('__nodes__');var RENDERER=(0,_Utils.sym)('__renderer__');var UNRENDERED=(0,_Utils.sym)('__unrendered__');var ROOT=(0,_Utils.sym)('__root__');var OPTIONS=(0,_Utils.sym)('__options__');function findWhereUnwrapped(wrapper,predicate){var filter=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_RSTTraversal.treeFilter;return wrapper.flatMap(function(n){return filter(n.getNodeInternal(),predicate);});}function filterWhereUnwrapped(wrapper,predicate){return wrapper.wrap((0,_compact2['default'])(wrapper.getNodesInternal().filter(predicate)));}function validateOptions(options){var lifecycleExperimental=options.lifecycleExperimental,disableLifecycleMethods=options.disableLifecycleMethods;if(typeof lifecycleExperimental!=='undefined'&&typeof lifecycleExperimental!=='boolean'){throw new Error('lifecycleExperimental must be either true or false if provided');}if(typeof disableLifecycleMethods!=='undefined'&&typeof disableLifecycleMethods!=='boolean'){throw new Error('disableLifecycleMethods must be either true or false if provided');}if(lifecycleExperimental!=null&&disableLifecycleMethods!=null&&lifecycleExperimental===disableLifecycleMethods){throw new Error('lifecycleExperimental and disableLifecycleMethods cannot be set to the same value');}}function getRootNode(node){if(node.nodeType==='host'){return node;}return node.rendered;}var ShallowWrapper=function(){function ShallowWrapper(nodes,root){var passedOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,ShallowWrapper);validateOptions(passedOptions);var options=(0,_Utils.makeOptions)(passedOptions);if(!root){(0,_Utils.privateSet)(this,ROOT,this);(0,_Utils.privateSet)(this,UNRENDERED,nodes);var renderer=(0,_Utils.getAdapter)(options).createRenderer((0,_object2['default'])({mode:'shallow'},options));(0,_Utils.privateSet)(this,RENDERER,renderer);this[RENDERER].render(nodes,options.context);var _RENDERER$getNode=this[RENDERER].getNode(),instance=_RENDERER$getNode.instance;if(!options.disableLifecycleMethods&&instance&&typeof instance.componentDidMount==='function'){this[RENDERER].batchedUpdates(function(){instance.componentDidMount();});}(0,_Utils.privateSet)(this,NODE,getRootNode(this[RENDERER].getNode()));(0,_Utils.privateSet)(this,NODES,[this[NODE]]);this.length=1;}else{(0,_Utils.privateSet)(this,ROOT,root);(0,_Utils.privateSet)(this,UNRENDERED,null);(0,_Utils.privateSet)(this,RENDERER,root[RENDERER]);if(!Array.isArray(nodes)){(0,_Utils.privateSet)(this,NODE,nodes);(0,_Utils.privateSet)(this,NODES,[nodes]);}else{(0,_Utils.privateSet)(this,NODE,nodes[0]);(0,_Utils.privateSet)(this,NODES,nodes);}this.length=this[NODES].length;}(0,_Utils.privateSet)(this,OPTIONS,root?root[OPTIONS]:options);}_createClass(ShallowWrapper,[{key:'root',value:function(){function root(){return this[ROOT];}return root;}()},{key:'getNodeInternal',value:function(){function getNodeInternal(){if(this.length!==1){throw new Error('ShallowWrapper::getNode() can only be called when wrapping one node');}return this[NODE];}return getNodeInternal;}()},{key:'getElement',value:function(){function getElement(){if(this.length!==1){throw new Error('ShallowWrapper::getElement() can only be called when wrapping one node');}return(0,_Utils.getAdapter)(this[OPTIONS]).nodeToElement(this[NODE]);}return getElement;}()},{key:'getElements',value:function(){function getElements(){return this[NODES].map((0,_Utils.getAdapter)(this[OPTIONS]).nodeToElement);}return getElements;}()},{key:'getNode',value:function(){function getNode(){throw new Error('ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead');}return getNode;}()},{key:'getNodesInternal',value:function(){function getNodesInternal(){return this[NODES];}return getNodesInternal;}()},{key:'getNodes',value:function(){function getNodes(){throw new Error('ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead');}return getNodes;}()},{key:'instance',value:function(){function instance(){if(this[ROOT]!==this){throw new Error('ShallowWrapper::instance() can only be called on the root');}return this[RENDERER].getNode().instance;}return instance;}()},{key:'update',value:function(){function update(){var _this=this;if(this[ROOT]!==this){throw new Error('ShallowWrapper::update() can only be called on the root');}this.single('update',function(){_this[NODE]=getRootNode(_this[RENDERER].getNode());_this[NODES]=[_this[NODE]];});return this;}return update;}()},{key:'rerender',value:function(){function rerender(props,context){var _this2=this;var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);this.single('rerender',function(){(0,_Utils.withSetStateAllowed)(function(){var instance=_this2.instance()||{};var state=instance.state;var prevProps=instance.props||_this2[UNRENDERED].props;var prevContext=instance.context||_this2[OPTIONS].context;var nextProps=(0,_object2['default'])({},prevProps,props);var nextContext=context||prevContext;if(context){_this2[OPTIONS]=(0,_object2['default'])({},_this2[OPTIONS],{context:nextContext});}_this2[RENDERER].batchedUpdates(function(){var shouldRender=true;var originalComponentWillReceiveProps=void 0;if(!_this2[OPTIONS].disableLifecycleMethods&&instance&&typeof instance.componentWillReceiveProps==='function'){instance.componentWillReceiveProps(nextProps,nextContext);originalComponentWillReceiveProps=instance.componentWillReceiveProps;instance.componentWillReceiveProps=function(){};}var originalShouldComponentUpdate=void 0;if(!_this2[OPTIONS].disableLifecycleMethods&&instance&&typeof instance.shouldComponentUpdate==='function'){shouldRender=instance.shouldComponentUpdate(nextProps,state,nextContext);originalShouldComponentUpdate=instance.shouldComponentUpdate;}if(shouldRender){if(props)_this2[UNRENDERED]=(0,_Utils.cloneElement)(adapter,_this2[UNRENDERED],props);if(originalShouldComponentUpdate){instance.shouldComponentUpdate=function(){return true;};}_this2[RENDERER].render(_this2[UNRENDERED],nextContext);if(originalShouldComponentUpdate){instance.shouldComponentUpdate=originalShouldComponentUpdate;}if(!_this2[OPTIONS].disableLifecycleMethods&&instance&&typeof instance.componentDidUpdate==='function'){if(adapter.options.supportPrevContextArgumentOfComponentDidUpdate){instance.componentDidUpdate(prevProps,state,prevContext);}else{instance.componentDidUpdate(prevProps,state);}}_this2.update();}else if(props){instance.props=props;}if(originalComponentWillReceiveProps){instance.componentWillReceiveProps=originalComponentWillReceiveProps;}});});});return this;}return rerender;}()},{key:'setProps',value:function(){function setProps(props){if(this[ROOT]!==this){throw new Error('ShallowWrapper::setProps() can only be called on the root');}return this.rerender(props);}return setProps;}()},{key:'setState',value:function(){function setState(state){var _this3=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(this[ROOT]!==this){throw new Error('ShallowWrapper::setState() can only be called on the root');}if(this.instance()===null||this[RENDERER].getNode().nodeType==='function'){throw new Error('ShallowWrapper::setState() can only be called on class components');}this.single('setState',function(){(0,_Utils.withSetStateAllowed)(function(){var adapter=(0,_Utils.getAdapter)(_this3[OPTIONS]);var instance=_this3.instance();var prevProps=instance.props;var prevState=instance.state;var prevContext=instance.context;var shouldRender=true;var originalShouldComponentUpdate=void 0;if(!_this3[OPTIONS].disableLifecycleMethods&&adapter.options.enableComponentDidUpdateOnSetState&&instance&&typeof instance.shouldComponentUpdate==='function'){originalShouldComponentUpdate=instance.shouldComponentUpdate;instance.shouldComponentUpdate=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}shouldRender=originalShouldComponentUpdate.apply(instance,args);instance.shouldComponentUpdate=originalShouldComponentUpdate;return shouldRender;};}instance.setState(state,callback);if(shouldRender&&!_this3[OPTIONS].disableLifecycleMethods&&adapter.options.enableComponentDidUpdateOnSetState&&instance&&typeof instance.componentDidUpdate==='function'){if(adapter.options.supportPrevContextArgumentOfComponentDidUpdate){instance.componentDidUpdate(prevProps,prevState,prevContext);}else{instance.componentDidUpdate(prevProps,prevState);}}_this3.update();});});return this;}return setState;}()},{key:'setContext',value:function(){function setContext(context){if(this[ROOT]!==this){throw new Error('ShallowWrapper::setContext() can only be called on the root');}if(!this[OPTIONS].context){throw new Error('ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option');}return this.rerender(null,context);}return setContext;}()},{key:'contains',value:function(){function contains(nodeOrNodes){var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);if(!(0,_Utils.isReactElementAlike)(nodeOrNodes,adapter)){throw new Error('ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.');}var predicate=Array.isArray(nodeOrNodes)?function(other){return(0,_Utils.containsChildrenSubArray)(_Utils.nodeEqual,other,nodeOrNodes.map(adapter.elementToNode));}:function(other){return(0,_Utils.nodeEqual)(adapter.elementToNode(nodeOrNodes),other);};return findWhereUnwrapped(this,predicate).length>0;}return contains;}()},{key:'containsMatchingElement',value:function(){function containsMatchingElement(node){var predicate=function(){function predicate(other){return(0,_Utils.nodeMatches)(node,other,function(a,b){return a<=b;});}return predicate;}();return findWhereUnwrapped(this,predicate).length>0;}return containsMatchingElement;}()},{key:'containsAllMatchingElements',value:function(){function containsAllMatchingElements(nodes){var _this4=this;if(!Array.isArray(nodes)){throw new TypeError('nodes should be an Array');}return nodes.every(function(node){return _this4.containsMatchingElement(node);});}return containsAllMatchingElements;}()},{key:'containsAnyMatchingElements',value:function(){function containsAnyMatchingElements(nodes){var _this5=this;return Array.isArray(nodes)&&nodes.some(function(node){return _this5.containsMatchingElement(node);});}return containsAnyMatchingElements;}()},{key:'equals',value:function(){function equals(node){var _this6=this;return this.single('equals',function(){return(0,_Utils.nodeEqual)(_this6.getNodeInternal(),node);});}return equals;}()},{key:'matchesElement',value:function(){function matchesElement(node){var _this7=this;return this.single('matchesElement',function(){return(0,_Utils.nodeMatches)(node,_this7.getNodeInternal(),function(a,b){return a<=b;});});}return matchesElement;}()},{key:'find',value:function(){function find(selector){return this.wrap((0,_selectors.reduceTreesBySelector)(selector,this.getNodesInternal()));}return find;}()},{key:'is',value:function(){function is(selector){var predicate=(0,_selectors.buildPredicate)(selector);return this.single('is',function(n){return predicate(n);});}return is;}()},{key:'isEmptyRender',value:function(){function isEmptyRender(){return this.type()===null;}return isEmptyRender;}()},{key:'filterWhere',value:function(){function filterWhere(predicate){var _this8=this;return filterWhereUnwrapped(this,function(n){return predicate(_this8.wrap(n));});}return filterWhere;}()},{key:'filter',value:function(){function filter(selector){var predicate=(0,_selectors.buildPredicate)(selector);return filterWhereUnwrapped(this,predicate);}return filter;}()},{key:'not',value:function(){function not(selector){var predicate=(0,_selectors.buildPredicate)(selector);return filterWhereUnwrapped(this,function(n){return!predicate(n);});}return not;}()},{key:'text',value:function(){function text(){return this.single('text',_RSTTraversal.getTextFromNode);}return text;}()},{key:'html',value:function(){function html(){var _this9=this;return this.single('html',function(n){if(_this9.type()===null)return null;var adapter=(0,_Utils.getAdapter)(_this9[OPTIONS]);var renderer=adapter.createRenderer((0,_object2['default'])({},_this9[OPTIONS],{mode:'string'}));return renderer.render(adapter.nodeToElement(n));});}return html;}()},{key:'render',value:function(){function render(){return this.type()===null?(0,_cheerio2['default'])():_cheerio2['default'].load('')(this.html());}return render;}()},{key:'unmount',value:function(){function unmount(){this[RENDERER].unmount();return this;}return unmount;}()},{key:'simulate',value:function(){function simulate(event){var _this10=this;for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}return this.single('simulate',function(n){var _RENDERER;(_RENDERER=_this10[RENDERER]).simulateEvent.apply(_RENDERER,[n,event].concat(args));_this10[ROOT].update();});}return simulate;}()},{key:'props',value:function(){function props(){return this.single('props',_RSTTraversal.propsOfNode);}return props;}()},{key:'state',value:function(){function state(name){var _this11=this;if(this[ROOT]!==this){throw new Error('ShallowWrapper::state() can only be called on the root');}if(this.instance()===null||this[RENDERER].getNode().nodeType==='function'){throw new Error('ShallowWrapper::state() can only be called on class components');}var _state=this.single('state',function(){return _this11.instance().state;});if(typeof name!=='undefined'){return _state[name];}return _state;}return state;}()},{key:'context',value:function(){function context(name){var _this12=this;if(this[ROOT]!==this){throw new Error('ShallowWrapper::context() can only be called on the root');}if(!this[OPTIONS].context){throw new Error('ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option');}if(this.instance()===null){throw new Error('ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance');}var _context=this.single('context',function(){return _this12.instance().context;});if(name){return _context[name];}return _context;}return context;}()},{key:'children',value:function(){function children(selector){var allChildren=this.flatMap(function(n){return(0,_RSTTraversal.childrenOfNode)(n.getNodeInternal());});return selector?allChildren.filter(selector):allChildren;}return children;}()},{key:'childAt',value:function(){function childAt(index){var _this13=this;return this.single('childAt',function(){return _this13.children().at(index);});}return childAt;}()},{key:'parents',value:function(){function parents(selector){var _this14=this;var allParents=this.wrap(this.single('parents',function(n){return(0,_RSTTraversal.parentsOfNode)(n,_this14[ROOT][NODE]);}));return selector?allParents.filter(selector):allParents;}return parents;}()},{key:'parent',value:function(){function parent(){return this.flatMap(function(n){return[n.parents().get(0)];});}return parent;}()},{key:'closest',value:function(){function closest(selector){return this.is(selector)?this:this.parents().filter(selector).first();}return closest;}()},{key:'shallow',value:function(){function shallow(options){var _this15=this;return this.single('shallow',function(n){return _this15.wrap((0,_Utils.getAdapter)(_this15[OPTIONS]).nodeToElement(n),null,options);});}return shallow;}()},{key:'prop',value:function(){function prop(propName){return this.props()[propName];}return prop;}()},{key:'key',value:function(){function key(){return this.single('key',function(n){return n.key;});}return key;}()},{key:'type',value:function(){function type(){return this.single('type',_Utils.typeOfNode);}return type;}()},{key:'name',value:function(){function name(){return this.single('name',_Utils.displayNameOfNode);}return name;}()},{key:'hasClass',value:function(){function hasClass(className){if(className&&className.indexOf('.')!==-1){console.warn('It looks like you\'re calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector.');}return this.single('hasClass',function(n){return(0,_RSTTraversal.hasClassName)(n,className);});}return hasClass;}()},{key:'forEach',value:function(){function forEach(fn){var _this16=this;this.getNodesInternal().forEach(function(n,i){return fn.call(_this16,_this16.wrap(n),i);});return this;}return forEach;}()},{key:'map',value:function(){function map(fn){var _this17=this;return this.getNodesInternal().map(function(n,i){return fn.call(_this17,_this17.wrap(n),i);});}return map;}()},{key:'reduce',value:function(){function reduce(fn){var _this18=this;var initialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(arguments.length>1){return this.getNodesInternal().reduce(function(accum,n,i){return fn.call(_this18,accum,_this18.wrap(n),i);},initialValue);}return this.getNodesInternal().reduce(function(accum,n,i){return fn.call(_this18,i===1?_this18.wrap(accum):accum,_this18.wrap(n),i);});}return reduce;}()},{key:'reduceRight',value:function(){function reduceRight(fn){var _this19=this;var initialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(arguments.length>1){return this.getNodesInternal().reduceRight(function(accum,n,i){return fn.call(_this19,accum,_this19.wrap(n),i);},initialValue);}return this.getNodesInternal().reduceRight(function(accum,n,i){return fn.call(_this19,i===1?_this19.wrap(accum):accum,_this19.wrap(n),i);});}return reduceRight;}()},{key:'slice',value:function(){function slice(begin,end){return this.wrap(this.getNodesInternal().slice(begin,end));}return slice;}()},{key:'some',value:function(){function some(selector){if(this[ROOT]===this){throw new Error('ShallowWrapper::some() can not be called on the root');}var predicate=(0,_selectors.buildPredicate)(selector);return this.getNodesInternal().some(predicate);}return some;}()},{key:'someWhere',value:function(){function someWhere(predicate){var _this20=this;return this.getNodesInternal().some(function(n,i){return predicate.call(_this20,_this20.wrap(n),i);});}return someWhere;}()},{key:'every',value:function(){function every(selector){var predicate=(0,_selectors.buildPredicate)(selector);return this.getNodesInternal().every(predicate);}return every;}()},{key:'everyWhere',value:function(){function everyWhere(predicate){var _this21=this;return this.getNodesInternal().every(function(n,i){return predicate.call(_this21,_this21.wrap(n),i);});}return everyWhere;}()},{key:'flatMap',value:function(){function flatMap(fn){var _this22=this;var nodes=this.getNodesInternal().map(function(n,i){return fn.call(_this22,_this22.wrap(n),i);});var flattened=(0,_flatten2['default'])(nodes,true);var uniques=(0,_uniq2['default'])(flattened);var compacted=(0,_compact2['default'])(uniques);return this.wrap(compacted);}return flatMap;}()},{key:'findWhere',value:function(){function findWhere(predicate){var _this23=this;return findWhereUnwrapped(this,function(n){return predicate(_this23.wrap(n));});}return findWhere;}()},{key:'get',value:function(){function get(index){return(0,_Utils.getAdapter)(this[OPTIONS]).nodeToElement(this.getNodesInternal()[index]);}return get;}()},{key:'at',value:function(){function at(index){return this.wrap(this.getNodesInternal()[index]);}return at;}()},{key:'first',value:function(){function first(){return this.at(0);}return first;}()},{key:'last',value:function(){function last(){return this.at(this.length-1);}return last;}()},{key:'isEmpty',value:function(){function isEmpty(){console.warn('Enzyme::Deprecated method isEmpty() called, use exists() instead.');return!this.exists();}return isEmpty;}()},{key:'exists',value:function(){function exists(){return this.length>0;}return exists;}()},{key:'single',value:function(){function single(name,fn){var fnName=typeof name==='string'?name:'unknown';var callback=typeof fn==='function'?fn:name;if(this.length!==1){throw new Error("Method \u201C"+fnName+"\u201D is only meant to be run on a single node. "+String(this.length)+' found instead.');}return callback.call(this,this.getNodeInternal());}return single;}()},{key:'wrap',value:function(){function wrap(node){var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this[ROOT];if(node instanceof ShallowWrapper){return node;}for(var _len3=arguments.length,args=Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++){args[_key3-2]=arguments[_key3];}return new(Function.prototype.bind.apply(ShallowWrapper,[null].concat([node,root],args)))();}return wrap;}()},{key:'debug',value:function(){function debug(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_Debug.debugNodes)(this.getNodesInternal(),options);}return debug;}()},{key:'tap',value:function(){function tap(intercepter){intercepter(this);return this;}return tap;}()},{key:'dive',value:function(){function dive(){var _this24=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);var name='dive';return this.single(name,function(n){if(n&&n.nodeType==='host'){throw new TypeError('ShallowWrapper::'+name+'() can not be called on Host Components');}var el=(0,_Utils.getAdapter)(_this24[OPTIONS]).nodeToElement(n);if(!(0,_Utils.isCustomComponentElement)(el,adapter)){throw new TypeError('ShallowWrapper::'+name+'() can only be called on components');}return _this24.wrap(el,null,(0,_object2['default'])({},_this24[OPTIONS],options));});}return dive;}()},{key:'hostNodes',value:function(){function hostNodes(){return this.filterWhere(function(n){return typeof n.type()==='string';});}return hostNodes;}()}]);return ShallowWrapper;}();if(_Utils.ITERATOR_SYMBOL){Object.defineProperty(ShallowWrapper.prototype,_Utils.ITERATOR_SYMBOL,{configurable:true,value:function(){function iterator(){var iter=this[NODES][_Utils.ITERATOR_SYMBOL]();var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);return{next:function(){function next(){var next=iter.next();if(next.done){return{done:true};}return{done:false,value:adapter.nodeToElement(next.value)};}return next;}()};}return iterator;}()});}function privateWarning(prop,extraMessage){Object.defineProperty(ShallowWrapper.prototype,prop,{get:function(){function get(){throw new Error('\n        Attempted to access ShallowWrapper::'+String(prop)+', which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        '+String(extraMessage)+'\n      ');}return get;}(),enumerable:false,configurable:false});}privateWarning('node','Consider using the getElement() method instead.');privateWarning('nodes','Consider using the getElements() method instead.');privateWarning('renderer','');privateWarning('options','');privateWarning('complexSelector','');exports['default']=ShallowWrapper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNoYWxsb3dXcmFwcGVyLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJrZXkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIl9vYmplY3QiLCJyZXF1aXJlIiwiX29iamVjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2ZsYXR0ZW4iLCJfZmxhdHRlbjIiLCJfdW5pcSIsIl91bmlxMiIsIl9jb21wYWN0IiwiX2NvbXBhY3QyIiwiX2NoZWVyaW8iLCJfY2hlZXJpbzIiLCJfVXRpbHMiLCJfRGVidWciLCJfUlNUVHJhdmVyc2FsIiwiX3NlbGVjdG9ycyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIk5PREUiLCJzeW0iLCJOT0RFUyIsIlJFTkRFUkVSIiwiVU5SRU5ERVJFRCIsIlJPT1QiLCJPUFRJT05TIiwiZmluZFdoZXJlVW53cmFwcGVkIiwid3JhcHBlciIsInByZWRpY2F0ZSIsImZpbHRlciIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRyZWVGaWx0ZXIiLCJmbGF0TWFwIiwibiIsImdldE5vZGVJbnRlcm5hbCIsImZpbHRlcldoZXJlVW53cmFwcGVkIiwid3JhcCIsImdldE5vZGVzSW50ZXJuYWwiLCJ2YWxpZGF0ZU9wdGlvbnMiLCJvcHRpb25zIiwibGlmZWN5Y2xlRXhwZXJpbWVudGFsIiwiZGlzYWJsZUxpZmVjeWNsZU1ldGhvZHMiLCJFcnJvciIsImdldFJvb3ROb2RlIiwibm9kZSIsIm5vZGVUeXBlIiwicmVuZGVyZWQiLCJTaGFsbG93V3JhcHBlciIsIm5vZGVzIiwicm9vdCIsInBhc3NlZE9wdGlvbnMiLCJtYWtlT3B0aW9ucyIsInByaXZhdGVTZXQiLCJyZW5kZXJlciIsImdldEFkYXB0ZXIiLCJjcmVhdGVSZW5kZXJlciIsIm1vZGUiLCJyZW5kZXIiLCJjb250ZXh0IiwiX1JFTkRFUkVSJGdldE5vZGUiLCJnZXROb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJiYXRjaGVkVXBkYXRlcyIsIkFycmF5IiwiaXNBcnJheSIsImdldEVsZW1lbnQiLCJub2RlVG9FbGVtZW50IiwiZ2V0RWxlbWVudHMiLCJtYXAiLCJnZXROb2RlcyIsInVwZGF0ZSIsIl90aGlzIiwic2luZ2xlIiwicmVyZW5kZXIiLCJfdGhpczIiLCJhZGFwdGVyIiwid2l0aFNldFN0YXRlQWxsb3dlZCIsInN0YXRlIiwicHJldlByb3BzIiwicHJldkNvbnRleHQiLCJuZXh0UHJvcHMiLCJuZXh0Q29udGV4dCIsInNob3VsZFJlbmRlciIsIm9yaWdpbmFsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJvcmlnaW5hbFNob3VsZENvbXBvbmVudFVwZGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNsb25lRWxlbWVudCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInN1cHBvcnRQcmV2Q29udGV4dEFyZ3VtZW50T2ZDb21wb25lbnREaWRVcGRhdGUiLCJzZXRQcm9wcyIsInNldFN0YXRlIiwiX3RoaXMzIiwiY2FsbGJhY2siLCJwcmV2U3RhdGUiLCJlbmFibGVDb21wb25lbnREaWRVcGRhdGVPblNldFN0YXRlIiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwiYXBwbHkiLCJzZXRDb250ZXh0IiwiY29udGFpbnMiLCJub2RlT3JOb2RlcyIsImlzUmVhY3RFbGVtZW50QWxpa2UiLCJvdGhlciIsImNvbnRhaW5zQ2hpbGRyZW5TdWJBcnJheSIsIm5vZGVFcXVhbCIsImVsZW1lbnRUb05vZGUiLCJjb250YWluc01hdGNoaW5nRWxlbWVudCIsIm5vZGVNYXRjaGVzIiwiYSIsImIiLCJjb250YWluc0FsbE1hdGNoaW5nRWxlbWVudHMiLCJfdGhpczQiLCJldmVyeSIsImNvbnRhaW5zQW55TWF0Y2hpbmdFbGVtZW50cyIsIl90aGlzNSIsInNvbWUiLCJlcXVhbHMiLCJfdGhpczYiLCJtYXRjaGVzRWxlbWVudCIsIl90aGlzNyIsImZpbmQiLCJzZWxlY3RvciIsInJlZHVjZVRyZWVzQnlTZWxlY3RvciIsImlzIiwiYnVpbGRQcmVkaWNhdGUiLCJpc0VtcHR5UmVuZGVyIiwidHlwZSIsImZpbHRlcldoZXJlIiwiX3RoaXM4Iiwibm90IiwidGV4dCIsImdldFRleHRGcm9tTm9kZSIsImh0bWwiLCJfdGhpczkiLCJsb2FkIiwidW5tb3VudCIsInNpbXVsYXRlIiwiZXZlbnQiLCJfdGhpczEwIiwiX2xlbjIiLCJfa2V5MiIsIl9SRU5ERVJFUiIsInNpbXVsYXRlRXZlbnQiLCJjb25jYXQiLCJwcm9wc09mTm9kZSIsIm5hbWUiLCJfdGhpczExIiwiX3N0YXRlIiwiX3RoaXMxMiIsIl9jb250ZXh0IiwiY2hpbGRyZW4iLCJhbGxDaGlsZHJlbiIsImNoaWxkcmVuT2ZOb2RlIiwiY2hpbGRBdCIsImluZGV4IiwiX3RoaXMxMyIsImF0IiwicGFyZW50cyIsIl90aGlzMTQiLCJhbGxQYXJlbnRzIiwicGFyZW50c09mTm9kZSIsInBhcmVudCIsImdldCIsImNsb3Nlc3QiLCJmaXJzdCIsInNoYWxsb3ciLCJfdGhpczE1IiwicHJvcCIsInByb3BOYW1lIiwidHlwZU9mTm9kZSIsImRpc3BsYXlOYW1lT2ZOb2RlIiwiaGFzQ2xhc3MiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiY29uc29sZSIsIndhcm4iLCJoYXNDbGFzc05hbWUiLCJmb3JFYWNoIiwiZm4iLCJfdGhpczE2IiwiY2FsbCIsIl90aGlzMTciLCJyZWR1Y2UiLCJfdGhpczE4IiwiaW5pdGlhbFZhbHVlIiwiYWNjdW0iLCJyZWR1Y2VSaWdodCIsIl90aGlzMTkiLCJzbGljZSIsImJlZ2luIiwiZW5kIiwic29tZVdoZXJlIiwiX3RoaXMyMCIsImV2ZXJ5V2hlcmUiLCJfdGhpczIxIiwiX3RoaXMyMiIsImZsYXR0ZW5lZCIsInVuaXF1ZXMiLCJjb21wYWN0ZWQiLCJmaW5kV2hlcmUiLCJfdGhpczIzIiwibGFzdCIsImlzRW1wdHkiLCJleGlzdHMiLCJmbk5hbWUiLCJTdHJpbmciLCJfbGVuMyIsIl9rZXkzIiwiRnVuY3Rpb24iLCJiaW5kIiwiZGVidWciLCJkZWJ1Z05vZGVzIiwidGFwIiwiaW50ZXJjZXB0ZXIiLCJkaXZlIiwiX3RoaXMyNCIsImVsIiwiaXNDdXN0b21Db21wb25lbnRFbGVtZW50IiwiaG9zdE5vZGVzIiwiSVRFUkFUT1JfU1lNQk9MIiwiaXRlcmF0b3IiLCJpdGVyIiwibmV4dCIsImRvbmUiLCJwcml2YXRlV2FybmluZyIsImV4dHJhTWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLGNBQVAsQ0FBc0JDLE9BQXRCLENBQStCLFlBQS9CLENBQTZDLENBQzNDQyxNQUFPLElBRG9DLENBQTdDLEVBSUEsR0FBSUMsY0FBZSxVQUFZLENBQUUsUUFBU0MsaUJBQVQsQ0FBMEJDLE1BQTFCLENBQWtDQyxLQUFsQyxDQUF5QyxDQUFFLElBQUssR0FBSUMsR0FBSSxDQUFiLENBQWdCQSxFQUFJRCxNQUFNRSxNQUExQixDQUFrQ0QsR0FBbEMsQ0FBdUMsQ0FBRSxHQUFJRSxZQUFhSCxNQUFNQyxDQUFOLENBQWpCLENBQTJCRSxXQUFXQyxVQUFYLENBQXdCRCxXQUFXQyxVQUFYLEVBQXlCLEtBQWpELENBQXdERCxXQUFXRSxZQUFYLENBQTBCLElBQTFCLENBQWdDLEdBQUksU0FBV0YsV0FBZixDQUEyQkEsV0FBV0csUUFBWCxDQUFzQixJQUF0QixDQUE0QmIsT0FBT0MsY0FBUCxDQUFzQkssTUFBdEIsQ0FBOEJJLFdBQVdJLEdBQXpDLENBQThDSixVQUE5QyxFQUE0RCxDQUFFLENBQUMsTUFBTyxVQUFVSyxXQUFWLENBQXVCQyxVQUF2QixDQUFtQ0MsV0FBbkMsQ0FBZ0QsQ0FBRSxHQUFJRCxVQUFK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Qm1FLGNBQXJCIiwiZmlsZSI6IlNoYWxsb3dXcmFwcGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfZmxhdHRlbiA9IHJlcXVpcmUoJ2xvZGFzaC9mbGF0dGVuJyk7XG5cbnZhciBfZmxhdHRlbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mbGF0dGVuKTtcblxudmFyIF91bmlxID0gcmVxdWlyZSgnbG9kYXNoL3VuaXEnKTtcblxudmFyIF91bmlxMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuaXEpO1xuXG52YXIgX2NvbXBhY3QgPSByZXF1aXJlKCdsb2Rhc2gvY29tcGFjdCcpO1xuXG52YXIgX2NvbXBhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcGFjdCk7XG5cbnZhciBfY2hlZXJpbyA9IHJlcXVpcmUoJ2NoZWVyaW8nKTtcblxudmFyIF9jaGVlcmlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWVyaW8pO1xuXG52YXIgX1V0aWxzID0gcmVxdWlyZSgnLi9VdGlscycpO1xuXG52YXIgX0RlYnVnID0gcmVxdWlyZSgnLi9EZWJ1ZycpO1xuXG52YXIgX1JTVFRyYXZlcnNhbCA9IHJlcXVpcmUoJy4vUlNUVHJhdmVyc2FsJyk7XG5cbnZhciBfc2VsZWN0b3JzID0gcmVxdWlyZSgnLi9zZWxlY3RvcnMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgTk9ERSA9ICgwLCBfVXRpbHMuc3ltKSgnX19ub2RlX18nKTtcbnZhciBOT0RFUyA9ICgwLCBfVXRpbHMuc3ltKSgnX19ub2Rlc19fJyk7XG52YXIgUkVOREVSRVIgPSAoMCwgX1V0aWxzLnN5bSkoJ19fcmVuZGVyZXJfXycpO1xudmFyIFVOUkVOREVSRUQgPSAoMCwgX1V0aWxzLnN5bSkoJ19fdW5yZW5kZXJlZF9fJyk7XG52YXIgUk9PVCA9ICgwLCBfVXRpbHMuc3ltKSgnX19yb290X18nKTtcbnZhciBPUFRJT05TID0gKDAsIF9VdGlscy5zeW0pKCdfX29wdGlvbnNfXycpO1xuLyoqXG4gKiBGaW5kcyBhbGwgbm9kZXMgaW4gdGhlIGN1cnJlbnQgd3JhcHBlciBub2RlcycgcmVuZGVyIHRyZWVzIHRoYXQgbWF0Y2ggdGhlIHByb3ZpZGVkIHByZWRpY2F0ZVxuICogZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtTaGFsbG93V3JhcHBlcn0gd3JhcHBlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJcbiAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFdoZXJlVW53cmFwcGVkKHdyYXBwZXIsIHByZWRpY2F0ZSkge1xuICB2YXIgZmlsdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfUlNUVHJhdmVyc2FsLnRyZWVGaWx0ZXI7XG5cbiAgcmV0dXJuIHdyYXBwZXIuZmxhdE1hcChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBmaWx0ZXIobi5nZXROb2RlSW50ZXJuYWwoKSwgcHJlZGljYXRlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIGluc3RhbmNlIHdpdGggb25seSB0aGUgbm9kZXMgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciBpbnN0YW5jZSB0aGF0IG1hdGNoXG4gKiB0aGUgcHJvdmlkZWQgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U2hhbGxvd1dyYXBwZXJ9IHdyYXBwZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICovXG5mdW5jdGlvbiBmaWx0ZXJXaGVyZVVud3JhcHBlZCh3cmFwcGVyLCBwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIHdyYXBwZXIud3JhcCgoMCwgX2NvbXBhY3QyWydkZWZhdWx0J10pKHdyYXBwZXIuZ2V0Tm9kZXNJbnRlcm5hbCgpLmZpbHRlcihwcmVkaWNhdGUpKSk7XG59XG5cbi8qKlxuICogRW5zdXJlIG9wdGlvbnMgcGFzc2VkIHRvIFNoYWxsb3dXcmFwcGVyIGFyZSB2YWxpZC4gVGhyb3dzIG90aGVyd2lzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHZhciBsaWZlY3ljbGVFeHBlcmltZW50YWwgPSBvcHRpb25zLmxpZmVjeWNsZUV4cGVyaW1lbnRhbCxcbiAgICAgIGRpc2FibGVMaWZlY3ljbGVNZXRob2RzID0gb3B0aW9ucy5kaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcztcblxuICBpZiAodHlwZW9mIGxpZmVjeWNsZUV4cGVyaW1lbnRhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGxpZmVjeWNsZUV4cGVyaW1lbnRhbCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsaWZlY3ljbGVFeHBlcmltZW50YWwgbXVzdCBiZSBlaXRoZXIgdHJ1ZSBvciBmYWxzZSBpZiBwcm92aWRlZCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRpc2FibGVMaWZlY3ljbGVNZXRob2RzICE9PSAnYm9vbGVhbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Rpc2FibGVMaWZlY3ljbGVNZXRob2RzIG11c3QgYmUgZWl0aGVyIHRydWUgb3IgZmFsc2UgaWYgcHJvdmlkZWQnKTtcbiAgfVxuXG4gIGlmIChsaWZlY3ljbGVFeHBlcmltZW50YWwgIT0gbnVsbCAmJiBkaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcyAhPSBudWxsICYmIGxpZmVjeWNsZUV4cGVyaW1lbnRhbCA9PT0gZGlzYWJsZUxpZmVjeWNsZU1ldGhvZHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpZmVjeWNsZUV4cGVyaW1lbnRhbCBhbmQgZGlzYWJsZUxpZmVjeWNsZU1ldGhvZHMgY2Fubm90IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJvb3ROb2RlKG5vZGUpIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT09ICdob3N0Jykge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIHJldHVybiBub2RlLnJlbmRlcmVkO1xufVxuXG4vKipcbiAqIEBjbGFzcyBTaGFsbG93V3JhcHBlclxuICovXG5cbnZhciBTaGFsbG93V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2hhbGxvd1dyYXBwZXIobm9kZXMsIHJvb3QpIHtcbiAgICB2YXIgcGFzc2VkT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhbGxvd1dyYXBwZXIpO1xuXG4gICAgdmFsaWRhdGVPcHRpb25zKHBhc3NlZE9wdGlvbnMpO1xuICAgIHZhciBvcHRpb25zID0gKDAsIF9VdGlscy5tYWtlT3B0aW9ucykocGFzc2VkT3B0aW9ucyk7XG4gICAgaWYgKCFyb290KSB7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFJPT1QsIHRoaXMpO1xuICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBVTlJFTkRFUkVELCBub2Rlcyk7XG4gICAgICB2YXIgcmVuZGVyZXIgPSAoMCwgX1V0aWxzLmdldEFkYXB0ZXIpKG9wdGlvbnMpLmNyZWF0ZVJlbmRlcmVyKCgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7IG1vZGU6ICdzaGFsbG93JyB9LCBvcHRpb25zKSk7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFJFTkRFUkVSLCByZW5kZXJlcik7XG4gICAgICB0aGlzW1JFTkRFUkVSXS5yZW5kZXIobm9kZXMsIG9wdGlvbnMuY29udGV4dCk7XG5cbiAgICAgIHZhciBfUkVOREVSRVIkZ2V0Tm9kZSA9IHRoaXNbUkVOREVSRVJdLmdldE5vZGUoKSxcbiAgICAgICAgICBpbnN0YW5jZSA9IF9SRU5ERVJFUiRnZXROb2RlLmluc3RhbmNlO1xuXG4gICAgICBpZiAoIW9wdGlvbnMuZGlzYWJsZUxpZmVjeWNsZU1ldGhvZHMgJiYgaW5zdGFuY2UgJiYgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbUkVOREVSRVJdLmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERSwgZ2V0Um9vdE5vZGUodGhpc1tSRU5ERVJFUl0uZ2V0Tm9kZSgpKSk7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIE5PREVTLCBbdGhpc1tOT0RFXV0pO1xuICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFJPT1QsIHJvb3QpO1xuICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBVTlJFTkRFUkVELCBudWxsKTtcbiAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgUkVOREVSRVIsIHJvb3RbUkVOREVSRVJdKTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShub2RlcykpIHtcbiAgICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBOT0RFLCBub2Rlcyk7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERVMsIFtub2Rlc10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBOT0RFLCBub2Rlc1swXSk7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERVMsIG5vZGVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGVuZ3RoID0gdGhpc1tOT0RFU10ubGVuZ3RoO1xuICAgIH1cbiAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIE9QVElPTlMsIHJvb3QgPyByb290W09QVElPTlNdIDogb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCB3cmFwcGVyXG4gICAqXG4gICAqIEByZXR1cm4ge1NoYWxsb3dXcmFwcGVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTaGFsbG93V3JhcHBlciwgW3tcbiAgICBrZXk6ICdyb290JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbUk9PVF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb290O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZUludGVybmFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Tm9kZUludGVybmFsKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpnZXROb2RlKCkgY2FuIG9ubHkgYmUgY2FsbGVkIHdoZW4gd3JhcHBpbmcgb25lIG5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tOT0RFXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE5vZGVJbnRlcm5hbDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdyYXBwZWQgUmVhY3RFbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UmVhY3RFbGVtZW50fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6Z2V0RWxlbWVudCgpIGNhbiBvbmx5IGJlIGNhbGxlZCB3aGVuIHdyYXBwaW5nIG9uZSBub2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSkubm9kZVRvRWxlbWVudCh0aGlzW05PREVdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEVsZW1lbnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3cmFwcGVkIFJlYWN0RWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxSZWFjdEVsZW1lbnQ+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tOT0RFU10ubWFwKCgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSkubm9kZVRvRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRFbGVtZW50cztcbiAgICB9KClcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG5cbiAgfSwge1xuICAgIGtleTogJ2dldE5vZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXROb2RlKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpnZXROb2RlKCkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gVXNlIFNoYWxsb3dXcmFwcGVyOjpnZXRFbGVtZW50KCkgaW5zdGVhZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Tm9kZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldE5vZGVzSW50ZXJuYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXROb2Rlc0ludGVybmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tOT0RFU107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXROb2Rlc0ludGVybmFsO1xuICAgIH0oKVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXROb2RlcygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6Z2V0Tm9kZXMoKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBVc2UgU2hhbGxvd1dyYXBwZXI6OmdldEVsZW1lbnRzKCkgaW5zdGVhZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Tm9kZXM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IGJlaW5nIHJlbmRlcmVkIGFzIHRoZSByb290IG5vZGUgcGFzc2VkIGludG8gYHNoYWxsb3coKWAuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBjb25zdCBpbnN0ID0gd3JhcHBlci5pbnN0YW5jZSgpO1xuICAgICAqIGV4cGVjdChpbnN0KS50by5iZS5pbnN0YW5jZU9mKE15Q29tcG9uZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyB7UmVhY3RDb21wb25lbnR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2luc3RhbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6aW5zdGFuY2UoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhlIHJvb3QnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tSRU5ERVJFUl0uZ2V0Tm9kZSgpLmluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBGb3JjZXMgYSByZS1yZW5kZXIuIFVzZWZ1bCB0byBydW4gYmVmb3JlIGNoZWNraW5nIHRoZSByZW5kZXIgb3V0cHV0IGlmIHNvbWV0aGluZyBleHRlcm5hbFxuICAgICAqIG1heSBiZSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGNvbXBvbmVudCBzb21ld2hlcmUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6dXBkYXRlKCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoZSByb290Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaW5nbGUoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpc1tOT0RFXSA9IGdldFJvb3ROb2RlKF90aGlzW1JFTkRFUkVSXS5nZXROb2RlKCkpO1xuICAgICAgICAgIF90aGlzW05PREVTXSA9IFtfdGhpc1tOT0RFXV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIGlzIGZvciByZS1yZW5kZXIgd2l0aCBuZXcgcHJvcHMgYW5kIGNvbnRleHQuXG4gICAgICogVGhpcyBjYWxscyBjb21wb25lbnREaWRVcGRhdGUgbWV0aG9kIGlmIGRpc2FibGVMaWZlY3ljbGVNZXRob2RzIGlzIG5vdCBlbmFibGVkLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBpbnN0YW5jZSB0aGF0IGlzIGFsc28gdGhlIHJvb3QgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZXJlbmRlcihwcm9wcywgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSk7XG4gICAgICAgIHRoaXMuc2luZ2xlKCdyZXJlbmRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAoMCwgX1V0aWxzLndpdGhTZXRTdGF0ZUFsbG93ZWQpKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE5PVEUobG1yKTogSW4gcmVhY3QgMTYsIGluc3RhbmNlcyB3aWxsIGJlIG51bGwgZm9yIFNGQ3MsIGJ1dFxuICAgICAgICAgICAgLy8gcmVyZW5kZXJpbmcgd2l0aCBwcm9wcy9jb250ZXh0IGlzIHN0aWxsIGEgdmFsaWQgdGhpbmcgdG8gZG8uIEluXG4gICAgICAgICAgICAvLyB0aGlzIGNhc2UsIHN0YXRlIHdpbGwgYmUgdW5kZWZpbmVkLCBidXQgcHJvcHMvY29udGV4dCB3aWxsIGV4aXN0LlxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gX3RoaXMyLmluc3RhbmNlKCkgfHwge307XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcblxuICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IGluc3RhbmNlLnByb3BzIHx8IF90aGlzMltVTlJFTkRFUkVEXS5wcm9wcztcbiAgICAgICAgICAgIHZhciBwcmV2Q29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQgfHwgX3RoaXMyW09QVElPTlNdLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgbmV4dFByb3BzID0gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBwcmV2UHJvcHMsIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBuZXh0Q29udGV4dCA9IGNvbnRleHQgfHwgcHJldkNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgICBfdGhpczJbT1BUSU9OU10gPSAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF90aGlzMltPUFRJT05TXSwgeyBjb250ZXh0OiBuZXh0Q29udGV4dCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzMltSRU5ERVJFUl0uYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgc2hvdWxkUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gZGlydHkgaGFjazpcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBpcyBjYWxsZWQgYmVmb3JlIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gdm9pZCAwO1xuICAgICAgICAgICAgICBpZiAoIV90aGlzMltPUFRJT05TXS5kaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcyAmJiBpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcztcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gZGlydHkgaGFjazogYXZvaWQgY2FsbGluZyBzaG91bGRDb21wb25lbnRVcGRhdGUgdHdpY2VcbiAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsU2hvdWxkQ29tcG9uZW50VXBkYXRlID0gdm9pZCAwO1xuICAgICAgICAgICAgICBpZiAoIV90aGlzMltPUFRJT05TXS5kaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcyAmJiBpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkUmVuZGVyID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgc3RhdGUsIG5leHRDb250ZXh0KTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzKSBfdGhpczJbVU5SRU5ERVJFRF0gPSAoMCwgX1V0aWxzLmNsb25lRWxlbWVudCkoYWRhcHRlciwgX3RoaXMyW1VOUkVOREVSRURdLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpczJbUkVOREVSRVJdLnJlbmRlcihfdGhpczJbVU5SRU5ERVJFRF0sIG5leHRDb250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFNob3VsZENvbXBvbmVudFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gb3JpZ2luYWxTaG91bGRDb21wb25lbnRVcGRhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMyW09QVElPTlNdLmRpc2FibGVMaWZlY3ljbGVNZXRob2RzICYmIGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhZGFwdGVyLm9wdGlvbnMuc3VwcG9ydFByZXZDb250ZXh0QXJndW1lbnRPZkNvbXBvbmVudERpZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBzdGF0ZSwgcHJldkNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQgZG9lc24ndCBuZWVkIHRvIHJlcmVuZGVyLCB1cGRhdGUgb25seSBpdHMgcHJvcHMuXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChvcmlnaW5hbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gb3JpZ2luYWxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVyZW5kZXI7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCB0aGF0IHNldHMgdGhlIHByb3BzIG9mIHRoZSByb290IGNvbXBvbmVudCwgYW5kIHJlLXJlbmRlcnMuIFVzZWZ1bCBmb3Igd2hlbiB5b3UgYXJlXG4gICAgICogd2FudGluZyB0byB0ZXN0IGhvdyB0aGUgY29tcG9uZW50IGJlaGF2ZXMgb3ZlciB0aW1lIHdpdGggY2hhbmdpbmcgcHJvcHMuIENhbGxpbmcgdGhpcywgZm9yXG4gICAgICogaW5zdGFuY2UsIHdpbGwgY2FsbCB0aGUgYGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNgIGxpZmVjeWNsZSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBTaW1pbGFyIHRvIGBzZXRTdGF0ZWAsIHRoaXMgbWV0aG9kIGFjY2VwdHMgYSBwcm9wcyBvYmplY3QgYW5kIHdpbGwgbWVyZ2UgaXQgaW4gd2l0aCB0aGUgYWxyZWFkeVxuICAgICAqIGV4aXN0aW5nIHByb3BzLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBpbnN0YW5jZSB0aGF0IGlzIGFsc28gdGhlIHJvb3QgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgb2JqZWN0XG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFByb3BzKHByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6c2V0UHJvcHMoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhlIHJvb3QnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXJlbmRlcihwcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRQcm9wcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIGludm9rZSBgc2V0U3RhdGVgIG9uIHRoZSByb290IGNvbXBvbmVudCBpbnN0YW5jZSBzaW1pbGFyIHRvIGhvdyB5b3UgbWlnaHQgaW4gdGhlXG4gICAgICogZGVmaW5pdGlvbiBvZiB0aGUgY29tcG9uZW50LCBhbmQgcmUtcmVuZGVycy4gIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgdGVzdGluZyB5b3VyIGNvbXBvbmVudFxuICAgICAqIGluIGhhcmQgdG8gYWNoaWV2ZSBzdGF0ZXMsIGhvd2V2ZXIgc2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5LiBJZiBwb3NzaWJsZSwgeW91IHNob3VsZCB1dGlsaXplXG4gICAgICogeW91ciBjb21wb25lbnQncyBleHRlcm5hbCBBUEkgaW4gb3JkZXIgdG8gZ2V0IGl0IGludG8gd2hhdGV2ZXIgc3RhdGUgeW91IHdhbnQgdG8gdGVzdCwgaW4gb3JkZXJcbiAgICAgKiB0byBiZSBhcyBhY2N1cmF0ZSBvZiBhIHRlc3QgYXMgcG9zc2libGUuIFRoaXMgaXMgbm90IGFsd2F5cyBwcmFjdGljYWwsIGhvd2V2ZXIuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSB0byBtZXJnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpzZXRTdGF0ZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlKCkgPT09IG51bGwgfHwgdGhpc1tSRU5ERVJFUl0uZ2V0Tm9kZSgpLm5vZGVUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6c2V0U3RhdGUoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gY2xhc3MgY29tcG9uZW50cycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2luZ2xlKCdzZXRTdGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAoMCwgX1V0aWxzLndpdGhTZXRTdGF0ZUFsbG93ZWQpKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhZGFwdGVyID0gKDAsIF9VdGlscy5nZXRBZGFwdGVyKShfdGhpczNbT1BUSU9OU10pO1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gX3RoaXMzLmluc3RhbmNlKCk7XG4gICAgICAgICAgICB2YXIgcHJldlByb3BzID0gaW5zdGFuY2UucHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgICAgICAgICB2YXIgcHJldkNvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICAgICAgICAgICAgdmFyIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgZGlydHkgaGFjayBidXQgaXQgcmVxdWlyZXMgdG8ga25vdyB0aGUgcmVzdWx0IG9mIHNob3VsZENvbXBvbmVudFVwZGF0ZS5cbiAgICAgICAgICAgIC8vIFdoZW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2Ugd2Ugc2hvdWxkbid0IGNhbGwgY29tcG9uZW50RGlkVXBkYXRlLlxuICAgICAgICAgICAgLy8gc2hvdWxkQ29tcG9uZW50VXBkYXRlIGlzIGNhbGxlZCBpbiBgaW5zdGFuY2Uuc2V0U3RhdGVgXG4gICAgICAgICAgICAvLyBzbyB3ZSByZXBsYWNlIHNob3VsZENvbXBvbmVudFVwZGF0ZSB0byBrbm93IHRoZSByZXN1bHQgYW5kIHJlc3RvcmUgaXQgbGF0ZXIuXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxTaG91bGRDb21wb25lbnRVcGRhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoIV90aGlzM1tPUFRJT05TXS5kaXNhYmxlTGlmZWN5Y2xlTWV0aG9kcyAmJiBhZGFwdGVyLm9wdGlvbnMuZW5hYmxlQ29tcG9uZW50RGlkVXBkYXRlT25TZXRTdGF0ZSAmJiBpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsU2hvdWxkQ29tcG9uZW50VXBkYXRlID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgICAgICAgICAgICBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVuZGVyID0gb3JpZ2luYWxTaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IG9yaWdpbmFsU2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaG91bGRSZW5kZXI7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnN0YW5jZS5zZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlbmRlciAmJiAhX3RoaXMzW09QVElPTlNdLmRpc2FibGVMaWZlY3ljbGVNZXRob2RzICYmIGFkYXB0ZXIub3B0aW9ucy5lbmFibGVDb21wb25lbnREaWRVcGRhdGVPblNldFN0YXRlICYmIGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgaWYgKGFkYXB0ZXIub3B0aW9ucy5zdXBwb3J0UHJldkNvbnRleHRBcmd1bWVudE9mQ29tcG9uZW50RGlkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBwcmV2Q29udGV4dCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRTdGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRoYXQgc2V0cyB0aGUgY29udGV4dCBvZiB0aGUgcm9vdCBjb21wb25lbnQsIGFuZCByZS1yZW5kZXJzLiBVc2VmdWwgZm9yIHdoZW4geW91IGFyZVxuICAgICAqIHdhbnRpbmcgdG8gdGVzdCBob3cgdGhlIGNvbXBvbmVudCBiZWhhdmVzIG92ZXIgdGltZSB3aXRoIGNoYW5naW5nIGNvbnRleHRzLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBpbnN0YW5jZSB0aGF0IGlzIGFsc28gdGhlIHJvb3QgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldENvbnRleHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRDb250ZXh0KGNvbnRleHQpIHtcbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpzZXRDb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoZSByb290Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzW09QVElPTlNdLmNvbnRleHQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpzZXRDb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciB0aGF0IHdhcyBvcmlnaW5hbGx5IHBhc3NlZCBhIGNvbnRleHQgb3B0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVyZW5kZXIobnVsbCwgY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRDb250ZXh0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgYSBnaXZlbiByZWFjdCBlbGVtZW50IGV4aXN0cyBpbiB0aGUgc2hhbGxvdyByZW5kZXIgdHJlZS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5jb250YWlucyg8ZGl2IGNsYXNzTmFtZT1cImZvbyBiYXJcIiAvPikpLnRvLmVxdWFsKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR8QXJyYXk8UmVhY3RFbGVtZW50Pn0gbm9kZU9yTm9kZXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGFpbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb250YWlucyhub2RlT3JOb2Rlcykge1xuICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSk7XG4gICAgICAgIGlmICghKDAsIF9VdGlscy5pc1JlYWN0RWxlbWVudEFsaWtlKShub2RlT3JOb2RlcywgYWRhcHRlcikpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpjb250YWlucygpIGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIFJlYWN0RWxlbWVudCAob3IgYXJyYXkgb2YgdGhlbSksIHN0cmluZyBvciBudW1iZXIgYXMgYXJndW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZWRpY2F0ZSA9IEFycmF5LmlzQXJyYXkobm9kZU9yTm9kZXMpID8gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMuY29udGFpbnNDaGlsZHJlblN1YkFycmF5KShfVXRpbHMubm9kZUVxdWFsLCBvdGhlciwgbm9kZU9yTm9kZXMubWFwKGFkYXB0ZXIuZWxlbWVudFRvTm9kZSkpO1xuICAgICAgICB9IDogZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMubm9kZUVxdWFsKShhZGFwdGVyLmVsZW1lbnRUb05vZGUobm9kZU9yTm9kZXMpLCBvdGhlcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZpbmRXaGVyZVVud3JhcHBlZCh0aGlzLCBwcmVkaWNhdGUpLmxlbmd0aCA+IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250YWlucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IGEgZ2l2ZW4gcmVhY3QgZWxlbWVudCBleGlzdHMgaW4gdGhlIHNoYWxsb3cgcmVuZGVyIHRyZWUuXG4gICAgICogTWF0Y2ggaXMgYmFzZWQgb24gdGhlIGV4cGVjdGVkIGVsZW1lbnQgYW5kIG5vdCBvbiB3cmFwcGVycyBlbGVtZW50LlxuICAgICAqIEl0IHdpbGwgZGV0ZXJtaW5lIGlmIG9uZSBvZiB0aGUgd3JhcHBlcnMgZWxlbWVudCBcImxvb2tzIGxpa2VcIiB0aGUgZXhwZWN0ZWRcbiAgICAgKiBlbGVtZW50IGJ5IGNoZWNraW5nIGlmIGFsbCBwcm9wcyBvZiB0aGUgZXhwZWN0ZWQgZWxlbWVudCBhcmUgcHJlc2VudFxuICAgICAqIG9uIHRoZSB3cmFwcGVycyBlbGVtZW50IGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogLy8gTXlDb21wb25lbnQgb3V0cHV0cyA8ZGl2PjxkaXYgY2xhc3M9XCJmb29cIj5IZWxsbzwvZGl2PjwvZGl2PlxuICAgICAqIGNvbnN0IHdyYXBwZXIgPSBzaGFsbG93KDxNeUNvbXBvbmVudCAvPik7XG4gICAgICogZXhwZWN0KHdyYXBwZXIuY29udGFpbnNNYXRjaGluZ0VsZW1lbnQoPGRpdj5IZWxsbzwvZGl2PikpLnRvLmVxdWFsKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IG5vZGVcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGFpbnNNYXRjaGluZ0VsZW1lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb250YWluc01hdGNoaW5nRWxlbWVudChub2RlKSB7XG4gICAgICAgIHZhciBwcmVkaWNhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZnVuY3Rpb24gcHJlZGljYXRlKG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5ub2RlTWF0Y2hlcykobm9kZSwgb3RoZXIsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhIDw9IGI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcHJlZGljYXRlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHJldHVybiBmaW5kV2hlcmVVbndyYXBwZWQodGhpcywgcHJlZGljYXRlKS5sZW5ndGggPiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGFpbnNNYXRjaGluZ0VsZW1lbnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbGwgdGhlIGdpdmVuIHJlYWN0IGVsZW1lbnRzIGV4aXN0cyBpbiB0aGUgc2hhbGxvdyByZW5kZXIgdHJlZS5cbiAgICAgKiBNYXRjaCBpcyBiYXNlZCBvbiB0aGUgZXhwZWN0ZWQgZWxlbWVudCBhbmQgbm90IG9uIHdyYXBwZXJzIGVsZW1lbnQuXG4gICAgICogSXQgd2lsbCBkZXRlcm1pbmUgaWYgb25lIG9mIHRoZSB3cmFwcGVycyBlbGVtZW50IFwibG9va3MgbGlrZVwiIHRoZSBleHBlY3RlZFxuICAgICAqIGVsZW1lbnQgYnkgY2hlY2tpbmcgaWYgYWxsIHByb3BzIG9mIHRoZSBleHBlY3RlZCBlbGVtZW50IGFyZSBwcmVzZW50XG4gICAgICogb24gdGhlIHdyYXBwZXJzIGVsZW1lbnQgYW5kIGVxdWFscyB0byBlYWNoIG90aGVyLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyg8TXlDb21wb25lbnQgLz4pO1xuICAgICAqIGV4cGVjdCh3cmFwcGVyLmNvbnRhaW5zQWxsTWF0Y2hpbmdFbGVtZW50cyhbXG4gICAgICogICA8ZGl2PkhlbGxvPC9kaXY+LFxuICAgICAqICAgPGRpdj5Hb29kYnllPC9kaXY+LFxuICAgICAqIF0pKS50by5lcXVhbCh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8UmVhY3RFbGVtZW50Pn0gbm9kZXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGFpbnNBbGxNYXRjaGluZ0VsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29udGFpbnNBbGxNYXRjaGluZ0VsZW1lbnRzKG5vZGVzKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShub2RlcykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdub2RlcyBzaG91bGQgYmUgYW4gQXJyYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2Rlcy5ldmVyeShmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQuY29udGFpbnNNYXRjaGluZ0VsZW1lbnQobm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGFpbnNBbGxNYXRjaGluZ0VsZW1lbnRzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgb25lIG9mIHRoZSBnaXZlbiByZWFjdCBlbGVtZW50cyBleGlzdHMgaW4gdGhlIHNoYWxsb3cgcmVuZGVyIHRyZWUuXG4gICAgICogTWF0Y2ggaXMgYmFzZWQgb24gdGhlIGV4cGVjdGVkIGVsZW1lbnQgYW5kIG5vdCBvbiB3cmFwcGVycyBlbGVtZW50LlxuICAgICAqIEl0IHdpbGwgZGV0ZXJtaW5lIGlmIG9uZSBvZiB0aGUgd3JhcHBlcnMgZWxlbWVudCBcImxvb2tzIGxpa2VcIiB0aGUgZXhwZWN0ZWRcbiAgICAgKiBlbGVtZW50IGJ5IGNoZWNraW5nIGlmIGFsbCBwcm9wcyBvZiB0aGUgZXhwZWN0ZWQgZWxlbWVudCBhcmUgcHJlc2VudFxuICAgICAqIG9uIHRoZSB3cmFwcGVycyBlbGVtZW50IGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5jb250YWluc0FueU1hdGNoaW5nRWxlbWVudHMoW1xuICAgICAqICAgPGRpdj5IZWxsbzwvZGl2PixcbiAgICAgKiAgIDxkaXY+R29vZGJ5ZTwvZGl2PixcbiAgICAgKiBdKSkudG8uZXF1YWwodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlYWN0RWxlbWVudD59IG5vZGVzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbnRhaW5zQW55TWF0Y2hpbmdFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbnRhaW5zQW55TWF0Y2hpbmdFbGVtZW50cyhub2Rlcykge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShub2RlcykgJiYgbm9kZXMuc29tZShmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUuY29udGFpbnNNYXRjaGluZ0VsZW1lbnQobm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGFpbnNBbnlNYXRjaGluZ0VsZW1lbnRzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgYSBnaXZlbiByZWFjdCBlbGVtZW50IGV4aXN0cyBpbiB0aGUgc2hhbGxvdyByZW5kZXIgdHJlZS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IHNoYWxsb3coPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5jb250YWlucyg8ZGl2IGNsYXNzTmFtZT1cImZvbyBiYXJcIiAvPikpLnRvLmVxdWFsKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IG5vZGVcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXF1YWxzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZXF1YWxzKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdlcXVhbHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMubm9kZUVxdWFsKShfdGhpczYuZ2V0Tm9kZUludGVybmFsKCksIG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVxdWFscztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IGEgZ2l2ZW4gcmVhY3QgZWxlbWVudCBtYXRjaGVzIHRoZSBzaGFsbG93IHJlbmRlciB0cmVlLlxuICAgICAqIE1hdGNoIGlzIGJhc2VkIG9uIHRoZSBleHBlY3RlZCBlbGVtZW50IGFuZCBub3Qgb24gd3JhcHBlciByb290IG5vZGUuXG4gICAgICogSXQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIHdyYXBwZXIgcm9vdCBub2RlIFwibG9va3MgbGlrZVwiIHRoZSBleHBlY3RlZFxuICAgICAqIGVsZW1lbnQgYnkgY2hlY2tpbmcgaWYgYWxsIHByb3BzIG9mIHRoZSBleHBlY3RlZCBlbGVtZW50IGFyZSBwcmVzZW50XG4gICAgICogb24gdGhlIHdyYXBwZXIgcm9vdCBub2RlIGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogLy8gTXlDb21wb25lbnQgb3V0cHV0cyA8ZGl2IGNsYXNzPVwiZm9vXCI+SGVsbG88L2Rpdj5cbiAgICAgKiBjb25zdCB3cmFwcGVyID0gc2hhbGxvdyg8TXlDb21wb25lbnQgLz4pO1xuICAgICAqIGV4cGVjdCh3cmFwcGVyLm1hdGNoZXNFbGVtZW50KDxkaXY+SGVsbG88L2Rpdj4pKS50by5lcXVhbCh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBub2RlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21hdGNoZXNFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gbWF0Y2hlc0VsZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ21hdGNoZXNFbGVtZW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAoMCwgX1V0aWxzLm5vZGVNYXRjaGVzKShub2RlLCBfdGhpczcuZ2V0Tm9kZUludGVybmFsKCksIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSA8PSBiO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoZXNFbGVtZW50O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgZXZlcnkgbm9kZSBpbiB0aGUgcmVuZGVyIHRyZWUgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciB0aGF0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIHNlbGVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yXG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmaW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwKCgwLCBfc2VsZWN0b3JzLnJlZHVjZVRyZWVzQnlTZWxlY3Rvcikoc2VsZWN0b3IsIHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaW5kO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBjdXJyZW50IG5vZGUgbWF0Y2hlcyBhIHByb3ZpZGVkIHNlbGVjdG9yLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXMoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIHByZWRpY2F0ZSA9ICgwLCBfc2VsZWN0b3JzLmJ1aWxkUHJlZGljYXRlKShzZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnaXMnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUobik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbXBvbmVudCByZW5kZXJlZCBub3RoaW5nLCBpLmUuLCBudWxsIG9yIGZhbHNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzRW1wdHlSZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0VtcHR5UmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlKCkgPT09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0VtcHR5UmVuZGVyO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIGluc3RhbmNlIHdpdGggb25seSB0aGUgbm9kZXMgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciBpbnN0YW5jZSB0aGF0IG1hdGNoXG4gICAgICogdGhlIHByb3ZpZGVkIHByZWRpY2F0ZSBmdW5jdGlvbi4gVGhlIHByZWRpY2F0ZSBzaG91bGQgcmVjZWl2ZSBhIHdyYXBwZWQgbm9kZSBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmlsdGVyV2hlcmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBmaWx0ZXJXaGVyZShwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcldoZXJlVW53cmFwcGVkKHRoaXMsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZShfdGhpczgud3JhcChuKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmlsdGVyV2hlcmU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBvbmx5IHRoZSBub2RlcyBvZiB0aGUgY3VycmVudCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgbWF0Y2hcbiAgICAgKiB0aGUgcHJvdmlkZWQgc2VsZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpbHRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGZpbHRlcihzZWxlY3Rvcikge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gKDAsIF9zZWxlY3RvcnMuYnVpbGRQcmVkaWNhdGUpKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcldoZXJlVW53cmFwcGVkKHRoaXMsIHByZWRpY2F0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBvbmx5IHRoZSBub2RlcyBvZiB0aGUgY3VycmVudCB3cmFwcGVyIHRoYXQgZGlkIG5vdCBtYXRjaFxuICAgICAqIHRoZSBwcm92aWRlZCBzZWxlY3Rvci4gRXNzZW50aWFsbHkgdGhlIGludmVyc2Ugb2YgYGZpbHRlcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ25vdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG5vdChzZWxlY3Rvcikge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gKDAsIF9zZWxlY3RvcnMuYnVpbGRQcmVkaWNhdGUpKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcldoZXJlVW53cmFwcGVkKHRoaXMsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUobik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm90O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiB0aGUgcmVuZGVyZWQgdGV4dCBvZiB0aGUgY3VycmVudCByZW5kZXIgdHJlZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlXG4gICAgICogbG9va2VkIGF0IHdpdGggc2tlcHRpY2lzbSBpZiBiZWluZyB1c2VkIHRvIHRlc3Qgd2hhdCB0aGUgYWN0dWFsIEhUTUwgb3V0cHV0IG9mIHRoZSBjb21wb25lbnRcbiAgICAgKiB3aWxsIGJlLiBJZiB0aGF0IGlzIHdoYXQgeW91IHdvdWxkIGxpa2UgdG8gdGVzdCwgdXNlIGVuenltZSdzIGByZW5kZXJgIGZ1bmN0aW9uIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0ZXh0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCd0ZXh0JywgX1JTVFRyYXZlcnNhbC5nZXRUZXh0RnJvbU5vZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgb2YgdGhlIG5vZGUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdodG1sJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaHRtbCgpIHtcbiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdodG1sJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICBpZiAoX3RoaXM5LnR5cGUoKSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgdmFyIGFkYXB0ZXIgPSAoMCwgX1V0aWxzLmdldEFkYXB0ZXIpKF90aGlzOVtPUFRJT05TXSk7XG4gICAgICAgICAgdmFyIHJlbmRlcmVyID0gYWRhcHRlci5jcmVhdGVSZW5kZXJlcigoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF90aGlzOVtPUFRJT05TXSwgeyBtb2RlOiAnc3RyaW5nJyB9KSk7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVyLnJlbmRlcihhZGFwdGVyLm5vZGVUb0VsZW1lbnQobikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG5vZGUgcmVuZGVyZWQgdG8gSFRNTCBhbmQgd3JhcHBlZCBpbiBhIENoZWVyaW9XcmFwcGVyLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0NoZWVyaW9XcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUoKSA9PT0gbnVsbCA/ICgwLCBfY2hlZXJpbzJbJ2RlZmF1bHQnXSkoKSA6IF9jaGVlcmlvMlsnZGVmYXVsdCddLmxvYWQoJycpKHRoaXMuaHRtbCgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRoYXQgdW5tb3VudHMgdGhlIGNvbXBvbmVudC4gVGhpcyBjYW4gYmUgdXNlZCB0byBzaW11bGF0ZSBhIGNvbXBvbmVudCBnb2luZyB0aHJvdWdoXG4gICAgICogYW5kIHVubW91bnQvbW91bnQgbGlmZWN5Y2xlLlxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICAgIHRoaXNbUkVOREVSRVJdLnVubW91bnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bm1vdW50O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzaW11bGF0ZSBldmVudHMuIFBhc3MgYW4gZXZlbnRuYW1lIGFuZCAob3B0aW9uYWxseSkgZXZlbnQgYXJndW1lbnRzLiBUaGlzIG1ldGhvZCBvZlxuICAgICAqIHRlc3RpbmcgZXZlbnRzIHNob3VsZCBiZSBtZXQgd2l0aCBzb21lIHNrZXB0aWNpc20uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzaW11bGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnc2ltdWxhdGUnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHZhciBfUkVOREVSRVI7XG5cbiAgICAgICAgICAoX1JFTkRFUkVSID0gX3RoaXMxMFtSRU5ERVJFUl0pLnNpbXVsYXRlRXZlbnQuYXBwbHkoX1JFTkRFUkVSLCBbbiwgZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgX3RoaXMxMFtST09UXS51cGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaW11bGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BzIGhhc2ggZm9yIHRoZSBjdXJyZW50IG5vZGUgb2YgdGhlIHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHByb3BzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ3Byb3BzJywgX1JTVFRyYXZlcnNhbC5wcm9wc09mTm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0YXRlIGhhc2ggZm9yIHRoZSByb290IG5vZGUgb2YgdGhlIHdyYXBwZXIuIE9wdGlvbmFsbHkgcGFzcyBpbiBhIHByb3AgbmFtZSBhbmQgaXRcbiAgICAgKiB3aWxsIHJldHVybiBqdXN0IHRoYXQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3N0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc3RhdGUobmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpzdGF0ZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlKCkgPT09IG51bGwgfHwgdGhpc1tSRU5ERVJFUl0uZ2V0Tm9kZSgpLm5vZGVUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFsbG93V3JhcHBlcjo6c3RhdGUoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gY2xhc3MgY29tcG9uZW50cycpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnNpbmdsZSgnc3RhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTEuaW5zdGFuY2UoKS5zdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gX3N0YXRlW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRleHQgaGFzaCBmb3IgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgd3JhcHBlci5cbiAgICAgKiBPcHRpb25hbGx5IHBhc3MgaW4gYSBwcm9wIG5hbWUgYW5kIGl0IHdpbGwgcmV0dXJuIGp1c3QgdGhhdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbnRleHQobmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpjb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoZSByb290Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzW09QVElPTlNdLmNvbnRleHQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpjb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciB0aGF0IHdhcyBvcmlnaW5hbGx5IHBhc3NlZCBhIGNvbnRleHQgb3B0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UoKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hhbGxvd1dyYXBwZXI6OmNvbnRleHQoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gd3JhcHBlZCBub2RlcyB0aGF0IGhhdmUgYSBub24tbnVsbCBpbnN0YW5jZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfY29udGV4dCA9IHRoaXMuc2luZ2xlKCdjb250ZXh0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczEyLmluc3RhbmNlKCkuY29udGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0W25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfY29udGV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHdyYXBwZXIgd2l0aCBhbGwgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW3NlbGVjdG9yXVxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2hpbGRyZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjaGlsZHJlbihzZWxlY3Rvcikge1xuICAgICAgICB2YXIgYWxsQ2hpbGRyZW4gPSB0aGlzLmZsYXRNYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9SU1RUcmF2ZXJzYWwuY2hpbGRyZW5PZk5vZGUpKG4uZ2V0Tm9kZUludGVybmFsKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gYWxsQ2hpbGRyZW4uZmlsdGVyKHNlbGVjdG9yKSA6IGFsbENoaWxkcmVuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHdyYXBwZXIgd2l0aCBhIHNwZWNpZmljIGNoaWxkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luZGV4XVxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2hpbGRBdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzMTMgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnY2hpbGRBdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxMy5jaGlsZHJlbigpLmF0KGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZEF0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHdyYXBwZXIgYXJvdW5kIGFsbCBvZiB0aGUgcGFyZW50cy9hbmNlc3RvcnMgb2YgdGhlIHdyYXBwZXIuIERvZXMgbm90IGluY2x1ZGUgdGhlIG5vZGVcbiAgICAgKiBpbiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IFtzZWxlY3Rvcl1cbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhcmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwYXJlbnRzKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpczE0ID0gdGhpcztcblxuICAgICAgICB2YXIgYWxsUGFyZW50cyA9IHRoaXMud3JhcCh0aGlzLnNpbmdsZSgncGFyZW50cycsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfUlNUVHJhdmVyc2FsLnBhcmVudHNPZk5vZGUpKG4sIF90aGlzMTRbUk9PVF1bTk9ERV0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzZWxlY3RvciA/IGFsbFBhcmVudHMuZmlsdGVyKHNlbGVjdG9yKSA6IGFsbFBhcmVudHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBpbW1lZGlhdGUgcGFyZW50IG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhcmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdE1hcChmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBbbi5wYXJlbnRzKCkuZ2V0KDApXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2xvc2VzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXMoc2VsZWN0b3IpID8gdGhpcyA6IHRoaXMucGFyZW50cygpLmZpbHRlcihzZWxlY3RvcikuZmlyc3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsb3Nlc3Q7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBTaGFsbG93IHJlbmRlcnMgdGhlIGN1cnJlbnQgbm9kZSBhbmQgcmV0dXJucyBhIHNoYWxsb3cgd3JhcHBlciBhcm91bmQgaXQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NoYWxsb3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzaGFsbG93KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzMTUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnc2hhbGxvdycsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTUud3JhcCgoMCwgX1V0aWxzLmdldEFkYXB0ZXIpKF90aGlzMTVbT1BUSU9OU10pLm5vZGVUb0VsZW1lbnQobiksIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNoYWxsb3c7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBwcm9wIHdpdGggdGhlIGdpdmVuIG5hbWUgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9wTmFtZVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwcm9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcHJvcChwcm9wTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcygpW3Byb3BOYW1lXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3A7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBrZXkgYXNzaWduZWQgdG8gdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2tleScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdrZXknLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBuLmtleTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBrZXk7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSBjdXJyZW50IG5vZGUgb2YgdGhpcyB3cmFwcGVyLiBJZiBpdCdzIGEgY29tcG9zaXRlIGNvbXBvbmVudCwgdGhpcyB3aWxsXG4gICAgICogYmUgdGhlIGNvbXBvbmVudCBjb25zdHJ1Y3Rvci4gSWYgaXQncyBhIG5hdGl2ZSBET00gbm9kZSwgaXQgd2lsbCBiZSBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd8RnVuY3Rpb259XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3R5cGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ3R5cGUnLCBfVXRpbHMudHlwZU9mTm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgY3VycmVudCBub2RlIG9mIHRoaXMgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEluIG9yZGVyIG9mIHByZWNlZGVuY2UgPT4gdHlwZS5kaXNwbGF5TmFtZSAtPiB0eXBlLm5hbWUgLT4gdHlwZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ25hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ25hbWUnLCBfVXRpbHMuZGlzcGxheU5hbWVPZk5vZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGN1cnJlbnQgbm9kZSBoYXMgdGhlIGdpdmVuIGNsYXNzIG5hbWUgb3Igbm90LlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoYXNDbGFzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoY2xhc3NOYW1lICYmIGNsYXNzTmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0l0IGxvb2tzIGxpa2UgeW91XFwncmUgY2FsbGluZyBgU2hhbGxvd1dyYXBwZXI6Omhhc0NsYXNzKClgIHdpdGggYSBDU1Mgc2VsZWN0b3IuIGhhc0NsYXNzKCkgZXhwZWN0cyBhIGNsYXNzIG5hbWUsIG5vdCBhIENTUyBzZWxlY3Rvci4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ2hhc0NsYXNzJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9SU1RUcmF2ZXJzYWwuaGFzQ2xhc3NOYW1lKShuLCBjbGFzc05hbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc0NsYXNzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgdGhyb3VnaCBlYWNoIG5vZGUgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciBhbmQgZXhlY3V0ZXMgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIHdpdGggYVxuICAgICAqIHdyYXBwZXIgYXJvdW5kIHRoZSBjb3JyZXNwb25kaW5nIG5vZGUgcGFzc2VkIGluIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmb3JFYWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICAgICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5nZXROb2Rlc0ludGVybmFsKCkuZm9yRWFjaChmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICAgIHJldHVybiBmbi5jYWxsKF90aGlzMTYsIF90aGlzMTYud3JhcChuKSwgaSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvckVhY2g7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBjdXJyZW50IGFycmF5IG9mIG5vZGVzIHRvIGFub3RoZXIgYXJyYXkuIEVhY2ggbm9kZSBpcyBwYXNzZWQgaW4gYXMgYSBgU2hhbGxvd1dyYXBwZXJgXG4gICAgICogdG8gdGhlIG1hcCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtYXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBtYXAoZm4pIHtcbiAgICAgICAgdmFyIF90aGlzMTcgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5tYXAoZnVuY3Rpb24gKG4sIGkpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE3LCBfdGhpczE3LndyYXAobiksIGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgdGhlIGN1cnJlbnQgYXJyYXkgb2Ygbm9kZXMgdG8gYSB2YWx1ZS4gRWFjaCBub2RlIGlzIHBhc3NlZCBpbiBhcyBhIGBTaGFsbG93V3JhcHBlcmBcbiAgICAgKiB0byB0aGUgcmVkdWNlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IGluaXRpYWxWYWx1ZSAtIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlZHVjZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlZHVjZShmbikge1xuICAgICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE4LCBhY2N1bSwgX3RoaXMxOC53cmFwKG4pLCBpKTtcbiAgICAgICAgICB9LCBpbml0aWFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMxOCwgaSA9PT0gMSA/IF90aGlzMTgud3JhcChhY2N1bSkgOiBhY2N1bSwgX3RoaXMxOC53cmFwKG4pLCBpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWR1Y2U7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIHRoZSBjdXJyZW50IGFycmF5IG9mIG5vZGVzIHRvIGFub3RoZXIgYXJyYXksIGZyb20gcmlnaHQgdG8gbGVmdC4gRWFjaCBub2RlIGlzIHBhc3NlZFxuICAgICAqIGluIGFzIGEgYFNoYWxsb3dXcmFwcGVyYCB0byB0aGUgcmVkdWNlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IGluaXRpYWxWYWx1ZSAtIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlZHVjZVJpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoZm4pIHtcbiAgICAgICAgdmFyIF90aGlzMTkgPSB0aGlzO1xuXG4gICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0ludGVybmFsKCkucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE5LCBhY2N1bSwgX3RoaXMxOS53cmFwKG4pLCBpKTtcbiAgICAgICAgICB9LCBpbml0aWFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2VSaWdodChmdW5jdGlvbiAoYWNjdW0sIG4sIGkpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE5LCBpID09PSAxID8gX3RoaXMxOS53cmFwKGFjY3VtKSA6IGFjY3VtLCBfdGhpczE5LndyYXAobiksIGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZHVjZVJpZ2h0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIHdpdGggYSBzdWJzZXQgb2YgdGhlIG5vZGVzIG9mIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBhY2NvcmRpbmcgdG8gdGhlXG4gICAgICogcnVsZXMgb2YgYEFycmF5I3NsaWNlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiZWdpblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NsaWNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLnNsaWNlKGJlZ2luLCBlbmQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNsaWNlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbnkgb2YgdGhlIG5vZGVzIGluIHRoZSB3cmFwcGVyIG1hdGNoIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzb21lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc29tZShzZWxlY3Rvcikge1xuICAgICAgICBpZiAodGhpc1tST09UXSA9PT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hhbGxvd1dyYXBwZXI6OnNvbWUoKSBjYW4gbm90IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmVkaWNhdGUgPSAoMCwgX3NlbGVjdG9ycy5idWlsZFByZWRpY2F0ZSkoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0ludGVybmFsKCkuc29tZShwcmVkaWNhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc29tZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgYW55IG9mIHRoZSBub2RlcyBpbiB0aGUgd3JhcHBlciBwYXNzIHRoZSBwcm92aWRlZCBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc29tZVdoZXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc29tZVdoZXJlKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLnNvbWUoZnVuY3Rpb24gKG4sIGkpIHtcbiAgICAgICAgICByZXR1cm4gcHJlZGljYXRlLmNhbGwoX3RoaXMyMCwgX3RoaXMyMC53cmFwKG4pLCBpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb21lV2hlcmU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFsbCBvZiB0aGUgbm9kZXMgaW4gdGhlIHdyYXBwZXIgbWF0Y2ggdGhlIHByb3ZpZGVkIHNlbGVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IHNlbGVjdG9yXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2V2ZXJ5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZXZlcnkoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIHByZWRpY2F0ZSA9ICgwLCBfc2VsZWN0b3JzLmJ1aWxkUHJlZGljYXRlKShzZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5ldmVyeShwcmVkaWNhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlcnk7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFueSBvZiB0aGUgbm9kZXMgaW4gdGhlIHdyYXBwZXIgcGFzcyB0aGUgcHJvdmlkZWQgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2V2ZXJ5V2hlcmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBldmVyeVdoZXJlKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLmV2ZXJ5KGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKF90aGlzMjEsIF90aGlzMjEud3JhcChuKSwgaSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlcnlXaGVyZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kIHVzZWQgdG8gY3JlYXRlIG5ldyB3cmFwcGVycyB3aXRoIGEgbWFwcGluZyBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gYXJyYXkgb2ZcbiAgICAgKiBub2RlcyBpbiByZXNwb25zZSB0byBhIHNpbmdsZSBub2RlIHdyYXBwZXIuIFRoZSByZXR1cm5lZCB3cmFwcGVyIGlzIGEgc2luZ2xlIHdyYXBwZXIgYXJvdW5kXG4gICAgICogYWxsIG9mIHRoZSBtYXBwZWQgbm9kZXMgZmxhdHRlbmVkIChhbmQgZGUtZHVwbGljYXRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmxhdE1hcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGZsYXRNYXAoZm4pIHtcbiAgICAgICAgdmFyIF90aGlzMjIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBub2RlcyA9IHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLm1hcChmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICAgIHJldHVybiBmbi5jYWxsKF90aGlzMjIsIF90aGlzMjIud3JhcChuKSwgaSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmxhdHRlbmVkID0gKDAsIF9mbGF0dGVuMlsnZGVmYXVsdCddKShub2RlcywgdHJ1ZSk7XG4gICAgICAgIHZhciB1bmlxdWVzID0gKDAsIF91bmlxMlsnZGVmYXVsdCddKShmbGF0dGVuZWQpO1xuICAgICAgICB2YXIgY29tcGFjdGVkID0gKDAsIF9jb21wYWN0MlsnZGVmYXVsdCddKSh1bmlxdWVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcChjb21wYWN0ZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmxhdE1hcDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBub2RlcyBpbiB0aGUgY3VycmVudCB3cmFwcGVyIG5vZGVzJyByZW5kZXIgdHJlZXMgdGhhdCBtYXRjaCB0aGUgcHJvdmlkZWQgcHJlZGljYXRlXG4gICAgICogZnVuY3Rpb24uIFRoZSBwcmVkaWNhdGUgZnVuY3Rpb24gd2lsbCByZWNlaXZlIHRoZSBub2RlcyBpbnNpZGUgYSBTaGFsbG93V3JhcHBlciBhcyBpdHNcbiAgICAgKiBmaXJzdCBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmluZFdoZXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZmluZFdoZXJlKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZpbmRXaGVyZVVud3JhcHBlZCh0aGlzLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUoX3RoaXMyMy53cmFwKG4pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaW5kV2hlcmU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBub2RlIGF0IGEgZ2l2ZW4gaW5kZXggb2YgdGhlIGN1cnJlbnQgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtSZWFjdEVsZW1lbnR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldChpbmRleCkge1xuICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5nZXRBZGFwdGVyKSh0aGlzW09QVElPTlNdKS5ub2RlVG9FbGVtZW50KHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpW2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIG5vZGUgYXQgYSBnaXZlbiBpbmRleCBvZiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGF0KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy5nZXROb2Rlc0ludGVybmFsKClbaW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBmaXJzdCBub2RlIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcnN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0KDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIGxhc3Qgbm9kZSBvZiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdsYXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gbGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQodGhpcy5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBEZWxlZ2F0ZXMgdG8gZXhpc3RzKClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0VtcHR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdFbnp5bWU6OkRlcHJlY2F0ZWQgbWV0aG9kIGlzRW1wdHkoKSBjYWxsZWQsIHVzZSBleGlzdHMoKSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gIXRoaXMuZXhpc3RzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0VtcHR5O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IHdyYXBwZXIgaGFzIG5vZGVzLiBGYWxzZSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXhpc3RzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXhpc3RzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgdGhhdCB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaGFzIGEgbGVuZ3RoIG90aGVyIHRoYW4gb25lLlxuICAgICAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gZW5mb3JjZSB0aGF0IGNlcnRhaW4gbWV0aG9kcyBhcmUgb25seSBydW4gb24gYSB3cmFwcGVyIHdoZW4gaXQgaXNcbiAgICAgKiB3cmFwcGluZyBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NpbmdsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNpbmdsZShuYW1lLCBmbikge1xuICAgICAgICB2YXIgZm5OYW1lID0gdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZSA6ICd1bmtub3duJztcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gZm4gOiBuYW1lO1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBcXHUyMDFDJyArIGZuTmFtZSArICdcXHUyMDFEIGlzIG9ubHkgbWVhbnQgdG8gYmUgcnVuIG9uIGEgc2luZ2xlIG5vZGUuICcgKyBTdHJpbmcodGhpcy5sZW5ndGgpICsgJyBmb3VuZCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMuZ2V0Tm9kZUludGVybmFsKCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2luZ2xlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogSGVscGZ1bCB1dGlsaXR5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgd3JhcHBlciB3aXRoIHRoZSBzYW1lIHJvb3QgYXMgdGhlIGN1cnJlbnQgd3JhcHBlciwgd2l0aFxuICAgICAqIGFueSBub2RlcyBwYXNzZWQgaW4gYXMgdGhlIGZpcnN0IHBhcmFtZXRlciBhdXRvbWF0aWNhbGx5IHdyYXBwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEByZXR1cm5zIHtTaGFsbG93V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnd3JhcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHdyYXAobm9kZSkge1xuICAgICAgICB2YXIgcm9vdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpc1tST09UXTtcblxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNoYWxsb3dXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MyAtIDJdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KFNoYWxsb3dXcmFwcGVyLCBbbnVsbF0uY29uY2F0KFtub2RlLCByb290XSwgYXJncykpKSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gd3JhcDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gSFRNTC1saWtlIHN0cmluZyBvZiB0aGUgc2hhbGxvdyByZW5kZXIgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gKE9wdGlvbmFsKSBQcm9wZXJ0eSBiYWcgb2YgYWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIG9wdGlvbnMuaWdub3JlUHJvcHMgLSBpZiB0cnVlLCBwcm9wcyBhcmUgb21pdHRlZCBmcm9tIHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVidWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgIHJldHVybiAoMCwgX0RlYnVnLmRlYnVnTm9kZXMpKHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlYnVnO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBpbnRlcmNlcHRlciBhbmQgcmV0dXJucyBpdHNlbGYuIGludGVyY2VwdGVyIGlzIGNhbGxlZCB3aXRoIGl0c2VsZi5cbiAgICAgKiBUaGlzIGlzIGhlbHBmdWwgd2hlbiBkZWJ1Z2dpbmcgbm9kZXMgaW4gbWV0aG9kIGNoYWlucy5cbiAgICAgKiBAcGFyYW0gZm5cbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RhcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHRhcChpbnRlcmNlcHRlcikge1xuICAgICAgICBpbnRlcmNlcHRlcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXA7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBQcmltYXJpbHkgdXNlZnVsIGZvciBIT0NzIChoaWdoZXItb3JkZXIgY29tcG9uZW50cyksIHRoaXMgbWV0aG9kIG1heSBvbmx5IGJlXG4gICAgICogcnVuIG9uIGEgc2luZ2xlLCBub24tRE9NIG5vZGUsIGFuZCB3aWxsIHJldHVybiB0aGUgbm9kZSwgc2hhbGxvdy1yZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1NoYWxsb3dXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGl2ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMjQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSk7XG4gICAgICAgIHZhciBuYW1lID0gJ2RpdmUnO1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUobmFtZSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICBpZiAobiAmJiBuLm5vZGVUeXBlID09PSAnaG9zdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjonICsgbmFtZSArICcoKSBjYW4gbm90IGJlIGNhbGxlZCBvbiBIb3N0IENvbXBvbmVudHMnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVsID0gKDAsIF9VdGlscy5nZXRBZGFwdGVyKShfdGhpczI0W09QVElPTlNdKS5ub2RlVG9FbGVtZW50KG4pO1xuICAgICAgICAgIGlmICghKDAsIF9VdGlscy5pc0N1c3RvbUNvbXBvbmVudEVsZW1lbnQpKGVsLCBhZGFwdGVyKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU2hhbGxvd1dyYXBwZXI6OicgKyBuYW1lICsgJygpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBjb21wb25lbnRzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGhpczI0LndyYXAoZWwsIG51bGwsICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgX3RoaXMyNFtPUFRJT05TXSwgb3B0aW9ucykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpdmU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBTdHJpcHMgb3V0IGFsbCB0aGUgbm90IGhvc3Qtbm9kZXMgZnJvbSB0aGUgbGlzdCBvZiBub2Rlc1xuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgaG9zdCBub2Rlc1xuICAgICAqIChhY3R1YWxseSByZW5kZXJlZCBIVE1MIGVsZW1lbnRzKSBpZ25vcmluZyB0aGUgUmVhY3Qgbm9kZXMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hvc3ROb2RlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGhvc3ROb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyV2hlcmUoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIG4udHlwZSgpID09PSAnc3RyaW5nJztcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBob3N0Tm9kZXM7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gU2hhbGxvd1dyYXBwZXI7XG59KCk7XG5cbmlmIChfVXRpbHMuSVRFUkFUT1JfU1lNQk9MKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaGFsbG93V3JhcHBlci5wcm90b3R5cGUsIF9VdGlscy5JVEVSQVRPUl9TWU1CT0wsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKCkge1xuICAgICAgICB2YXIgaXRlciA9IHRoaXNbTk9ERVNdW19VdGlscy5JVEVSQVRPUl9TWU1CT0xdKCk7XG4gICAgICAgIHZhciBhZGFwdGVyID0gKDAsIF9VdGlscy5nZXRBZGFwdGVyKSh0aGlzW09QVElPTlNdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICB2YXIgbmV4dCA9IGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgICBpZiAobmV4dC5kb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFkYXB0ZXIubm9kZVRvRWxlbWVudChuZXh0LnZhbHVlKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9KClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgIH0oKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJpdmF0ZVdhcm5pbmcocHJvcCwgZXh0cmFNZXNzYWdlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaGFsbG93V3JhcHBlci5wcm90b3R5cGUsIHByb3AsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcXG4gICAgICAgIEF0dGVtcHRlZCB0byBhY2Nlc3MgU2hhbGxvd1dyYXBwZXI6OicgKyBTdHJpbmcocHJvcCkgKyAnLCB3aGljaCB3YXMgcHJldmlvdXNseSBhIHByaXZhdGUgcHJvcGVydHkgb25cXG4gICAgICAgIEVuenltZSBTaGFsbG93V3JhcHBlciBpbnN0YW5jZXMsIGJ1dCBpcyBubyBsb25nZXIgYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24uXFxuICAgICAgICAnICsgU3RyaW5nKGV4dHJhTWVzc2FnZSkgKyAnXFxuICAgICAgJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXQ7XG4gICAgfSgpLFxuXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICB9KTtcbn1cblxucHJpdmF0ZVdhcm5pbmcoJ25vZGUnLCAnQ29uc2lkZXIgdXNpbmcgdGhlIGdldEVsZW1lbnQoKSBtZXRob2QgaW5zdGVhZC4nKTtcbnByaXZhdGVXYXJuaW5nKCdub2RlcycsICdDb25zaWRlciB1c2luZyB0aGUgZ2V0RWxlbWVudHMoKSBtZXRob2QgaW5zdGVhZC4nKTtcbnByaXZhdGVXYXJuaW5nKCdyZW5kZXJlcicsICcnKTtcbnByaXZhdGVXYXJuaW5nKCdvcHRpb25zJywgJycpO1xucHJpdmF0ZVdhcm5pbmcoJ2NvbXBsZXhTZWxlY3RvcicsICcnKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gU2hhbGxvd1dyYXBwZXI7Il19
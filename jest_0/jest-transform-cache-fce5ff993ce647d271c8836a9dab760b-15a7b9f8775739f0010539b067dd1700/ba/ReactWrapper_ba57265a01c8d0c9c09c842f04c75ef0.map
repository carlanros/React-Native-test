{"version":3,"sources":["ReactWrapper.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_object","require","_object2","_interopRequireDefault","_cheerio","_cheerio2","_flatten","_flatten2","_uniq","_uniq2","_compact","_compact2","_Utils","_Debug","_RSTTraversal","_selectors","__esModule","_classCallCheck","instance","TypeError","noop","NODE","sym","NODES","RENDERER","UNRENDERED","ROOT","OPTIONS","findWhereUnwrapped","wrapper","predicate","filter","arguments","undefined","treeFilter","flatMap","n","getNodeInternal","filterWhereUnwrapped","wrap","getNodesInternal","ReactWrapper","nodes","root","passedOptions","global","window","document","Error","options","makeOptions","privateSet","renderer","getAdapter","createRenderer","mode","render","context","node","getNode","Array","isArray","getElement","nodeToElement","getElements","map","getNodes","getDOMNode","adapter","single","nodeToHostNode","ref","refname","refs","update","_this","unmount","_this2","mount","_this3","setProps","_this4","callback","cloneElement","setState","state","_this5","setContext","_this6","matchesElement","_this7","nodeMatches","a","b","contains","nodeOrNodes","other","containsChildrenSubArray","nodeEqual","containsMatchingElement","containsAllMatchingElements","_this8","every","containsAnyMatchingElements","_this9","some","find","selector","reduceTreesBySelector","is","buildPredicate","isEmptyRender","rendered","filterWhere","_this10","not","text","textContent","html","_this11","outerHTML","replace","load","simulate","event","_this12","mock","simulateEvent","propsOfNode","name","_this13","_state","_this14","_context","children","allChildren","childrenOfNode","x","childAt","index","_this15","at","parents","_this16","allParents","parentsOfNode","parent","get","closest","first","prop","propName","type","typeOfNode","displayNameOfNode","hasClass","className","indexOf","console","warn","hasClassName","forEach","fn","_this17","call","_this18","reduce","_this19","initialValue","accum","reduceRight","_this20","slice","begin","end","someWhere","_this21","everyWhere","_this22","_this23","flattened","uniques","compacted","findWhere","_this24","last","isEmpty","exists","fnName","String","_len","args","_key","Function","bind","apply","concat","debug","debugNodes","tap","intercepter","detach","attachTo","hostNodes","ITERATOR_SYMBOL","iter","next","done","privateWarning","extraMessage"],"mappings":"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","file":"ReactWrapper.js","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _object = require('object.assign');\n\nvar _object2 = _interopRequireDefault(_object);\n\nvar _cheerio = require('cheerio');\n\nvar _cheerio2 = _interopRequireDefault(_cheerio);\n\nvar _flatten = require('lodash/flatten');\n\nvar _flatten2 = _interopRequireDefault(_flatten);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _compact = require('lodash/compact');\n\nvar _compact2 = _interopRequireDefault(_compact);\n\nvar _Utils = require('./Utils');\n\nvar _Debug = require('./Debug');\n\nvar _RSTTraversal = require('./RSTTraversal');\n\nvar _selectors = require('./selectors');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar noop = function noop() {};\n\nvar NODE = (0, _Utils.sym)('__node__');\nvar NODES = (0, _Utils.sym)('__nodes__');\nvar RENDERER = (0, _Utils.sym)('__renderer__');\nvar UNRENDERED = (0, _Utils.sym)('__unrendered__');\nvar ROOT = (0, _Utils.sym)('__root__');\nvar OPTIONS = (0, _Utils.sym)('__options__');\n\n/**\n * Finds all nodes in the current wrapper nodes' render trees that match the provided predicate\n * function.\n *\n * @param {ReactWrapper} wrapper\n * @param {Function} predicate\n * @param {Function} filter\n * @returns {ReactWrapper}\n */\nfunction findWhereUnwrapped(wrapper, predicate) {\n  var filter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _RSTTraversal.treeFilter;\n\n  return wrapper.flatMap(function (n) {\n    return filter(n.getNodeInternal(), predicate);\n  });\n}\n\n/**\n * Returns a new wrapper instance with only the nodes of the current wrapper instance that match\n * the provided predicate function.\n *\n * @param {ReactWrapper} wrapper\n * @param {Function} predicate\n * @returns {ReactWrapper}\n */\nfunction filterWhereUnwrapped(wrapper, predicate) {\n  return wrapper.wrap((0, _compact2['default'])(wrapper.getNodesInternal().filter(predicate)));\n}\n\n/**\n * @class ReactWrapper\n */\n\nvar ReactWrapper = function () {\n  function ReactWrapper(nodes, root) {\n    var passedOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, ReactWrapper);\n\n    if (!global.window && !global.document) {\n      throw new Error('It looks like you called `mount()` without a global document being loaded.');\n    }\n    var options = (0, _Utils.makeOptions)(passedOptions);\n\n    if (!root) {\n      (0, _Utils.privateSet)(this, UNRENDERED, nodes);\n      var renderer = (0, _Utils.getAdapter)(options).createRenderer((0, _object2['default'])({ mode: 'mount' }, options));\n      (0, _Utils.privateSet)(this, RENDERER, renderer);\n      renderer.render(nodes, options.context);\n      (0, _Utils.privateSet)(this, ROOT, this);\n      var node = this[RENDERER].getNode();\n      (0, _Utils.privateSet)(this, NODE, node);\n      (0, _Utils.privateSet)(this, NODES, [node]);\n      this.length = 1;\n    } else {\n      (0, _Utils.privateSet)(this, UNRENDERED, null);\n      (0, _Utils.privateSet)(this, RENDERER, root[RENDERER]);\n      (0, _Utils.privateSet)(this, ROOT, root);\n      if (!nodes) {\n        (0, _Utils.privateSet)(this, NODE, null);\n        (0, _Utils.privateSet)(this, NODES, []);\n      } else if (!Array.isArray(nodes)) {\n        (0, _Utils.privateSet)(this, NODE, nodes);\n        (0, _Utils.privateSet)(this, NODES, [nodes]);\n      } else {\n        (0, _Utils.privateSet)(this, NODE, nodes[0]);\n        (0, _Utils.privateSet)(this, NODES, nodes);\n      }\n      this.length = this[NODES].length;\n    }\n    (0, _Utils.privateSet)(this, OPTIONS, root ? root[OPTIONS] : options);\n  }\n\n  /**\n   * Returns the root wrapper\n   *\n   * @return {ReactWrapper}\n   */\n\n\n  _createClass(ReactWrapper, [{\n    key: 'root',\n    value: function () {\n      function root() {\n        return this[ROOT];\n      }\n\n      return root;\n    }()\n\n    /**\n     * Returns the wrapped component.\n     *\n     * @return {ReactComponent}\n     */\n\n  }, {\n    key: 'getNodeInternal',\n    value: function () {\n      function getNodeInternal() {\n        if (this.length !== 1) {\n          throw new Error('ReactWrapper::getNode() can only be called when wrapping one node');\n        }\n        return this[NODES][0];\n      }\n\n      return getNodeInternal;\n    }()\n\n    /**\n     * Returns the the wrapped components.\n     *\n     * @return {Array<ReactComponent>}\n     */\n\n  }, {\n    key: 'getNodesInternal',\n    value: function () {\n      function getNodesInternal() {\n        return this[NODES];\n      }\n\n      return getNodesInternal;\n    }()\n\n    /**\n     * Returns the wrapped ReactElement.\n     *\n     * @return {ReactElement}\n     */\n\n  }, {\n    key: 'getElement',\n    value: function () {\n      function getElement() {\n        if (this.length !== 1) {\n          throw new Error('ReactWrapper::getElement() can only be called when wrapping one node');\n        }\n        return (0, _Utils.getAdapter)(this[OPTIONS]).nodeToElement(this[NODE]);\n      }\n\n      return getElement;\n    }()\n\n    /**\n     * Returns the wrapped ReactElements.\n     *\n     * @return {Array<ReactElement>}\n     */\n\n  }, {\n    key: 'getElements',\n    value: function () {\n      function getElements() {\n        return this[NODES].map((0, _Utils.getAdapter)(this[OPTIONS]).nodeToElement);\n      }\n\n      return getElements;\n    }()\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'getNode',\n    value: function () {\n      function getNode() {\n        throw new Error('ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead');\n      }\n\n      return getNode;\n    }()\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'getNodes',\n    value: function () {\n      function getNodes() {\n        throw new Error('ReactWrapper::getNodes() is no longer supported.');\n      }\n\n      return getNodes;\n    }()\n\n    /**\n     * Returns the outer most DOMComponent of the current wrapper.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @returns {DOMComponent}\n     */\n\n  }, {\n    key: 'getDOMNode',\n    value: function () {\n      function getDOMNode() {\n        var adapter = (0, _Utils.getAdapter)(this[OPTIONS]);\n        return this.single('getDOMNode', function (n) {\n          return adapter.nodeToHostNode(n);\n        });\n      }\n\n      return getDOMNode;\n    }()\n\n    /**\n     * If the root component contained a ref, you can access it here\n     * and get a wrapper around it.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * @param {String} refname\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'ref',\n    value: function () {\n      function ref(refname) {\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::ref(refname) can only be called on the root');\n        }\n        return this.instance().refs[refname];\n      }\n\n      return ref;\n    }()\n\n    /**\n     * Gets the instance of the component being rendered as the root node passed into `mount()`.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * Example:\n     * ```\n     * const wrapper = mount(<MyComponent />);\n     * const inst = wrapper.instance();\n     * expect(inst).to.be.instanceOf(MyComponent);\n     * ```\n     * @returns {ReactComponent}\n     */\n\n  }, {\n    key: 'instance',\n    value: function () {\n      function instance() {\n        if (this.length !== 1) {\n          throw new Error('ReactWrapper::instance() can only be called on single nodes');\n        }\n        return this[NODE].instance;\n      }\n\n      return instance;\n    }()\n\n    /**\n     * Forces a re-render. Useful to run before checking the render output if something external\n     * may be updating the state of the component somewhere.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'update',\n    value: function () {\n      function update() {\n        var _this = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::update() can only be called on the root');\n        }\n        this.single('update', function () {\n          var node = _this[RENDERER].getNode();\n          _this[NODE] = node;\n          _this[NODES] = [node];\n        });\n        return this;\n      }\n\n      return update;\n    }()\n\n    /**\n     * A method that unmounts the component. This can be used to simulate a component going through\n     * and unmount/mount lifecycle.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'unmount',\n    value: function () {\n      function unmount() {\n        var _this2 = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::unmount() can only be called on the root');\n        }\n        this.single('unmount', function () {\n          _this2[RENDERER].unmount();\n          _this2.update();\n        });\n        return this;\n      }\n\n      return unmount;\n    }()\n\n    /**\n     * A method that re-mounts the component. This can be used to simulate a component going through\n     * an unmount/mount lifecycle.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'mount',\n    value: function () {\n      function mount() {\n        var _this3 = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::mount() can only be called on the root');\n        }\n        this.single('mount', function () {\n          _this3[RENDERER].render(_this3[UNRENDERED], _this3[OPTIONS].context, function () {\n            return _this3.update();\n          });\n        });\n        return this;\n      }\n\n      return mount;\n    }()\n\n    /**\n     * A method that sets the props of the root component, and re-renders. Useful for when you are\n     * wanting to test how the component behaves over time with changing props. Calling this, for\n     * instance, will call the `componentWillReceiveProps` lifecycle method.\n     *\n     * Similar to `setState`, this method accepts a props object and will merge it in with the already\n     * existing props.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * @param {Object} props object\n     * @param {Function} cb - callback function\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'setProps',\n    value: function () {\n      function setProps(props) {\n        var _this4 = this;\n\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::setProps() can only be called on the root');\n        }\n        if (typeof callback !== 'function') {\n          throw new TypeError('ReactWrapper::setProps() expects a function as its second argument');\n        }\n        var adapter = (0, _Utils.getAdapter)(this[OPTIONS]);\n        this[UNRENDERED] = (0, _Utils.cloneElement)(adapter, this[UNRENDERED], props);\n        this[RENDERER].render(this[UNRENDERED], null, function () {\n          _this4.update();\n          callback();\n        });\n        return this;\n      }\n\n      return setProps;\n    }()\n\n    /**\n     * A method to invoke `setState` on the root component instance similar to how you might in the\n     * definition of the component, and re-renders.  This method is useful for testing your component\n     * in hard to achieve states, however should be used sparingly. If possible, you should utilize\n     * your component's external API in order to get it into whatever state you want to test, in order\n     * to be as accurate of a test as possible. This is not always practical, however.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * @param {Object} state to merge\n     * @param {Function} cb - callback function\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'setState',\n    value: function () {\n      function setState(state) {\n        var _this5 = this;\n\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::setState() can only be called on the root');\n        }\n        if (typeof callback !== 'function') {\n          throw new TypeError('ReactWrapper::setState() expects a function as its second argument');\n        }\n        this.instance().setState(state, function () {\n          _this5.update();\n          callback();\n        });\n        return this;\n      }\n\n      return setState;\n    }()\n\n    /**\n     * A method that sets the context of the root component, and re-renders. Useful for when you are\n     * wanting to test how the component behaves over time with changing contexts.\n     *\n     * NOTE: can only be called on a wrapper instance that is also the root instance.\n     *\n     * @param {Object} context object\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'setContext',\n    value: function () {\n      function setContext(context) {\n        var _this6 = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::setContext() can only be called on the root');\n        }\n        if (!this[OPTIONS].context) {\n          throw new Error('ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option');\n        }\n        this[RENDERER].render(this[UNRENDERED], context, function () {\n          return _this6.update();\n        });\n        return this;\n      }\n\n      return setContext;\n    }()\n\n    /**\n     * Whether or not a given react element matches the current render tree.\n     * It will determine if the wrapper root node \"looks like\" the expected\n     * element by checking if all props of the expected element are present\n     * on the wrapper root node and equals to each other.\n     *\n     * Example:\n     * ```\n     * // MyComponent outputs <div class=\"foo\">Hello</div>\n     * const wrapper = mount(<MyComponent />);\n     * expect(wrapper.matchesElement(<div>Hello</div>)).to.equal(true);\n     * ```\n     *\n     * @param {ReactElement} node\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'matchesElement',\n    value: function () {\n      function matchesElement(node) {\n        var _this7 = this;\n\n        return this.single('matchesElement', function () {\n          return (0, _Utils.nodeMatches)(node, _this7.getNodeInternal(), function (a, b) {\n            return a <= b;\n          });\n        });\n      }\n\n      return matchesElement;\n    }()\n\n    /**\n     * Whether or not a given react element exists in the mount render tree.\n     *\n     * Example:\n     * ```\n     * const wrapper = mount(<MyComponent />);\n     * expect(wrapper.contains(<div className=\"foo bar\" />)).to.equal(true);\n     * ```\n     *\n     * @param {ReactElement|Array<ReactElement>} nodeOrNodes\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'contains',\n    value: function () {\n      function contains(nodeOrNodes) {\n        var predicate = Array.isArray(nodeOrNodes) ? function (other) {\n          return (0, _Utils.containsChildrenSubArray)(_Utils.nodeEqual, other, nodeOrNodes);\n        } : function (other) {\n          return (0, _Utils.nodeEqual)(nodeOrNodes, other);\n        };\n        return findWhereUnwrapped(this, predicate).length > 0;\n      }\n\n      return contains;\n    }()\n\n    /**\n     * Whether or not a given react element exists in the current render tree.\n     * It will determine if one of the wrappers element \"looks like\" the expected\n     * element by checking if all props of the expected element are present\n     * on the wrappers element and equals to each other.\n     *\n     * Example:\n     * ```\n     * // MyComponent outputs <div><div class=\"foo\">Hello</div></div>\n     * const wrapper = mount(<MyComponent />);\n     * expect(wrapper.containsMatchingElement(<div>Hello</div>)).to.equal(true);\n     * ```\n     *\n     * @param {ReactElement} node\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'containsMatchingElement',\n    value: function () {\n      function containsMatchingElement(node) {\n        var predicate = function () {\n          function predicate(other) {\n            return (0, _Utils.nodeMatches)(node, other, function (a, b) {\n              return a <= b;\n            });\n          }\n\n          return predicate;\n        }();\n        return findWhereUnwrapped(this, predicate).length > 0;\n      }\n\n      return containsMatchingElement;\n    }()\n\n    /**\n     * Whether or not all the given react elements exists in the current render tree.\n     * It will determine if one of the wrappers element \"looks like\" the expected\n     * element by checking if all props of the expected element are present\n     * on the wrappers element and equals to each other.\n     *\n     * Example:\n     * ```\n     * const wrapper = mount(<MyComponent />);\n     * expect(wrapper.containsAllMatchingElements([\n     *   <div>Hello</div>,\n     *   <div>Goodbye</div>,\n     * ])).to.equal(true);\n     * ```\n     *\n     * @param {Array<ReactElement>} nodes\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'containsAllMatchingElements',\n    value: function () {\n      function containsAllMatchingElements(nodes) {\n        var _this8 = this;\n\n        if (!Array.isArray(nodes)) {\n          throw new TypeError('nodes should be an Array');\n        }\n\n        return nodes.every(function (node) {\n          return _this8.containsMatchingElement(node);\n        });\n      }\n\n      return containsAllMatchingElements;\n    }()\n\n    /**\n     * Whether or not one of the given react elements exists in the current render tree.\n     * It will determine if one of the wrappers element \"looks like\" the expected\n     * element by checking if all props of the expected element are present\n     * on the wrappers element and equals to each other.\n     *\n     * Example:\n     * ```\n     * const wrapper = mount(<MyComponent />);\n     * expect(wrapper.containsAnyMatchingElements([\n     *   <div>Hello</div>,\n     *   <div>Goodbye</div>,\n     * ])).to.equal(true);\n     * ```\n     *\n     * @param {Array<ReactElement>} nodes\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'containsAnyMatchingElements',\n    value: function () {\n      function containsAnyMatchingElements(nodes) {\n        var _this9 = this;\n\n        return Array.isArray(nodes) && nodes.some(function (node) {\n          return _this9.containsMatchingElement(node);\n        });\n      }\n\n      return containsAnyMatchingElements;\n    }()\n\n    /**\n     * Finds every node in the render tree of the current wrapper that matches the provided selector.\n     *\n     * @param {String|Function} selector\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'find',\n    value: function () {\n      function find(selector) {\n        return this.wrap((0, _selectors.reduceTreesBySelector)(selector, this.getNodesInternal()));\n      }\n\n      return find;\n    }()\n\n    /**\n     * Returns whether or not current node matches a provided selector.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @param {String|Function} selector\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'is',\n    value: function () {\n      function is(selector) {\n        var predicate = (0, _selectors.buildPredicate)(selector);\n        return this.single('is', function (n) {\n          return predicate(n);\n        });\n      }\n\n      return is;\n    }()\n\n    /**\n     * Returns true if the component rendered nothing, i.e., null or false.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'isEmptyRender',\n    value: function () {\n      function isEmptyRender() {\n        return this.single('isEmptyRender', function (n) {\n          return n.rendered === null;\n        });\n      }\n\n      return isEmptyRender;\n    }()\n\n    /**\n     * Returns a new wrapper instance with only the nodes of the current wrapper instance that match\n     * the provided predicate function.\n     *\n     * @param {Function} predicate\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'filterWhere',\n    value: function () {\n      function filterWhere(predicate) {\n        var _this10 = this;\n\n        return filterWhereUnwrapped(this, function (n) {\n          return predicate(_this10.wrap(n));\n        });\n      }\n\n      return filterWhere;\n    }()\n\n    /**\n     * Returns a new wrapper instance with only the nodes of the current wrapper instance that match\n     * the provided selector.\n     *\n     * @param {String|Function} selector\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'filter',\n    value: function () {\n      function filter(selector) {\n        var predicate = (0, _selectors.buildPredicate)(selector);\n        return filterWhereUnwrapped(this, predicate);\n      }\n\n      return filter;\n    }()\n\n    /**\n     * Returns a new wrapper instance with only the nodes of the current wrapper that did not match\n     * the provided selector. Essentially the inverse of `filter`.\n     *\n     * @param {String|Function} selector\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'not',\n    value: function () {\n      function not(selector) {\n        var predicate = (0, _selectors.buildPredicate)(selector);\n        return filterWhereUnwrapped(this, function (n) {\n          return !predicate(n);\n        });\n      }\n\n      return not;\n    }()\n\n    /**\n     * Returns a string of the rendered text of the current render tree.  This function should be\n     * looked at with skepticism if being used to test what the actual HTML output of the component\n     * will be. If that is what you would like to test, use enzyme's `render` function instead.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @returns {String}\n     */\n\n  }, {\n    key: 'text',\n    value: function () {\n      function text() {\n        var adapter = (0, _Utils.getAdapter)(this[OPTIONS]);\n        return this.single('text', function (n) {\n          return adapter.nodeToHostNode(n).textContent;\n        });\n      }\n\n      return text;\n    }()\n\n    /**\n     * Returns the HTML of the node.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @returns {String}\n     */\n\n  }, {\n    key: 'html',\n    value: function () {\n      function html() {\n        var _this11 = this;\n\n        return this.single('html', function (n) {\n          if (n === null) return null;\n          var adapter = (0, _Utils.getAdapter)(_this11[OPTIONS]);\n          var node = adapter.nodeToHostNode(n);\n          return node === null ? null : node.outerHTML.replace(/\\sdata-(reactid|reactroot)+=\"([^\"]*)+\"/g, '');\n        });\n      }\n\n      return html;\n    }()\n\n    /**\n     * Returns the current node rendered to HTML and wrapped in a CheerioWrapper.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @returns {CheerioWrapper}\n     */\n\n  }, {\n    key: 'render',\n    value: function () {\n      function render() {\n        var html = this.html();\n        return html === null ? (0, _cheerio2['default'])() : _cheerio2['default'].load('')(html);\n      }\n\n      return render;\n    }()\n\n    /**\n     * Used to simulate events. Pass an eventname and (optionally) event arguments. This method of\n     * testing events should be met with some skepticism.\n     *\n     * @param {String} event\n     * @param {Object} mock (optional)\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'simulate',\n    value: function () {\n      function simulate(event) {\n        var _this12 = this;\n\n        var mock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        this.single('simulate', function (n) {\n          _this12[RENDERER].simulateEvent(n, event, mock);\n          _this12[ROOT].update();\n        });\n        return this;\n      }\n\n      return simulate;\n    }()\n\n    /**\n     * Returns the props hash for the root node of the wrapper.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @returns {Object}\n     */\n\n  }, {\n    key: 'props',\n    value: function () {\n      function props() {\n        return this.single('props', _RSTTraversal.propsOfNode);\n      }\n\n      return props;\n    }()\n\n    /**\n     * Returns the state hash for the root node of the wrapper. Optionally pass in a prop name and it\n     * will return just that value.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @param {String} name (optional)\n     * @returns {*}\n     */\n\n  }, {\n    key: 'state',\n    value: function () {\n      function state(name) {\n        var _this13 = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::state() can only be called on the root');\n        }\n        var _state = this.single('state', function () {\n          return _this13.instance().state;\n        });\n        if (typeof name !== 'undefined') {\n          return _state[name];\n        }\n        return _state;\n      }\n\n      return state;\n    }()\n\n    /**\n     * Returns the context hash for the root node of the wrapper.\n     * Optionally pass in a prop name and it will return just that value.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @param {String} name (optional)\n     * @returns {*}\n     */\n\n  }, {\n    key: 'context',\n    value: function () {\n      function context(name) {\n        var _this14 = this;\n\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::context() can only be called on the root');\n        }\n        var instance = this.single('context', function () {\n          return _this14.instance();\n        });\n        if (instance === null) {\n          throw new Error('ReactWrapper::context() can only be called on components with instances');\n        }\n        var _context = instance.context;\n        if (typeof name !== 'undefined') {\n          return _context[name];\n        }\n        return _context;\n      }\n\n      return context;\n    }()\n\n    /**\n     * Returns a new wrapper with all of the children of the current wrapper.\n     *\n     * @param {String|Function} [selector]\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'children',\n    value: function () {\n      function children(selector) {\n        var allChildren = this.flatMap(function (n) {\n          return (0, _RSTTraversal.childrenOfNode)(n.getNodeInternal()).filter(function (x) {\n            return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object';\n          });\n        });\n        return selector ? allChildren.filter(selector) : allChildren;\n      }\n\n      return children;\n    }()\n\n    /**\n     * Returns a new wrapper with a specific child\n     *\n     * @param {Number} [index]\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'childAt',\n    value: function () {\n      function childAt(index) {\n        var _this15 = this;\n\n        return this.single('childAt', function () {\n          return _this15.children().at(index);\n        });\n      }\n\n      return childAt;\n    }()\n\n    /**\n     * Returns a wrapper around all of the parents/ancestors of the wrapper. Does not include the node\n     * in the current wrapper.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @param {String|Function} [selector]\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'parents',\n    value: function () {\n      function parents(selector) {\n        var _this16 = this;\n\n        var allParents = this.wrap(this.single('parents', function (n) {\n          return (0, _RSTTraversal.parentsOfNode)(n, _this16[ROOT].getNodeInternal());\n        }));\n        return selector ? allParents.filter(selector) : allParents;\n      }\n\n      return parents;\n    }()\n\n    /**\n     * Returns a wrapper around the immediate parent of the current node.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'parent',\n    value: function () {\n      function parent() {\n        return this.flatMap(function (n) {\n          return [n.parents().get(0)];\n        });\n      }\n\n      return parent;\n    }()\n\n    /**\n     *\n     * @param {String|Function} selector\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'closest',\n    value: function () {\n      function closest(selector) {\n        return this.is(selector) ? this : this.parents().filter(selector).first();\n      }\n\n      return closest;\n    }()\n\n    /**\n     * Returns the value of  prop with the given name of the root node.\n     *\n     * @param {String} propName\n     * @returns {*}\n     */\n\n  }, {\n    key: 'prop',\n    value: function () {\n      function prop(propName) {\n        return this.props()[propName];\n      }\n\n      return prop;\n    }()\n\n    /**\n     * Returns the key assigned to the current node.\n     *\n     * @returns {String}\n     */\n\n  }, {\n    key: 'key',\n    value: function () {\n      function key() {\n        return this.single('key', function (n) {\n          return n.key;\n        });\n      }\n\n      return key;\n    }()\n\n    /**\n     * Returns the type of the root node of this wrapper. If it's a composite component, this will be\n     * the component constructor. If it's native DOM node, it will be a string.\n     *\n     * @returns {String|Function}\n     */\n\n  }, {\n    key: 'type',\n    value: function () {\n      function type() {\n        return this.single('type', function (n) {\n          return (0, _Utils.typeOfNode)(n);\n        });\n      }\n\n      return type;\n    }()\n\n    /**\n     * Returns the name of the root node of this wrapper.\n     *\n     * In order of precedence => type.displayName -> type.name -> type.\n     *\n     * @returns {String}\n     */\n\n  }, {\n    key: 'name',\n    value: function () {\n      function name() {\n        return this.single('name', function (n) {\n          return (0, _Utils.displayNameOfNode)(n);\n        });\n      }\n\n      return name;\n    }()\n\n    /**\n     * Returns whether or not the current root node has the given class name or not.\n     *\n     * NOTE: can only be called on a wrapper of a single node.\n     *\n     * @param {String} className\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'hasClass',\n    value: function () {\n      function hasClass(className) {\n        if (className && className.indexOf('.') !== -1) {\n          // eslint-disable-next-line no-console\n          console.warn('It looks like you\\'re calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector.');\n        }\n        return this.single('hasClass', function (n) {\n          return (0, _RSTTraversal.hasClassName)(n, className);\n        });\n      }\n\n      return hasClass;\n    }()\n\n    /**\n     * Iterates through each node of the current wrapper and executes the provided function with a\n     * wrapper around the corresponding node passed in as the first argument.\n     *\n     * @param {Function} fn\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'forEach',\n    value: function () {\n      function forEach(fn) {\n        var _this17 = this;\n\n        this.getNodesInternal().forEach(function (n, i) {\n          return fn.call(_this17, _this17.wrap(n), i);\n        });\n        return this;\n      }\n\n      return forEach;\n    }()\n\n    /**\n     * Maps the current array of nodes to another array. Each node is passed in as a `ReactWrapper`\n     * to the map function.\n     *\n     * @param {Function} fn\n     * @returns {Array}\n     */\n\n  }, {\n    key: 'map',\n    value: function () {\n      function map(fn) {\n        var _this18 = this;\n\n        return this.getNodesInternal().map(function (n, i) {\n          return fn.call(_this18, _this18.wrap(n), i);\n        });\n      }\n\n      return map;\n    }()\n\n    /**\n     * Reduces the current array of nodes to another array.\n     * Each node is passed in as a `ShallowWrapper` to the reducer function.\n     *\n     * @param {Function} fn - the reducer function\n     * @param {*} initialValue - the initial value\n     * @returns {*}\n     */\n\n  }, {\n    key: 'reduce',\n    value: function () {\n      function reduce(fn) {\n        var _this19 = this;\n\n        var initialValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n        if (arguments.length > 1) {\n          return this.getNodesInternal().reduce(function (accum, n, i) {\n            return fn.call(_this19, accum, _this19.wrap(n), i);\n          }, initialValue);\n        }\n        return this.getNodesInternal().reduce(function (accum, n, i) {\n          return fn.call(_this19, i === 1 ? _this19.wrap(accum) : accum, _this19.wrap(n), i);\n        });\n      }\n\n      return reduce;\n    }()\n\n    /**\n     * Reduces the current array of nodes to another array, from right to left. Each node is passed\n     * in as a `ShallowWrapper` to the reducer function.\n     *\n     * @param {Function} fn - the reducer function\n     * @param {*} initialValue - the initial value\n     * @returns {*}\n     */\n\n  }, {\n    key: 'reduceRight',\n    value: function () {\n      function reduceRight(fn) {\n        var _this20 = this;\n\n        var initialValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n        if (arguments.length > 1) {\n          return this.getNodesInternal().reduceRight(function (accum, n, i) {\n            return fn.call(_this20, accum, _this20.wrap(n), i);\n          }, initialValue);\n        }\n        return this.getNodesInternal().reduceRight(function (accum, n, i) {\n          return fn.call(_this20, i === 1 ? _this20.wrap(accum) : accum, _this20.wrap(n), i);\n        });\n      }\n\n      return reduceRight;\n    }()\n\n    /**\n     * Returns a new wrapper with a subset of the nodes of the original wrapper, according to the\n     * rules of `Array#slice`.\n     *\n     * @param {Number} begin\n     * @param {Number} end\n     * @returns {ShallowWrapper}\n     */\n\n  }, {\n    key: 'slice',\n    value: function () {\n      function slice(begin, end) {\n        return this.wrap(this.getNodesInternal().slice(begin, end));\n      }\n\n      return slice;\n    }()\n\n    /**\n     * Returns whether or not any of the nodes in the wrapper match the provided selector.\n     *\n     * @param {Function|String} selector\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'some',\n    value: function () {\n      function some(selector) {\n        if (this[ROOT] === this) {\n          throw new Error('ReactWrapper::some() can not be called on the root');\n        }\n        var predicate = (0, _selectors.buildPredicate)(selector);\n        return this.getNodesInternal().some(predicate);\n      }\n\n      return some;\n    }()\n\n    /**\n     * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.\n     *\n     * @param {Function} predicate\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'someWhere',\n    value: function () {\n      function someWhere(predicate) {\n        var _this21 = this;\n\n        return this.getNodesInternal().some(function (n, i) {\n          return predicate.call(_this21, _this21.wrap(n), i);\n        });\n      }\n\n      return someWhere;\n    }()\n\n    /**\n     * Returns whether or not all of the nodes in the wrapper match the provided selector.\n     *\n     * @param {Function|String} selector\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'every',\n    value: function () {\n      function every(selector) {\n        var predicate = (0, _selectors.buildPredicate)(selector);\n        return this.getNodesInternal().every(predicate);\n      }\n\n      return every;\n    }()\n\n    /**\n     * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.\n     *\n     * @param {Function} predicate\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'everyWhere',\n    value: function () {\n      function everyWhere(predicate) {\n        var _this22 = this;\n\n        return this.getNodesInternal().every(function (n, i) {\n          return predicate.call(_this22, _this22.wrap(n), i);\n        });\n      }\n\n      return everyWhere;\n    }()\n\n    /**\n     * Utility method used to create new wrappers with a mapping function that returns an array of\n     * nodes in response to a single node wrapper. The returned wrapper is a single wrapper around\n     * all of the mapped nodes flattened (and de-duplicated).\n     *\n     * @param {Function} fn\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'flatMap',\n    value: function () {\n      function flatMap(fn) {\n        var _this23 = this;\n\n        var nodes = this.getNodesInternal().map(function (n, i) {\n          return fn.call(_this23, _this23.wrap(n), i);\n        });\n        var flattened = (0, _flatten2['default'])(nodes, true);\n        var uniques = (0, _uniq2['default'])(flattened);\n        var compacted = (0, _compact2['default'])(uniques);\n        return this.wrap(compacted);\n      }\n\n      return flatMap;\n    }()\n\n    /**\n     * Finds all nodes in the current wrapper nodes' render trees that match the provided predicate\n     * function.\n     *\n     * @param {Function} predicate\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'findWhere',\n    value: function () {\n      function findWhere(predicate) {\n        var _this24 = this;\n\n        return findWhereUnwrapped(this, function (n) {\n          return predicate(_this24.wrap(n));\n        });\n      }\n\n      return findWhere;\n    }()\n\n    /**\n     * Returns the node at a given index of the current wrapper.\n     *\n     * @param {Number} index\n     * @returns {ReactElement}\n     */\n\n  }, {\n    key: 'get',\n    value: function () {\n      function get(index) {\n        return this.getElements()[index];\n      }\n\n      return get;\n    }()\n\n    /**\n     * Returns a wrapper around the node at a given index of the current wrapper.\n     *\n     * @param {Number} index\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'at',\n    value: function () {\n      function at(index) {\n        return this.wrap(this.getNodesInternal()[index]);\n      }\n\n      return at;\n    }()\n\n    /**\n     * Returns a wrapper around the first node of the current wrapper.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'first',\n    value: function () {\n      function first() {\n        return this.at(0);\n      }\n\n      return first;\n    }()\n\n    /**\n     * Returns a wrapper around the last node of the current wrapper.\n     *\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'last',\n    value: function () {\n      function last() {\n        return this.at(this.length - 1);\n      }\n\n      return last;\n    }()\n\n    /**\n     * Delegates to exists()\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'isEmpty',\n    value: function () {\n      function isEmpty() {\n        // eslint-disable-next-line no-console\n        console.warn('Enzyme::Deprecated method isEmpty() called, use exists() instead.');\n        return !this.exists();\n      }\n\n      return isEmpty;\n    }()\n\n    /**\n     * Returns true if the current wrapper has nodes. False otherwise.\n     *\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'exists',\n    value: function () {\n      function exists() {\n        return this.length > 0;\n      }\n\n      return exists;\n    }()\n\n    /**\n     * Utility method that throws an error if the current instance has a length other than one.\n     * This is primarily used to enforce that certain methods are only run on a wrapper when it is\n     * wrapping a single node.\n     *\n     * @param {Function} fn\n     * @returns {*}\n     */\n\n  }, {\n    key: 'single',\n    value: function () {\n      function single(name, fn) {\n        var fnName = typeof name === 'string' ? name : 'unknown';\n        var callback = typeof fn === 'function' ? fn : name;\n        if (this.length !== 1) {\n          throw new Error('Method \\u201C' + fnName + '\\u201D is only meant to be run on a single node. ' + String(this.length) + ' found instead.');\n        }\n        return callback.call(this, this.getNodeInternal());\n      }\n\n      return single;\n    }()\n\n    /**\n     * Helpful utility method to create a new wrapper with the same root as the current wrapper, with\n     * any nodes passed in as the first parameter automatically wrapped.\n     *\n     * @param {ReactWrapper|ReactElement|Array<ReactElement>} node\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'wrap',\n    value: function () {\n      function wrap(node) {\n        var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this[ROOT];\n\n        if (node instanceof ReactWrapper) {\n          return node;\n        }\n\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        return new (Function.prototype.bind.apply(ReactWrapper, [null].concat([node, root], args)))();\n      }\n\n      return wrap;\n    }()\n\n    /**\n     * Returns an HTML-like string of the shallow render for debugging purposes.\n     *\n     * @param {Object} options - (Optional) Property bag of additional options.\n     * options.ignoreProps - if true, props are omitted from the string.\n     * @returns {String}\n     */\n\n  }, {\n    key: 'debug',\n    value: function () {\n      function debug() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        return (0, _Debug.debugNodes)(this.getNodesInternal(), options);\n      }\n\n      return debug;\n    }()\n\n    /**\n     * Invokes intercepter and returns itself. intercepter is called with itself.\n     * This is helpful when debugging nodes in method chains.\n     * @param fn\n     * @returns {ReactWrapper}\n     */\n\n  }, {\n    key: 'tap',\n    value: function () {\n      function tap(intercepter) {\n        intercepter(this);\n        return this;\n      }\n\n      return tap;\n    }()\n\n    /**\n     * Detaches the react tree from the DOM. Runs `ReactDOM.unmountComponentAtNode()` under the hood.\n     *\n     * This method will most commonly be used as a \"cleanup\" method if you decide to use the\n     * `attachTo` option in `mount(node, options)`.\n     *\n     * The method is intentionally not \"fluent\" (in that it doesn't return `this`) because you should\n     * not be doing anything with this wrapper after this method is called.\n     */\n\n  }, {\n    key: 'detach',\n    value: function () {\n      function detach() {\n        if (this[ROOT] !== this) {\n          throw new Error('ReactWrapper::detach() can only be called on the root');\n        }\n        if (!this[OPTIONS].attachTo) {\n          throw new Error('ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.');\n        }\n        this[RENDERER].unmount();\n      }\n\n      return detach;\n    }()\n\n    /**\n     * Strips out all the not host-nodes from the list of nodes\n     *\n     * This method is useful if you want to check for the presence of host nodes\n     * (actually rendered HTML elements) ignoring the React nodes.\n     */\n\n  }, {\n    key: 'hostNodes',\n    value: function () {\n      function hostNodes() {\n        return this.filterWhere(function (n) {\n          return typeof n.type() === 'string';\n        });\n      }\n\n      return hostNodes;\n    }()\n  }]);\n\n  return ReactWrapper;\n}();\n\nif (_Utils.ITERATOR_SYMBOL) {\n  Object.defineProperty(ReactWrapper.prototype, _Utils.ITERATOR_SYMBOL, {\n    configurable: true,\n    value: function () {\n      function iterator() {\n        var iter = this[NODES][_Utils.ITERATOR_SYMBOL]();\n        var adapter = (0, _Utils.getAdapter)(this[OPTIONS]);\n        return {\n          next: function () {\n            function next() {\n              var next = iter.next();\n              if (next.done) {\n                return { done: true };\n              }\n              return {\n                done: false,\n                value: adapter.nodeToElement(next.value)\n              };\n            }\n\n            return next;\n          }()\n        };\n      }\n\n      return iterator;\n    }()\n  });\n}\n\nfunction privateWarning(prop, extraMessage) {\n  Object.defineProperty(ReactWrapper.prototype, prop, {\n    get: function () {\n      function get() {\n        throw new Error('\\n        Attempted to access ReactWrapper::' + String(prop) + ', which was previously a private property on\\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\\n        ' + String(extraMessage) + '\\n      ');\n      }\n\n      return get;\n    }(),\n\n    enumerable: false,\n    configurable: false\n  });\n}\n\nprivateWarning('node', 'Consider using the getElement() method instead.');\nprivateWarning('nodes', 'Consider using the getElements() method instead.');\nprivateWarning('renderer', '');\nprivateWarning('options', '');\nprivateWarning('complexSelector', '');\n\nexports['default'] = ReactWrapper;"]}
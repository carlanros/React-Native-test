b3ba612a1b67075f8c7a7ab37989fb0d
Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof(typeof Symbol==="function"?Symbol.iterator:"@@iterator")==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==(typeof Symbol==="function"?Symbol.prototype:"@@prototype")?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _object=require("object.assign");var _object2=_interopRequireDefault(_object);var _cheerio=require("cheerio");var _cheerio2=_interopRequireDefault(_cheerio);var _flatten=require("lodash/flatten");var _flatten2=_interopRequireDefault(_flatten);var _uniq=require("lodash/uniq");var _uniq2=_interopRequireDefault(_uniq);var _compact=require("lodash/compact");var _compact2=_interopRequireDefault(_compact);var _Utils=require('./Utils');var _Debug=require('./Debug');var _RSTTraversal=require('./RSTTraversal');var _selectors=require('./selectors');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var noop=function noop(){};var NODE=(0,_Utils.sym)('__node__');var NODES=(0,_Utils.sym)('__nodes__');var RENDERER=(0,_Utils.sym)('__renderer__');var UNRENDERED=(0,_Utils.sym)('__unrendered__');var ROOT=(0,_Utils.sym)('__root__');var OPTIONS=(0,_Utils.sym)('__options__');function findWhereUnwrapped(wrapper,predicate){var filter=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_RSTTraversal.treeFilter;return wrapper.flatMap(function(n){return filter(n.getNodeInternal(),predicate);});}function filterWhereUnwrapped(wrapper,predicate){return wrapper.wrap((0,_compact2['default'])(wrapper.getNodesInternal().filter(predicate)));}var ReactWrapper=function(){function ReactWrapper(nodes,root){var passedOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,ReactWrapper);if(!global.window&&!global.document){throw new Error('It looks like you called `mount()` without a global document being loaded.');}var options=(0,_Utils.makeOptions)(passedOptions);if(!root){(0,_Utils.privateSet)(this,UNRENDERED,nodes);var renderer=(0,_Utils.getAdapter)(options).createRenderer((0,_object2['default'])({mode:'mount'},options));(0,_Utils.privateSet)(this,RENDERER,renderer);renderer.render(nodes,options.context);(0,_Utils.privateSet)(this,ROOT,this);var node=this[RENDERER].getNode();(0,_Utils.privateSet)(this,NODE,node);(0,_Utils.privateSet)(this,NODES,[node]);this.length=1;}else{(0,_Utils.privateSet)(this,UNRENDERED,null);(0,_Utils.privateSet)(this,RENDERER,root[RENDERER]);(0,_Utils.privateSet)(this,ROOT,root);if(!nodes){(0,_Utils.privateSet)(this,NODE,null);(0,_Utils.privateSet)(this,NODES,[]);}else if(!Array.isArray(nodes)){(0,_Utils.privateSet)(this,NODE,nodes);(0,_Utils.privateSet)(this,NODES,[nodes]);}else{(0,_Utils.privateSet)(this,NODE,nodes[0]);(0,_Utils.privateSet)(this,NODES,nodes);}this.length=this[NODES].length;}(0,_Utils.privateSet)(this,OPTIONS,root?root[OPTIONS]:options);}_createClass(ReactWrapper,[{key:'root',value:function(){function root(){return this[ROOT];}return root;}()},{key:'getNodeInternal',value:function(){function getNodeInternal(){if(this.length!==1){throw new Error('ReactWrapper::getNode() can only be called when wrapping one node');}return this[NODES][0];}return getNodeInternal;}()},{key:'getNodesInternal',value:function(){function getNodesInternal(){return this[NODES];}return getNodesInternal;}()},{key:'getElement',value:function(){function getElement(){if(this.length!==1){throw new Error('ReactWrapper::getElement() can only be called when wrapping one node');}return(0,_Utils.getAdapter)(this[OPTIONS]).nodeToElement(this[NODE]);}return getElement;}()},{key:'getElements',value:function(){function getElements(){return this[NODES].map((0,_Utils.getAdapter)(this[OPTIONS]).nodeToElement);}return getElements;}()},{key:'getNode',value:function(){function getNode(){throw new Error('ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead');}return getNode;}()},{key:'getNodes',value:function(){function getNodes(){throw new Error('ReactWrapper::getNodes() is no longer supported.');}return getNodes;}()},{key:'getDOMNode',value:function(){function getDOMNode(){var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);return this.single('getDOMNode',function(n){return adapter.nodeToHostNode(n);});}return getDOMNode;}()},{key:'ref',value:function(){function ref(refname){if(this[ROOT]!==this){throw new Error('ReactWrapper::ref(refname) can only be called on the root');}return this.instance().refs[refname];}return ref;}()},{key:'instance',value:function(){function instance(){if(this.length!==1){throw new Error('ReactWrapper::instance() can only be called on single nodes');}return this[NODE].instance;}return instance;}()},{key:'update',value:function(){function update(){var _this=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::update() can only be called on the root');}this.single('update',function(){var node=_this[RENDERER].getNode();_this[NODE]=node;_this[NODES]=[node];});return this;}return update;}()},{key:'unmount',value:function(){function unmount(){var _this2=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::unmount() can only be called on the root');}this.single('unmount',function(){_this2[RENDERER].unmount();_this2.update();});return this;}return unmount;}()},{key:'mount',value:function(){function mount(){var _this3=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::mount() can only be called on the root');}this.single('mount',function(){_this3[RENDERER].render(_this3[UNRENDERED],_this3[OPTIONS].context,function(){return _this3.update();});});return this;}return mount;}()},{key:'setProps',value:function(){function setProps(props){var _this4=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;if(this[ROOT]!==this){throw new Error('ReactWrapper::setProps() can only be called on the root');}if(typeof callback!=='function'){throw new TypeError('ReactWrapper::setProps() expects a function as its second argument');}var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);this[UNRENDERED]=(0,_Utils.cloneElement)(adapter,this[UNRENDERED],props);this[RENDERER].render(this[UNRENDERED],null,function(){_this4.update();callback();});return this;}return setProps;}()},{key:'setState',value:function(){function setState(state){var _this5=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;if(this[ROOT]!==this){throw new Error('ReactWrapper::setState() can only be called on the root');}if(typeof callback!=='function'){throw new TypeError('ReactWrapper::setState() expects a function as its second argument');}this.instance().setState(state,function(){_this5.update();callback();});return this;}return setState;}()},{key:'setContext',value:function(){function setContext(context){var _this6=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::setContext() can only be called on the root');}if(!this[OPTIONS].context){throw new Error('ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option');}this[RENDERER].render(this[UNRENDERED],context,function(){return _this6.update();});return this;}return setContext;}()},{key:'matchesElement',value:function(){function matchesElement(node){var _this7=this;return this.single('matchesElement',function(){return(0,_Utils.nodeMatches)(node,_this7.getNodeInternal(),function(a,b){return a<=b;});});}return matchesElement;}()},{key:'contains',value:function(){function contains(nodeOrNodes){var predicate=Array.isArray(nodeOrNodes)?function(other){return(0,_Utils.containsChildrenSubArray)(_Utils.nodeEqual,other,nodeOrNodes);}:function(other){return(0,_Utils.nodeEqual)(nodeOrNodes,other);};return findWhereUnwrapped(this,predicate).length>0;}return contains;}()},{key:'containsMatchingElement',value:function(){function containsMatchingElement(node){var predicate=function(){function predicate(other){return(0,_Utils.nodeMatches)(node,other,function(a,b){return a<=b;});}return predicate;}();return findWhereUnwrapped(this,predicate).length>0;}return containsMatchingElement;}()},{key:'containsAllMatchingElements',value:function(){function containsAllMatchingElements(nodes){var _this8=this;if(!Array.isArray(nodes)){throw new TypeError('nodes should be an Array');}return nodes.every(function(node){return _this8.containsMatchingElement(node);});}return containsAllMatchingElements;}()},{key:'containsAnyMatchingElements',value:function(){function containsAnyMatchingElements(nodes){var _this9=this;return Array.isArray(nodes)&&nodes.some(function(node){return _this9.containsMatchingElement(node);});}return containsAnyMatchingElements;}()},{key:'find',value:function(){function find(selector){return this.wrap((0,_selectors.reduceTreesBySelector)(selector,this.getNodesInternal()));}return find;}()},{key:'is',value:function(){function is(selector){var predicate=(0,_selectors.buildPredicate)(selector);return this.single('is',function(n){return predicate(n);});}return is;}()},{key:'isEmptyRender',value:function(){function isEmptyRender(){return this.single('isEmptyRender',function(n){return n.rendered===null;});}return isEmptyRender;}()},{key:'filterWhere',value:function(){function filterWhere(predicate){var _this10=this;return filterWhereUnwrapped(this,function(n){return predicate(_this10.wrap(n));});}return filterWhere;}()},{key:'filter',value:function(){function filter(selector){var predicate=(0,_selectors.buildPredicate)(selector);return filterWhereUnwrapped(this,predicate);}return filter;}()},{key:'not',value:function(){function not(selector){var predicate=(0,_selectors.buildPredicate)(selector);return filterWhereUnwrapped(this,function(n){return!predicate(n);});}return not;}()},{key:'text',value:function(){function text(){var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);return this.single('text',function(n){return adapter.nodeToHostNode(n).textContent;});}return text;}()},{key:'html',value:function(){function html(){var _this11=this;return this.single('html',function(n){if(n===null)return null;var adapter=(0,_Utils.getAdapter)(_this11[OPTIONS]);var node=adapter.nodeToHostNode(n);return node===null?null:node.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,'');});}return html;}()},{key:'render',value:function(){function render(){var html=this.html();return html===null?(0,_cheerio2['default'])():_cheerio2['default'].load('')(html);}return render;}()},{key:'simulate',value:function(){function simulate(event){var _this12=this;var mock=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.single('simulate',function(n){_this12[RENDERER].simulateEvent(n,event,mock);_this12[ROOT].update();});return this;}return simulate;}()},{key:'props',value:function(){function props(){return this.single('props',_RSTTraversal.propsOfNode);}return props;}()},{key:'state',value:function(){function state(name){var _this13=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::state() can only be called on the root');}var _state=this.single('state',function(){return _this13.instance().state;});if(typeof name!=='undefined'){return _state[name];}return _state;}return state;}()},{key:'context',value:function(){function context(name){var _this14=this;if(this[ROOT]!==this){throw new Error('ReactWrapper::context() can only be called on the root');}var instance=this.single('context',function(){return _this14.instance();});if(instance===null){throw new Error('ReactWrapper::context() can only be called on components with instances');}var _context=instance.context;if(typeof name!=='undefined'){return _context[name];}return _context;}return context;}()},{key:'children',value:function(){function children(selector){var allChildren=this.flatMap(function(n){return(0,_RSTTraversal.childrenOfNode)(n.getNodeInternal()).filter(function(x){return(typeof x==='undefined'?'undefined':_typeof(x))==='object';});});return selector?allChildren.filter(selector):allChildren;}return children;}()},{key:'childAt',value:function(){function childAt(index){var _this15=this;return this.single('childAt',function(){return _this15.children().at(index);});}return childAt;}()},{key:'parents',value:function(){function parents(selector){var _this16=this;var allParents=this.wrap(this.single('parents',function(n){return(0,_RSTTraversal.parentsOfNode)(n,_this16[ROOT].getNodeInternal());}));return selector?allParents.filter(selector):allParents;}return parents;}()},{key:'parent',value:function(){function parent(){return this.flatMap(function(n){return[n.parents().get(0)];});}return parent;}()},{key:'closest',value:function(){function closest(selector){return this.is(selector)?this:this.parents().filter(selector).first();}return closest;}()},{key:'prop',value:function(){function prop(propName){return this.props()[propName];}return prop;}()},{key:'key',value:function(){function key(){return this.single('key',function(n){return n.key;});}return key;}()},{key:'type',value:function(){function type(){return this.single('type',function(n){return(0,_Utils.typeOfNode)(n);});}return type;}()},{key:'name',value:function(){function name(){return this.single('name',function(n){return(0,_Utils.displayNameOfNode)(n);});}return name;}()},{key:'hasClass',value:function(){function hasClass(className){if(className&&className.indexOf('.')!==-1){console.warn('It looks like you\'re calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector.');}return this.single('hasClass',function(n){return(0,_RSTTraversal.hasClassName)(n,className);});}return hasClass;}()},{key:'forEach',value:function(){function forEach(fn){var _this17=this;this.getNodesInternal().forEach(function(n,i){return fn.call(_this17,_this17.wrap(n),i);});return this;}return forEach;}()},{key:'map',value:function(){function map(fn){var _this18=this;return this.getNodesInternal().map(function(n,i){return fn.call(_this18,_this18.wrap(n),i);});}return map;}()},{key:'reduce',value:function(){function reduce(fn){var _this19=this;var initialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(arguments.length>1){return this.getNodesInternal().reduce(function(accum,n,i){return fn.call(_this19,accum,_this19.wrap(n),i);},initialValue);}return this.getNodesInternal().reduce(function(accum,n,i){return fn.call(_this19,i===1?_this19.wrap(accum):accum,_this19.wrap(n),i);});}return reduce;}()},{key:'reduceRight',value:function(){function reduceRight(fn){var _this20=this;var initialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(arguments.length>1){return this.getNodesInternal().reduceRight(function(accum,n,i){return fn.call(_this20,accum,_this20.wrap(n),i);},initialValue);}return this.getNodesInternal().reduceRight(function(accum,n,i){return fn.call(_this20,i===1?_this20.wrap(accum):accum,_this20.wrap(n),i);});}return reduceRight;}()},{key:'slice',value:function(){function slice(begin,end){return this.wrap(this.getNodesInternal().slice(begin,end));}return slice;}()},{key:'some',value:function(){function some(selector){if(this[ROOT]===this){throw new Error('ReactWrapper::some() can not be called on the root');}var predicate=(0,_selectors.buildPredicate)(selector);return this.getNodesInternal().some(predicate);}return some;}()},{key:'someWhere',value:function(){function someWhere(predicate){var _this21=this;return this.getNodesInternal().some(function(n,i){return predicate.call(_this21,_this21.wrap(n),i);});}return someWhere;}()},{key:'every',value:function(){function every(selector){var predicate=(0,_selectors.buildPredicate)(selector);return this.getNodesInternal().every(predicate);}return every;}()},{key:'everyWhere',value:function(){function everyWhere(predicate){var _this22=this;return this.getNodesInternal().every(function(n,i){return predicate.call(_this22,_this22.wrap(n),i);});}return everyWhere;}()},{key:'flatMap',value:function(){function flatMap(fn){var _this23=this;var nodes=this.getNodesInternal().map(function(n,i){return fn.call(_this23,_this23.wrap(n),i);});var flattened=(0,_flatten2['default'])(nodes,true);var uniques=(0,_uniq2['default'])(flattened);var compacted=(0,_compact2['default'])(uniques);return this.wrap(compacted);}return flatMap;}()},{key:'findWhere',value:function(){function findWhere(predicate){var _this24=this;return findWhereUnwrapped(this,function(n){return predicate(_this24.wrap(n));});}return findWhere;}()},{key:'get',value:function(){function get(index){return this.getElements()[index];}return get;}()},{key:'at',value:function(){function at(index){return this.wrap(this.getNodesInternal()[index]);}return at;}()},{key:'first',value:function(){function first(){return this.at(0);}return first;}()},{key:'last',value:function(){function last(){return this.at(this.length-1);}return last;}()},{key:'isEmpty',value:function(){function isEmpty(){console.warn('Enzyme::Deprecated method isEmpty() called, use exists() instead.');return!this.exists();}return isEmpty;}()},{key:'exists',value:function(){function exists(){return this.length>0;}return exists;}()},{key:'single',value:function(){function single(name,fn){var fnName=typeof name==='string'?name:'unknown';var callback=typeof fn==='function'?fn:name;if(this.length!==1){throw new Error("Method \u201C"+fnName+"\u201D is only meant to be run on a single node. "+String(this.length)+' found instead.');}return callback.call(this,this.getNodeInternal());}return single;}()},{key:'wrap',value:function(){function wrap(node){var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this[ROOT];if(node instanceof ReactWrapper){return node;}for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}return new(Function.prototype.bind.apply(ReactWrapper,[null].concat([node,root],args)))();}return wrap;}()},{key:'debug',value:function(){function debug(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_Debug.debugNodes)(this.getNodesInternal(),options);}return debug;}()},{key:'tap',value:function(){function tap(intercepter){intercepter(this);return this;}return tap;}()},{key:'detach',value:function(){function detach(){if(this[ROOT]!==this){throw new Error('ReactWrapper::detach() can only be called on the root');}if(!this[OPTIONS].attachTo){throw new Error('ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.');}this[RENDERER].unmount();}return detach;}()},{key:'hostNodes',value:function(){function hostNodes(){return this.filterWhere(function(n){return typeof n.type()==='string';});}return hostNodes;}()}]);return ReactWrapper;}();if(_Utils.ITERATOR_SYMBOL){Object.defineProperty(ReactWrapper.prototype,_Utils.ITERATOR_SYMBOL,{configurable:true,value:function(){function iterator(){var iter=this[NODES][_Utils.ITERATOR_SYMBOL]();var adapter=(0,_Utils.getAdapter)(this[OPTIONS]);return{next:function(){function next(){var next=iter.next();if(next.done){return{done:true};}return{done:false,value:adapter.nodeToElement(next.value)};}return next;}()};}return iterator;}()});}function privateWarning(prop,extraMessage){Object.defineProperty(ReactWrapper.prototype,prop,{get:function(){function get(){throw new Error('\n        Attempted to access ReactWrapper::'+String(prop)+', which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        '+String(extraMessage)+'\n      ');}return get;}(),enumerable:false,configurable:false});}privateWarning('node','Consider using the getElement() method instead.');privateWarning('nodes','Consider using the getElements() method instead.');privateWarning('renderer','');privateWarning('options','');privateWarning('complexSelector','');exports['default']=ReactWrapper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlYWN0V3JhcHBlci5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJrZXkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9vYmplY3QiLCJyZXF1aXJlIiwiX29iamVjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NoZWVyaW8iLCJfY2hlZXJpbzIiLCJfZmxhdHRlbiIsIl9mbGF0dGVuMiIsIl91bmlxIiwiX3VuaXEyIiwiX2NvbXBhY3QiLCJfY29tcGFjdDIiLCJfVXRpbHMiLCJfRGVidWciLCJfUlNUVHJhdmVyc2FsIiwiX3NlbGVjdG9ycyIsIl9fZXNNb2R1bGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsIm5vb3AiLCJOT0RFIiwic3ltIiwiTk9ERVMiLCJSRU5ERVJFUiIsIlVOUkVOREVSRUQiLCJST09UIiwiT1BUSU9OUyIsImZpbmRXaGVyZVVud3JhcHBlZCIsIndyYXBwZXIiLCJwcmVkaWNhdGUiLCJmaWx0ZXIiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ0cmVlRmlsdGVyIiwiZmxhdE1hcCIsIm4iLCJnZXROb2RlSW50ZXJuYWwiLCJmaWx0ZXJXaGVyZVVud3JhcHBlZCIsIndyYXAiLCJnZXROb2Rlc0ludGVybmFsIiwiUmVhY3RXcmFwcGVyIiwibm9kZXMiLCJyb290IiwicGFzc2VkT3B0aW9ucyIsImdsb2JhbCIsIndpbmRvdyIsImRvY3VtZW50IiwiRXJyb3IiLCJvcHRpb25zIiwibWFrZU9wdGlvbnMiLCJwcml2YXRlU2V0IiwicmVuZGVyZXIiLCJnZXRBZGFwdGVyIiwiY3JlYXRlUmVuZGVyZXIiLCJtb2RlIiwicmVuZGVyIiwiY29udGV4dCIsIm5vZGUiLCJnZXROb2RlIiwiQXJyYXkiLCJpc0FycmF5IiwiZ2V0RWxlbWVudCIsIm5vZGVUb0VsZW1lbnQiLCJnZXRFbGVtZW50cyIsIm1hcCIsImdldE5vZGVzIiwiZ2V0RE9NTm9kZSIsImFkYXB0ZXIiLCJzaW5nbGUiLCJub2RlVG9Ib3N0Tm9kZSIsInJlZiIsInJlZm5hbWUiLCJyZWZzIiwidXBkYXRlIiwiX3RoaXMiLCJ1bm1vdW50IiwiX3RoaXMyIiwibW91bnQiLCJfdGhpczMiLCJzZXRQcm9wcyIsIl90aGlzNCIsImNhbGxiYWNrIiwiY2xvbmVFbGVtZW50Iiwic2V0U3RhdGUiLCJzdGF0ZSIsIl90aGlzNSIsInNldENvbnRleHQiLCJfdGhpczYiLCJtYXRjaGVzRWxlbWVudCIsIl90aGlzNyIsIm5vZGVNYXRjaGVzIiwiYSIsImIiLCJjb250YWlucyIsIm5vZGVPck5vZGVzIiwib3RoZXIiLCJjb250YWluc0NoaWxkcmVuU3ViQXJyYXkiLCJub2RlRXF1YWwiLCJjb250YWluc01hdGNoaW5nRWxlbWVudCIsImNvbnRhaW5zQWxsTWF0Y2hpbmdFbGVtZW50cyIsIl90aGlzOCIsImV2ZXJ5IiwiY29udGFpbnNBbnlNYXRjaGluZ0VsZW1lbnRzIiwiX3RoaXM5Iiwic29tZSIsImZpbmQiLCJzZWxlY3RvciIsInJlZHVjZVRyZWVzQnlTZWxlY3RvciIsImlzIiwiYnVpbGRQcmVkaWNhdGUiLCJpc0VtcHR5UmVuZGVyIiwicmVuZGVyZWQiLCJmaWx0ZXJXaGVyZSIsIl90aGlzMTAiLCJub3QiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJodG1sIiwiX3RoaXMxMSIsIm91dGVySFRNTCIsInJlcGxhY2UiLCJsb2FkIiwic2ltdWxhdGUiLCJldmVudCIsIl90aGlzMTIiLCJtb2NrIiwic2ltdWxhdGVFdmVudCIsInByb3BzT2ZOb2RlIiwibmFtZSIsIl90aGlzMTMiLCJfc3RhdGUiLCJfdGhpczE0IiwiX2NvbnRleHQiLCJjaGlsZHJlbiIsImFsbENoaWxkcmVuIiwiY2hpbGRyZW5PZk5vZGUiLCJ4IiwiY2hpbGRBdCIsImluZGV4IiwiX3RoaXMxNSIsImF0IiwicGFyZW50cyIsIl90aGlzMTYiLCJhbGxQYXJlbnRzIiwicGFyZW50c09mTm9kZSIsInBhcmVudCIsImdldCIsImNsb3Nlc3QiLCJmaXJzdCIsInByb3AiLCJwcm9wTmFtZSIsInR5cGUiLCJ0eXBlT2ZOb2RlIiwiZGlzcGxheU5hbWVPZk5vZGUiLCJoYXNDbGFzcyIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJjb25zb2xlIiwid2FybiIsImhhc0NsYXNzTmFtZSIsImZvckVhY2giLCJmbiIsIl90aGlzMTciLCJjYWxsIiwiX3RoaXMxOCIsInJlZHVjZSIsIl90aGlzMTkiLCJpbml0aWFsVmFsdWUiLCJhY2N1bSIsInJlZHVjZVJpZ2h0IiwiX3RoaXMyMCIsInNsaWNlIiwiYmVnaW4iLCJlbmQiLCJzb21lV2hlcmUiLCJfdGhpczIxIiwiZXZlcnlXaGVyZSIsIl90aGlzMjIiLCJfdGhpczIzIiwiZmxhdHRlbmVkIiwidW5pcXVlcyIsImNvbXBhY3RlZCIsImZpbmRXaGVyZSIsIl90aGlzMjQiLCJsYXN0IiwiaXNFbXB0eSIsImV4aXN0cyIsImZuTmFtZSIsIlN0cmluZyIsIl9sZW4iLCJhcmdzIiwiX2tleSIsIkZ1bmN0aW9uIiwiYmluZCIsImFwcGx5IiwiY29uY2F0IiwiZGVidWciLCJkZWJ1Z05vZGVzIiwidGFwIiwiaW50ZXJjZXB0ZXIiLCJkZXRhY2giLCJhdHRhY2hUbyIsImhvc3ROb2RlcyIsIklURVJBVE9SX1NZTUJPTCIsIml0ZXIiLCJuZXh0IiwiZG9uZSIsInByaXZhdGVXYXJuaW5nIiwiZXh0cmFNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsQ0FBK0IsWUFBL0IsQ0FBNkMsQ0FDM0NDLE1BQU8sSUFEb0MsQ0FBN0Ms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TSxLQURELENBRUxwTyxNQUFPeUYsUUFBUUwsYUFBUixDQUFzQitJLEtBQUtuTyxLQUEzQixDQUZGLENBQVAsQ0FJRCxDQUVELE1BQU9tTyxLQUFQLENBQ0QsQ0FiSyxFQURELENBQVAsQ0FnQkQsQ0FFRCxNQUFPaE8sU0FBUCxDQUNELENBdkJNLEVBRjZELENBQXRFLEVBMkJELENBRUQsUUFBU2tPLGVBQVQsQ0FBd0IxRCxJQUF4QixDQUE4QjJELFlBQTlCLENBQTRDLENBQzFDek8sT0FBT0MsY0FBUCxDQUFzQmdFLGFBQWF4RCxTQUFuQyxDQUE4Q3FLLElBQTlDLENBQW9ELENBQ2xESCxJQUFLLFVBQVksQ0FDZixRQUFTQSxJQUFULEVBQWUsQ0FDYixLQUFNLElBQUluRyxNQUFKLENBQVUsK0NBQWlENkksT0FBT3ZDLElBQVAsQ0FBakQsQ0FBZ0UsZ0pBQWhFLENBQW1OdUMsT0FBT29CLFlBQVAsQ0FBbk4sQ0FBME8sVUFBcFAsQ0FBTixDQUNELENBRUQsTUFBTzlELElBQVAsQ0FDRCxDQU5JLEVBRDZDLENBU2xEMUosV0FBWSxLQVRzQyxDQVVsREMsYUFBYyxLQVZvQyxDQUFwRCxFQVlELENBRURzTixlQUFlLE1BQWYsQ0FBdUIsaURBQXZCLEVBQ0FBLGVBQWUsT0FBZixDQUF3QixrREFBeEIsRUFDQUEsZUFBZSxVQUFmLENBQTJCLEVBQTNCLEVBQ0FBLGVBQWUsU0FBZixDQUEwQixFQUExQixFQUNBQSxlQUFlLGlCQUFmLENBQWtDLEVBQWxDLEVBRUF0TyxRQUFRLFNBQVIsRUFBcUIrRCxZQUFyQiIsImZpbGUiOiJSZWFjdFdyYXBwZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX2NoZWVyaW8gPSByZXF1aXJlKCdjaGVlcmlvJyk7XG5cbnZhciBfY2hlZXJpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVlcmlvKTtcblxudmFyIF9mbGF0dGVuID0gcmVxdWlyZSgnbG9kYXNoL2ZsYXR0ZW4nKTtcblxudmFyIF9mbGF0dGVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZsYXR0ZW4pO1xuXG52YXIgX3VuaXEgPSByZXF1aXJlKCdsb2Rhc2gvdW5pcScpO1xuXG52YXIgX3VuaXEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5pcSk7XG5cbnZhciBfY29tcGFjdCA9IHJlcXVpcmUoJ2xvZGFzaC9jb21wYWN0Jyk7XG5cbnZhciBfY29tcGFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wYWN0KTtcblxudmFyIF9VdGlscyA9IHJlcXVpcmUoJy4vVXRpbHMnKTtcblxudmFyIF9EZWJ1ZyA9IHJlcXVpcmUoJy4vRGVidWcnKTtcblxudmFyIF9SU1RUcmF2ZXJzYWwgPSByZXF1aXJlKCcuL1JTVFRyYXZlcnNhbCcpO1xuXG52YXIgX3NlbGVjdG9ycyA9IHJlcXVpcmUoJy4vc2VsZWN0b3JzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbnZhciBOT0RFID0gKDAsIF9VdGlscy5zeW0pKCdfX25vZGVfXycpO1xudmFyIE5PREVTID0gKDAsIF9VdGlscy5zeW0pKCdfX25vZGVzX18nKTtcbnZhciBSRU5ERVJFUiA9ICgwLCBfVXRpbHMuc3ltKSgnX19yZW5kZXJlcl9fJyk7XG52YXIgVU5SRU5ERVJFRCA9ICgwLCBfVXRpbHMuc3ltKSgnX191bnJlbmRlcmVkX18nKTtcbnZhciBST09UID0gKDAsIF9VdGlscy5zeW0pKCdfX3Jvb3RfXycpO1xudmFyIE9QVElPTlMgPSAoMCwgX1V0aWxzLnN5bSkoJ19fb3B0aW9uc19fJyk7XG5cbi8qKlxuICogRmluZHMgYWxsIG5vZGVzIGluIHRoZSBjdXJyZW50IHdyYXBwZXIgbm9kZXMnIHJlbmRlciB0cmVlcyB0aGF0IG1hdGNoIHRoZSBwcm92aWRlZCBwcmVkaWNhdGVcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RXcmFwcGVyfSB3cmFwcGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlclxuICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFdoZXJlVW53cmFwcGVkKHdyYXBwZXIsIHByZWRpY2F0ZSkge1xuICB2YXIgZmlsdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfUlNUVHJhdmVyc2FsLnRyZWVGaWx0ZXI7XG5cbiAgcmV0dXJuIHdyYXBwZXIuZmxhdE1hcChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBmaWx0ZXIobi5nZXROb2RlSW50ZXJuYWwoKSwgcHJlZGljYXRlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIGluc3RhbmNlIHdpdGggb25seSB0aGUgbm9kZXMgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciBpbnN0YW5jZSB0aGF0IG1hdGNoXG4gKiB0aGUgcHJvdmlkZWQgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RXcmFwcGVyfSB3cmFwcGVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbHRlcldoZXJlVW53cmFwcGVkKHdyYXBwZXIsIHByZWRpY2F0ZSkge1xuICByZXR1cm4gd3JhcHBlci53cmFwKCgwLCBfY29tcGFjdDJbJ2RlZmF1bHQnXSkod3JhcHBlci5nZXROb2Rlc0ludGVybmFsKCkuZmlsdGVyKHByZWRpY2F0ZSkpKTtcbn1cblxuLyoqXG4gKiBAY2xhc3MgUmVhY3RXcmFwcGVyXG4gKi9cblxudmFyIFJlYWN0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmVhY3RXcmFwcGVyKG5vZGVzLCByb290KSB7XG4gICAgdmFyIHBhc3NlZE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlYWN0V3JhcHBlcik7XG5cbiAgICBpZiAoIWdsb2JhbC53aW5kb3cgJiYgIWdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBsb29rcyBsaWtlIHlvdSBjYWxsZWQgYG1vdW50KClgIHdpdGhvdXQgYSBnbG9iYWwgZG9jdW1lbnQgYmVpbmcgbG9hZGVkLicpO1xuICAgIH1cbiAgICB2YXIgb3B0aW9ucyA9ICgwLCBfVXRpbHMubWFrZU9wdGlvbnMpKHBhc3NlZE9wdGlvbnMpO1xuXG4gICAgaWYgKCFyb290KSB7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFVOUkVOREVSRUQsIG5vZGVzKTtcbiAgICAgIHZhciByZW5kZXJlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikob3B0aW9ucykuY3JlYXRlUmVuZGVyZXIoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHsgbW9kZTogJ21vdW50JyB9LCBvcHRpb25zKSk7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFJFTkRFUkVSLCByZW5kZXJlcik7XG4gICAgICByZW5kZXJlci5yZW5kZXIobm9kZXMsIG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIFJPT1QsIHRoaXMpO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzW1JFTkRFUkVSXS5nZXROb2RlKCk7XG4gICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIE5PREUsIG5vZGUpO1xuICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBOT0RFUywgW25vZGVdKTtcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBVTlJFTkRFUkVELCBudWxsKTtcbiAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgUkVOREVSRVIsIHJvb3RbUkVOREVSRVJdKTtcbiAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgUk9PVCwgcm9vdCk7XG4gICAgICBpZiAoIW5vZGVzKSB7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERSwgbnVsbCk7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERVMsIFtdKTtcbiAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobm9kZXMpKSB7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERSwgbm9kZXMpO1xuICAgICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIE5PREVTLCBbbm9kZXNdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfVXRpbHMucHJpdmF0ZVNldCkodGhpcywgTk9ERSwgbm9kZXNbMF0pO1xuICAgICAgICAoMCwgX1V0aWxzLnByaXZhdGVTZXQpKHRoaXMsIE5PREVTLCBub2Rlcyk7XG4gICAgICB9XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXNbTk9ERVNdLmxlbmd0aDtcbiAgICB9XG4gICAgKDAsIF9VdGlscy5wcml2YXRlU2V0KSh0aGlzLCBPUFRJT05TLCByb290ID8gcm9vdFtPUFRJT05TXSA6IG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJvb3Qgd3JhcHBlclxuICAgKlxuICAgKiBAcmV0dXJuIHtSZWFjdFdyYXBwZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlYWN0V3JhcHBlciwgW3tcbiAgICBrZXk6ICdyb290JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbUk9PVF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb290O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgd3JhcHBlZCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFjdENvbXBvbmVudH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZUludGVybmFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Tm9kZUludGVybmFsKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6Z2V0Tm9kZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCB3aGVuIHdyYXBwaW5nIG9uZSBub2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbTk9ERVNdWzBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Tm9kZUludGVybmFsO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGhlIHdyYXBwZWQgY29tcG9uZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FycmF5PFJlYWN0Q29tcG9uZW50Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZXNJbnRlcm5hbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldE5vZGVzSW50ZXJuYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW05PREVTXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE5vZGVzSW50ZXJuYWw7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3cmFwcGVkIFJlYWN0RWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlYWN0RWxlbWVudH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0RWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpnZXRFbGVtZW50KCkgY2FuIG9ubHkgYmUgY2FsbGVkIHdoZW4gd3JhcHBpbmcgb25lIG5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5nZXRBZGFwdGVyKSh0aGlzW09QVElPTlNdKS5ub2RlVG9FbGVtZW50KHRoaXNbTk9ERV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RWxlbWVudDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdyYXBwZWQgUmVhY3RFbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FycmF5PFJlYWN0RWxlbWVudD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldEVsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW05PREVTXS5tYXAoKDAsIF9VdGlscy5nZXRBZGFwdGVyKSh0aGlzW09QVElPTlNdKS5ub2RlVG9FbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEVsZW1lbnRzO1xuICAgIH0oKVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldE5vZGUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpnZXROb2RlKCkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gVXNlIFJlYWN0V3JhcHBlcjo6aW5zdGFuY2UoKSBpbnN0ZWFkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXROb2RlO1xuICAgIH0oKVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Tm9kZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXROb2RlcygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdFdyYXBwZXI6OmdldE5vZGVzKCkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE5vZGVzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb3V0ZXIgbW9zdCBET01Db21wb25lbnQgb2YgdGhlIGN1cnJlbnQgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtET01Db21wb25lbnR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldERPTU5vZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRET01Ob2RlKCkge1xuICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnZ2V0RE9NTm9kZScsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIGFkYXB0ZXIubm9kZVRvSG9zdE5vZGUobik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RE9NTm9kZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSByb290IGNvbXBvbmVudCBjb250YWluZWQgYSByZWYsIHlvdSBjYW4gYWNjZXNzIGl0IGhlcmVcbiAgICAgKiBhbmQgZ2V0IGEgd3JhcHBlciBhcm91bmQgaXQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZWZuYW1lXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVmKHJlZm5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6cmVmKHJlZm5hbWUpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlKCkucmVmc1tyZWZuYW1lXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgYmVpbmcgcmVuZGVyZWQgYXMgdGhlIHJvb3Qgbm9kZSBwYXNzZWQgaW50byBgbW91bnQoKWAuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IG1vdW50KDxNeUNvbXBvbmVudCAvPik7XG4gICAgICogY29uc3QgaW5zdCA9IHdyYXBwZXIuaW5zdGFuY2UoKTtcbiAgICAgKiBleHBlY3QoaW5zdCkudG8uYmUuaW5zdGFuY2VPZihNeUNvbXBvbmVudCk7XG4gICAgICogYGBgXG4gICAgICogQHJldHVybnMge1JlYWN0Q29tcG9uZW50fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbnN0YW5jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGluc3RhbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6aW5zdGFuY2UoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gc2luZ2xlIG5vZGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbTk9ERV0uaW5zdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEZvcmNlcyBhIHJlLXJlbmRlci4gVXNlZnVsIHRvIHJ1biBiZWZvcmUgY2hlY2tpbmcgdGhlIHJlbmRlciBvdXRwdXQgaWYgc29tZXRoaW5nIGV4dGVybmFsXG4gICAgICogbWF5IGJlIHVwZGF0aW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29tcG9uZW50IHNvbWV3aGVyZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCBpcyBhbHNvIHRoZSByb290IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdFdyYXBwZXI6OnVwZGF0ZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2luZ2xlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBfdGhpc1tSRU5ERVJFUl0uZ2V0Tm9kZSgpO1xuICAgICAgICAgIF90aGlzW05PREVdID0gbm9kZTtcbiAgICAgICAgICBfdGhpc1tOT0RFU10gPSBbbm9kZV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRoYXQgdW5tb3VudHMgdGhlIGNvbXBvbmVudC4gVGhpcyBjYW4gYmUgdXNlZCB0byBzaW11bGF0ZSBhIGNvbXBvbmVudCBnb2luZyB0aHJvdWdoXG4gICAgICogYW5kIHVubW91bnQvbW91bnQgbGlmZWN5Y2xlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdFdyYXBwZXI6OnVubW91bnQoKSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhlIHJvb3QnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNpbmdsZSgndW5tb3VudCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczJbUkVOREVSRVJdLnVubW91bnQoKTtcbiAgICAgICAgICBfdGhpczIudXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVubW91bnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCB0aGF0IHJlLW1vdW50cyB0aGUgY29tcG9uZW50LiBUaGlzIGNhbiBiZSB1c2VkIHRvIHNpbXVsYXRlIGEgY29tcG9uZW50IGdvaW5nIHRocm91Z2hcbiAgICAgKiBhbiB1bm1vdW50L21vdW50IGxpZmVjeWNsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzW1JPT1RdICE9PSB0aGlzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdFdyYXBwZXI6Om1vdW50KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoZSByb290Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaW5nbGUoJ21vdW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzM1tSRU5ERVJFUl0ucmVuZGVyKF90aGlzM1tVTlJFTkRFUkVEXSwgX3RoaXMzW09QVElPTlNdLmNvbnRleHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczMudXBkYXRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vdW50O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogQSBtZXRob2QgdGhhdCBzZXRzIHRoZSBwcm9wcyBvZiB0aGUgcm9vdCBjb21wb25lbnQsIGFuZCByZS1yZW5kZXJzLiBVc2VmdWwgZm9yIHdoZW4geW91IGFyZVxuICAgICAqIHdhbnRpbmcgdG8gdGVzdCBob3cgdGhlIGNvbXBvbmVudCBiZWhhdmVzIG92ZXIgdGltZSB3aXRoIGNoYW5naW5nIHByb3BzLiBDYWxsaW5nIHRoaXMsIGZvclxuICAgICAqIGluc3RhbmNlLCB3aWxsIGNhbGwgdGhlIGBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzYCBsaWZlY3ljbGUgbWV0aG9kLlxuICAgICAqXG4gICAgICogU2ltaWxhciB0byBgc2V0U3RhdGVgLCB0aGlzIG1ldGhvZCBhY2NlcHRzIGEgcHJvcHMgb2JqZWN0IGFuZCB3aWxsIG1lcmdlIGl0IGluIHdpdGggdGhlIGFscmVhZHlcbiAgICAgKiBleGlzdGluZyBwcm9wcy5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCBpcyBhbHNvIHRoZSByb290IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIG9iamVjdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFByb3BzKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcblxuICAgICAgICBpZiAodGhpc1tST09UXSAhPT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpzZXRQcm9wcygpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWFjdFdyYXBwZXI6OnNldFByb3BzKCkgZXhwZWN0cyBhIGZ1bmN0aW9uIGFzIGl0cyBzZWNvbmQgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikodGhpc1tPUFRJT05TXSk7XG4gICAgICAgIHRoaXNbVU5SRU5ERVJFRF0gPSAoMCwgX1V0aWxzLmNsb25lRWxlbWVudCkoYWRhcHRlciwgdGhpc1tVTlJFTkRFUkVEXSwgcHJvcHMpO1xuICAgICAgICB0aGlzW1JFTkRFUkVSXS5yZW5kZXIodGhpc1tVTlJFTkRFUkVEXSwgbnVsbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNC51cGRhdGUoKTtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRQcm9wcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIGludm9rZSBgc2V0U3RhdGVgIG9uIHRoZSByb290IGNvbXBvbmVudCBpbnN0YW5jZSBzaW1pbGFyIHRvIGhvdyB5b3UgbWlnaHQgaW4gdGhlXG4gICAgICogZGVmaW5pdGlvbiBvZiB0aGUgY29tcG9uZW50LCBhbmQgcmUtcmVuZGVycy4gIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgdGVzdGluZyB5b3VyIGNvbXBvbmVudFxuICAgICAqIGluIGhhcmQgdG8gYWNoaWV2ZSBzdGF0ZXMsIGhvd2V2ZXIgc2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5LiBJZiBwb3NzaWJsZSwgeW91IHNob3VsZCB1dGlsaXplXG4gICAgICogeW91ciBjb21wb25lbnQncyBleHRlcm5hbCBBUEkgaW4gb3JkZXIgdG8gZ2V0IGl0IGludG8gd2hhdGV2ZXIgc3RhdGUgeW91IHdhbnQgdG8gdGVzdCwgaW4gb3JkZXJcbiAgICAgKiB0byBiZSBhcyBhY2N1cmF0ZSBvZiBhIHRlc3QgYXMgcG9zc2libGUuIFRoaXMgaXMgbm90IGFsd2F5cyBwcmFjdGljYWwsIGhvd2V2ZXIuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIGluc3RhbmNlIHRoYXQgaXMgYWxzbyB0aGUgcm9vdCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSB0byBtZXJnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTdGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcblxuICAgICAgICBpZiAodGhpc1tST09UXSAhPT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpzZXRTdGF0ZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWFjdFdyYXBwZXI6OnNldFN0YXRlKCkgZXhwZWN0cyBhIGZ1bmN0aW9uIGFzIGl0cyBzZWNvbmQgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc3RhbmNlKCkuc2V0U3RhdGUoc3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczUudXBkYXRlKCk7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0U3RhdGU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCB0aGF0IHNldHMgdGhlIGNvbnRleHQgb2YgdGhlIHJvb3QgY29tcG9uZW50LCBhbmQgcmUtcmVuZGVycy4gVXNlZnVsIGZvciB3aGVuIHlvdSBhcmVcbiAgICAgKiB3YW50aW5nIHRvIHRlc3QgaG93IHRoZSBjb21wb25lbnQgYmVoYXZlcyBvdmVyIHRpbWUgd2l0aCBjaGFuZ2luZyBjb250ZXh0cy5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCBpcyBhbHNvIHRoZSByb290IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgb2JqZWN0XG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0Q29udGV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldENvbnRleHQoY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpc1tST09UXSAhPT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpzZXRDb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHRoZSByb290Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzW09QVElPTlNdLmNvbnRleHQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NoYWxsb3dXcmFwcGVyOjpzZXRDb250ZXh0KCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciB0aGF0IHdhcyBvcmlnaW5hbGx5IHBhc3NlZCBhIGNvbnRleHQgb3B0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tSRU5ERVJFUl0ucmVuZGVyKHRoaXNbVU5SRU5ERVJFRF0sIGNvbnRleHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2LnVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRDb250ZXh0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgYSBnaXZlbiByZWFjdCBlbGVtZW50IG1hdGNoZXMgdGhlIGN1cnJlbnQgcmVuZGVyIHRyZWUuXG4gICAgICogSXQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIHdyYXBwZXIgcm9vdCBub2RlIFwibG9va3MgbGlrZVwiIHRoZSBleHBlY3RlZFxuICAgICAqIGVsZW1lbnQgYnkgY2hlY2tpbmcgaWYgYWxsIHByb3BzIG9mIHRoZSBleHBlY3RlZCBlbGVtZW50IGFyZSBwcmVzZW50XG4gICAgICogb24gdGhlIHdyYXBwZXIgcm9vdCBub2RlIGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogLy8gTXlDb21wb25lbnQgb3V0cHV0cyA8ZGl2IGNsYXNzPVwiZm9vXCI+SGVsbG88L2Rpdj5cbiAgICAgKiBjb25zdCB3cmFwcGVyID0gbW91bnQoPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5tYXRjaGVzRWxlbWVudCg8ZGl2PkhlbGxvPC9kaXY+KSkudG8uZXF1YWwodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbm9kZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtYXRjaGVzRWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG1hdGNoZXNFbGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdtYXRjaGVzRWxlbWVudCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5ub2RlTWF0Y2hlcykobm9kZSwgX3RoaXM3LmdldE5vZGVJbnRlcm5hbCgpLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEgPD0gYjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaGVzRWxlbWVudDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IGEgZ2l2ZW4gcmVhY3QgZWxlbWVudCBleGlzdHMgaW4gdGhlIG1vdW50IHJlbmRlciB0cmVlLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCB3cmFwcGVyID0gbW91bnQoPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5jb250YWlucyg8ZGl2IGNsYXNzTmFtZT1cImZvbyBiYXJcIiAvPikpLnRvLmVxdWFsKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR8QXJyYXk8UmVhY3RFbGVtZW50Pn0gbm9kZU9yTm9kZXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGFpbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb250YWlucyhub2RlT3JOb2Rlcykge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gQXJyYXkuaXNBcnJheShub2RlT3JOb2RlcykgPyBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5jb250YWluc0NoaWxkcmVuU3ViQXJyYXkpKF9VdGlscy5ub2RlRXF1YWwsIG90aGVyLCBub2RlT3JOb2Rlcyk7XG4gICAgICAgIH0gOiBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9VdGlscy5ub2RlRXF1YWwpKG5vZGVPck5vZGVzLCBvdGhlcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmaW5kV2hlcmVVbndyYXBwZWQodGhpcywgcHJlZGljYXRlKS5sZW5ndGggPiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGFpbnM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCBhIGdpdmVuIHJlYWN0IGVsZW1lbnQgZXhpc3RzIGluIHRoZSBjdXJyZW50IHJlbmRlciB0cmVlLlxuICAgICAqIEl0IHdpbGwgZGV0ZXJtaW5lIGlmIG9uZSBvZiB0aGUgd3JhcHBlcnMgZWxlbWVudCBcImxvb2tzIGxpa2VcIiB0aGUgZXhwZWN0ZWRcbiAgICAgKiBlbGVtZW50IGJ5IGNoZWNraW5nIGlmIGFsbCBwcm9wcyBvZiB0aGUgZXhwZWN0ZWQgZWxlbWVudCBhcmUgcHJlc2VudFxuICAgICAqIG9uIHRoZSB3cmFwcGVycyBlbGVtZW50IGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogLy8gTXlDb21wb25lbnQgb3V0cHV0cyA8ZGl2PjxkaXYgY2xhc3M9XCJmb29cIj5IZWxsbzwvZGl2PjwvZGl2PlxuICAgICAqIGNvbnN0IHdyYXBwZXIgPSBtb3VudCg8TXlDb21wb25lbnQgLz4pO1xuICAgICAqIGV4cGVjdCh3cmFwcGVyLmNvbnRhaW5zTWF0Y2hpbmdFbGVtZW50KDxkaXY+SGVsbG88L2Rpdj4pKS50by5lcXVhbCh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBub2RlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbnRhaW5zTWF0Y2hpbmdFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29udGFpbnNNYXRjaGluZ0VsZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZ1bmN0aW9uIHByZWRpY2F0ZShvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMubm9kZU1hdGNoZXMpKG5vZGUsIG90aGVyLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICByZXR1cm4gYSA8PSBiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZTtcbiAgICAgICAgfSgpO1xuICAgICAgICByZXR1cm4gZmluZFdoZXJlVW53cmFwcGVkKHRoaXMsIHByZWRpY2F0ZSkubGVuZ3RoID4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRhaW5zTWF0Y2hpbmdFbGVtZW50O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgYWxsIHRoZSBnaXZlbiByZWFjdCBlbGVtZW50cyBleGlzdHMgaW4gdGhlIGN1cnJlbnQgcmVuZGVyIHRyZWUuXG4gICAgICogSXQgd2lsbCBkZXRlcm1pbmUgaWYgb25lIG9mIHRoZSB3cmFwcGVycyBlbGVtZW50IFwibG9va3MgbGlrZVwiIHRoZSBleHBlY3RlZFxuICAgICAqIGVsZW1lbnQgYnkgY2hlY2tpbmcgaWYgYWxsIHByb3BzIG9mIHRoZSBleHBlY3RlZCBlbGVtZW50IGFyZSBwcmVzZW50XG4gICAgICogb24gdGhlIHdyYXBwZXJzIGVsZW1lbnQgYW5kIGVxdWFscyB0byBlYWNoIG90aGVyLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCB3cmFwcGVyID0gbW91bnQoPE15Q29tcG9uZW50IC8+KTtcbiAgICAgKiBleHBlY3Qod3JhcHBlci5jb250YWluc0FsbE1hdGNoaW5nRWxlbWVudHMoW1xuICAgICAqICAgPGRpdj5IZWxsbzwvZGl2PixcbiAgICAgKiAgIDxkaXY+R29vZGJ5ZTwvZGl2PixcbiAgICAgKiBdKSkudG8uZXF1YWwodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJlYWN0RWxlbWVudD59IG5vZGVzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbnRhaW5zQWxsTWF0Y2hpbmdFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbnRhaW5zQWxsTWF0Y2hpbmdFbGVtZW50cyhub2Rlcykge1xuICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobm9kZXMpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbm9kZXMgc2hvdWxkIGJlIGFuIEFycmF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZXMuZXZlcnkoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM4LmNvbnRhaW5zTWF0Y2hpbmdFbGVtZW50KG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRhaW5zQWxsTWF0Y2hpbmdFbGVtZW50cztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IG9uZSBvZiB0aGUgZ2l2ZW4gcmVhY3QgZWxlbWVudHMgZXhpc3RzIGluIHRoZSBjdXJyZW50IHJlbmRlciB0cmVlLlxuICAgICAqIEl0IHdpbGwgZGV0ZXJtaW5lIGlmIG9uZSBvZiB0aGUgd3JhcHBlcnMgZWxlbWVudCBcImxvb2tzIGxpa2VcIiB0aGUgZXhwZWN0ZWRcbiAgICAgKiBlbGVtZW50IGJ5IGNoZWNraW5nIGlmIGFsbCBwcm9wcyBvZiB0aGUgZXhwZWN0ZWQgZWxlbWVudCBhcmUgcHJlc2VudFxuICAgICAqIG9uIHRoZSB3cmFwcGVycyBlbGVtZW50IGFuZCBlcXVhbHMgdG8gZWFjaCBvdGhlci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogY29uc3Qgd3JhcHBlciA9IG1vdW50KDxNeUNvbXBvbmVudCAvPik7XG4gICAgICogZXhwZWN0KHdyYXBwZXIuY29udGFpbnNBbnlNYXRjaGluZ0VsZW1lbnRzKFtcbiAgICAgKiAgIDxkaXY+SGVsbG88L2Rpdj4sXG4gICAgICogICA8ZGl2Pkdvb2RieWU8L2Rpdj4sXG4gICAgICogXSkpLnRvLmVxdWFsKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxSZWFjdEVsZW1lbnQ+fSBub2Rlc1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjb250YWluc0FueU1hdGNoaW5nRWxlbWVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb250YWluc0FueU1hdGNoaW5nRWxlbWVudHMobm9kZXMpIHtcbiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobm9kZXMpICYmIG5vZGVzLnNvbWUoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM5LmNvbnRhaW5zTWF0Y2hpbmdFbGVtZW50KG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRhaW5zQW55TWF0Y2hpbmdFbGVtZW50cztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIGV2ZXJ5IG5vZGUgaW4gdGhlIHJlbmRlciB0cmVlIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIgdGhhdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBmaW5kKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXAoKDAsIF9zZWxlY3RvcnMucmVkdWNlVHJlZXNCeVNlbGVjdG9yKShzZWxlY3RvciwgdGhpcy5nZXROb2Rlc0ludGVybmFsKCkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbmQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGN1cnJlbnQgbm9kZSBtYXRjaGVzIGEgcHJvdmlkZWQgc2VsZWN0b3IuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpcyhzZWxlY3Rvcikge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gKDAsIF9zZWxlY3RvcnMuYnVpbGRQcmVkaWNhdGUpKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdpcycsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZShuKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29tcG9uZW50IHJlbmRlcmVkIG5vdGhpbmcsIGkuZS4sIG51bGwgb3IgZmFsc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNFbXB0eVJlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzRW1wdHlSZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnaXNFbXB0eVJlbmRlcicsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIG4ucmVuZGVyZWQgPT09IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNFbXB0eVJlbmRlcjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgd3JhcHBlciBpbnN0YW5jZSB3aXRoIG9ubHkgdGhlIG5vZGVzIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIgaW5zdGFuY2UgdGhhdCBtYXRjaFxuICAgICAqIHRoZSBwcm92aWRlZCBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGVcbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmaWx0ZXJXaGVyZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGZpbHRlcldoZXJlKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcldoZXJlVW53cmFwcGVkKHRoaXMsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZShfdGhpczEwLndyYXAobikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbHRlcldoZXJlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIGluc3RhbmNlIHdpdGggb25seSB0aGUgbm9kZXMgb2YgdGhlIGN1cnJlbnQgd3JhcHBlciBpbnN0YW5jZSB0aGF0IG1hdGNoXG4gICAgICogdGhlIHByb3ZpZGVkIHNlbGVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmlsdGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZmlsdGVyKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBwcmVkaWNhdGUgPSAoMCwgX3NlbGVjdG9ycy5idWlsZFByZWRpY2F0ZSkoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gZmlsdGVyV2hlcmVVbndyYXBwZWQodGhpcywgcHJlZGljYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgd3JhcHBlciBpbnN0YW5jZSB3aXRoIG9ubHkgdGhlIG5vZGVzIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIgdGhhdCBkaWQgbm90IG1hdGNoXG4gICAgICogdGhlIHByb3ZpZGVkIHNlbGVjdG9yLiBFc3NlbnRpYWxseSB0aGUgaW52ZXJzZSBvZiBgZmlsdGVyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ25vdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG5vdChzZWxlY3Rvcikge1xuICAgICAgICB2YXIgcHJlZGljYXRlID0gKDAsIF9zZWxlY3RvcnMuYnVpbGRQcmVkaWNhdGUpKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcldoZXJlVW53cmFwcGVkKHRoaXMsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUobik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm90O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiB0aGUgcmVuZGVyZWQgdGV4dCBvZiB0aGUgY3VycmVudCByZW5kZXIgdHJlZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlXG4gICAgICogbG9va2VkIGF0IHdpdGggc2tlcHRpY2lzbSBpZiBiZWluZyB1c2VkIHRvIHRlc3Qgd2hhdCB0aGUgYWN0dWFsIEhUTUwgb3V0cHV0IG9mIHRoZSBjb21wb25lbnRcbiAgICAgKiB3aWxsIGJlLiBJZiB0aGF0IGlzIHdoYXQgeW91IHdvdWxkIGxpa2UgdG8gdGVzdCwgdXNlIGVuenltZSdzIGByZW5kZXJgIGZ1bmN0aW9uIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0ZXh0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgICAgdmFyIGFkYXB0ZXIgPSAoMCwgX1V0aWxzLmdldEFkYXB0ZXIpKHRoaXNbT1BUSU9OU10pO1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ3RleHQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBhZGFwdGVyLm5vZGVUb0hvc3ROb2RlKG4pLnRleHRDb250ZW50O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIG9mIHRoZSBub2RlLlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaHRtbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGh0bWwoKSB7XG4gICAgICAgIHZhciBfdGhpczExID0gdGhpcztcblxuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ2h0bWwnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIGlmIChuID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICB2YXIgYWRhcHRlciA9ICgwLCBfVXRpbHMuZ2V0QWRhcHRlcikoX3RoaXMxMVtPUFRJT05TXSk7XG4gICAgICAgICAgdmFyIG5vZGUgPSBhZGFwdGVyLm5vZGVUb0hvc3ROb2RlKG4pO1xuICAgICAgICAgIHJldHVybiBub2RlID09PSBudWxsID8gbnVsbCA6IG5vZGUub3V0ZXJIVE1MLnJlcGxhY2UoL1xcc2RhdGEtKHJlYWN0aWR8cmVhY3Ryb290KSs9XCIoW15cIl0qKStcIi9nLCAnJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaHRtbDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbm9kZSByZW5kZXJlZCB0byBIVE1MIGFuZCB3cmFwcGVkIGluIGEgQ2hlZXJpb1dyYXBwZXIuXG4gICAgICpcbiAgICAgKiBOT1RFOiBjYW4gb25seSBiZSBjYWxsZWQgb24gYSB3cmFwcGVyIG9mIGEgc2luZ2xlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q2hlZXJpb1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWwoKTtcbiAgICAgICAgcmV0dXJuIGh0bWwgPT09IG51bGwgPyAoMCwgX2NoZWVyaW8yWydkZWZhdWx0J10pKCkgOiBfY2hlZXJpbzJbJ2RlZmF1bHQnXS5sb2FkKCcnKShodG1sKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gc2ltdWxhdGUgZXZlbnRzLiBQYXNzIGFuIGV2ZW50bmFtZSBhbmQgKG9wdGlvbmFsbHkpIGV2ZW50IGFyZ3VtZW50cy4gVGhpcyBtZXRob2Qgb2ZcbiAgICAgKiB0ZXN0aW5nIGV2ZW50cyBzaG91bGQgYmUgbWV0IHdpdGggc29tZSBza2VwdGljaXNtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1vY2sgKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NpbXVsYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2ltdWxhdGUoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzMTIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBtb2NrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICB0aGlzLnNpbmdsZSgnc2ltdWxhdGUnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIF90aGlzMTJbUkVOREVSRVJdLnNpbXVsYXRlRXZlbnQobiwgZXZlbnQsIG1vY2spO1xuICAgICAgICAgIF90aGlzMTJbUk9PVF0udXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNpbXVsYXRlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcHMgaGFzaCBmb3IgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Byb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgncHJvcHMnLCBfUlNUVHJhdmVyc2FsLnByb3BzT2ZOb2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgaGFzaCBmb3IgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgd3JhcHBlci4gT3B0aW9uYWxseSBwYXNzIGluIGEgcHJvcCBuYW1lIGFuZCBpdFxuICAgICAqIHdpbGwgcmV0dXJuIGp1c3QgdGhhdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzdGF0ZShuYW1lKSB7XG4gICAgICAgIHZhciBfdGhpczEzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpc1tST09UXSAhPT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpzdGF0ZSgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnNpbmdsZSgnc3RhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTMuaW5zdGFuY2UoKS5zdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gX3N0YXRlW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRleHQgaGFzaCBmb3IgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgd3JhcHBlci5cbiAgICAgKiBPcHRpb25hbGx5IHBhc3MgaW4gYSBwcm9wIG5hbWUgYW5kIGl0IHdpbGwgcmV0dXJuIGp1c3QgdGhhdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29udGV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbnRleHQobmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXNbUk9PVF0gIT09IHRoaXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6Y29udGV4dCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgcm9vdCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuc2luZ2xlKCdjb250ZXh0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE0Lmluc3RhbmNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6Y29udGV4dCgpIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBjb21wb25lbnRzIHdpdGggaW5zdGFuY2VzJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9jb250ZXh0ID0gaW5zdGFuY2UuY29udGV4dDtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiBfY29udGV4dFtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2NvbnRleHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIHdpdGggYWxsIG9mIHRoZSBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IFtzZWxlY3Rvcl1cbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjaGlsZHJlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNoaWxkcmVuKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBhbGxDaGlsZHJlbiA9IHRoaXMuZmxhdE1hcChmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiAoMCwgX1JTVFRyYXZlcnNhbC5jaGlsZHJlbk9mTm9kZSkobi5nZXROb2RlSW50ZXJuYWwoKSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih4KSkgPT09ICdvYmplY3QnO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gYWxsQ2hpbGRyZW4uZmlsdGVyKHNlbGVjdG9yKSA6IGFsbENoaWxkcmVuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHdyYXBwZXIgd2l0aCBhIHNwZWNpZmljIGNoaWxkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luZGV4XVxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NoaWxkQXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjaGlsZEF0KGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpczE1ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ2NoaWxkQXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMTUuY2hpbGRyZW4oKS5hdChpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGRBdDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3cmFwcGVyIGFyb3VuZCBhbGwgb2YgdGhlIHBhcmVudHMvYW5jZXN0b3JzIG9mIHRoZSB3cmFwcGVyLiBEb2VzIG5vdCBpbmNsdWRlIHRoZSBub2RlXG4gICAgICogaW4gdGhlIGN1cnJlbnQgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIE5PVEU6IGNhbiBvbmx5IGJlIGNhbGxlZCBvbiBhIHdyYXBwZXIgb2YgYSBzaW5nbGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBbc2VsZWN0b3JdXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGFyZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBhcmVudHMoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzMTYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBhbGxQYXJlbnRzID0gdGhpcy53cmFwKHRoaXMuc2luZ2xlKCdwYXJlbnRzJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF9SU1RUcmF2ZXJzYWwucGFyZW50c09mTm9kZSkobiwgX3RoaXMxNltST09UXS5nZXROb2RlSW50ZXJuYWwoKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gYWxsUGFyZW50cy5maWx0ZXIoc2VsZWN0b3IpIDogYWxsUGFyZW50cztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudHM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIGltbWVkaWF0ZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhcmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdE1hcChmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiBbbi5wYXJlbnRzKCkuZ2V0KDApXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Nsb3Nlc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzKHNlbGVjdG9yKSA/IHRoaXMgOiB0aGlzLnBhcmVudHMoKS5maWx0ZXIoc2VsZWN0b3IpLmZpcnN0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbG9zZXN0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgIHByb3Agd2l0aCB0aGUgZ2l2ZW4gbmFtZSBvZiB0aGUgcm9vdCBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Byb3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwcm9wKHByb3BOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzKClbcHJvcE5hbWVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGtleSBhc3NpZ25lZCB0byB0aGUgY3VycmVudCBub2RlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAna2V5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24ga2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ2tleScsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIG4ua2V5O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHR5cGUgb2YgdGhlIHJvb3Qgbm9kZSBvZiB0aGlzIHdyYXBwZXIuIElmIGl0J3MgYSBjb21wb3NpdGUgY29tcG9uZW50LCB0aGlzIHdpbGwgYmVcbiAgICAgKiB0aGUgY29tcG9uZW50IGNvbnN0cnVjdG9yLiBJZiBpdCdzIG5hdGl2ZSBET00gbm9kZSwgaXQgd2lsbCBiZSBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd8RnVuY3Rpb259XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3R5cGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGUoJ3R5cGUnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgIHJldHVybiAoMCwgX1V0aWxzLnR5cGVPZk5vZGUpKG4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSByb290IG5vZGUgb2YgdGhpcyB3cmFwcGVyLlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgb2YgcHJlY2VkZW5jZSA9PiB0eXBlLmRpc3BsYXlOYW1lIC0+IHR5cGUubmFtZSAtPiB0eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbmFtZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbmdsZSgnbmFtZScsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfVXRpbHMuZGlzcGxheU5hbWVPZk5vZGUpKG4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBjdXJyZW50IHJvb3Qgbm9kZSBoYXMgdGhlIGdpdmVuIGNsYXNzIG5hbWUgb3Igbm90LlxuICAgICAqXG4gICAgICogTk9URTogY2FuIG9ubHkgYmUgY2FsbGVkIG9uIGEgd3JhcHBlciBvZiBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoYXNDbGFzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoY2xhc3NOYW1lICYmIGNsYXNzTmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0l0IGxvb2tzIGxpa2UgeW91XFwncmUgY2FsbGluZyBgUmVhY3RXcmFwcGVyOjpoYXNDbGFzcygpYCB3aXRoIGEgQ1NTIHNlbGVjdG9yLiBoYXNDbGFzcygpIGV4cGVjdHMgYSBjbGFzcyBuYW1lLCBub3QgYSBDU1Mgc2VsZWN0b3IuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xlKCdoYXNDbGFzcycsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfUlNUVHJhdmVyc2FsLmhhc0NsYXNzTmFtZSkobiwgY2xhc3NOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoYXNDbGFzcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRocm91Z2ggZWFjaCBub2RlIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIgYW5kIGV4ZWN1dGVzIHRoZSBwcm92aWRlZCBmdW5jdGlvbiB3aXRoIGFcbiAgICAgKiB3cmFwcGVyIGFyb3VuZCB0aGUgY29ycmVzcG9uZGluZyBub2RlIHBhc3NlZCBpbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZvckVhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gICAgICAgIHZhciBfdGhpczE3ID0gdGhpcztcblxuICAgICAgICB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5mb3JFYWNoKGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMxNywgX3RoaXMxNy53cmFwKG4pLCBpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9yRWFjaDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGN1cnJlbnQgYXJyYXkgb2Ygbm9kZXMgdG8gYW5vdGhlciBhcnJheS4gRWFjaCBub2RlIGlzIHBhc3NlZCBpbiBhcyBhIGBSZWFjdFdyYXBwZXJgXG4gICAgICogdG8gdGhlIG1hcCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtYXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBtYXAoZm4pIHtcbiAgICAgICAgdmFyIF90aGlzMTggPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5tYXAoZnVuY3Rpb24gKG4sIGkpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE4LCBfdGhpczE4LndyYXAobiksIGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgdGhlIGN1cnJlbnQgYXJyYXkgb2Ygbm9kZXMgdG8gYW5vdGhlciBhcnJheS5cbiAgICAgKiBFYWNoIG5vZGUgaXMgcGFzc2VkIGluIGFzIGEgYFNoYWxsb3dXcmFwcGVyYCB0byB0aGUgcmVkdWNlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IGluaXRpYWxWYWx1ZSAtIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlZHVjZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlZHVjZShmbikge1xuICAgICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczE5LCBhY2N1bSwgX3RoaXMxOS53cmFwKG4pLCBpKTtcbiAgICAgICAgICB9LCBpbml0aWFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMxOSwgaSA9PT0gMSA/IF90aGlzMTkud3JhcChhY2N1bSkgOiBhY2N1bSwgX3RoaXMxOS53cmFwKG4pLCBpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWR1Y2U7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIHRoZSBjdXJyZW50IGFycmF5IG9mIG5vZGVzIHRvIGFub3RoZXIgYXJyYXksIGZyb20gcmlnaHQgdG8gbGVmdC4gRWFjaCBub2RlIGlzIHBhc3NlZFxuICAgICAqIGluIGFzIGEgYFNoYWxsb3dXcmFwcGVyYCB0byB0aGUgcmVkdWNlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIHJlZHVjZXIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IGluaXRpYWxWYWx1ZSAtIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlZHVjZVJpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoZm4pIHtcbiAgICAgICAgdmFyIF90aGlzMjAgPSB0aGlzO1xuXG4gICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0ludGVybmFsKCkucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGFjY3VtLCBuLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczIwLCBhY2N1bSwgX3RoaXMyMC53cmFwKG4pLCBpKTtcbiAgICAgICAgICB9LCBpbml0aWFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5yZWR1Y2VSaWdodChmdW5jdGlvbiAoYWNjdW0sIG4sIGkpIHtcbiAgICAgICAgICByZXR1cm4gZm4uY2FsbChfdGhpczIwLCBpID09PSAxID8gX3RoaXMyMC53cmFwKGFjY3VtKSA6IGFjY3VtLCBfdGhpczIwLndyYXAobiksIGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZHVjZVJpZ2h0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB3cmFwcGVyIHdpdGggYSBzdWJzZXQgb2YgdGhlIG5vZGVzIG9mIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBhY2NvcmRpbmcgdG8gdGhlXG4gICAgICogcnVsZXMgb2YgYEFycmF5I3NsaWNlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiZWdpblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRcbiAgICAgKiBAcmV0dXJucyB7U2hhbGxvd1dyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NsaWNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLnNsaWNlKGJlZ2luLCBlbmQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNsaWNlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbnkgb2YgdGhlIG5vZGVzIGluIHRoZSB3cmFwcGVyIG1hdGNoIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzb21lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc29tZShzZWxlY3Rvcikge1xuICAgICAgICBpZiAodGhpc1tST09UXSA9PT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpzb21lKCkgY2FuIG5vdCBiZSBjYWxsZWQgb24gdGhlIHJvb3QnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJlZGljYXRlID0gKDAsIF9zZWxlY3RvcnMuYnVpbGRQcmVkaWNhdGUpKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpLnNvbWUocHJlZGljYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNvbWU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGFueSBvZiB0aGUgbm9kZXMgaW4gdGhlIHdyYXBwZXIgcGFzcyB0aGUgcHJvdmlkZWQgcHJlZGljYXRlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NvbWVXaGVyZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNvbWVXaGVyZShwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzMjEgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5zb21lKGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKF90aGlzMjEsIF90aGlzMjEud3JhcChuKSwgaSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc29tZVdoZXJlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbGwgb2YgdGhlIG5vZGVzIGluIHRoZSB3cmFwcGVyIG1hdGNoIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBzZWxlY3RvclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdldmVyeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGV2ZXJ5KHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBwcmVkaWNhdGUgPSAoMCwgX3NlbGVjdG9ycy5idWlsZFByZWRpY2F0ZSkoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0ludGVybmFsKCkuZXZlcnkocHJlZGljYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZXJ5O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbnkgb2YgdGhlIG5vZGVzIGluIHRoZSB3cmFwcGVyIHBhc3MgdGhlIHByb3ZpZGVkIHByZWRpY2F0ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdldmVyeVdoZXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZXZlcnlXaGVyZShwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzMjIgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzSW50ZXJuYWwoKS5ldmVyeShmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICAgIHJldHVybiBwcmVkaWNhdGUuY2FsbChfdGhpczIyLCBfdGhpczIyLndyYXAobiksIGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2ZXJ5V2hlcmU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZCB1c2VkIHRvIGNyZWF0ZSBuZXcgd3JhcHBlcnMgd2l0aCBhIG1hcHBpbmcgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mXG4gICAgICogbm9kZXMgaW4gcmVzcG9uc2UgdG8gYSBzaW5nbGUgbm9kZSB3cmFwcGVyLiBUaGUgcmV0dXJuZWQgd3JhcHBlciBpcyBhIHNpbmdsZSB3cmFwcGVyIGFyb3VuZFxuICAgICAqIGFsbCBvZiB0aGUgbWFwcGVkIG5vZGVzIGZsYXR0ZW5lZCAoYW5kIGRlLWR1cGxpY2F0ZWQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmbGF0TWFwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZmxhdE1hcChmbikge1xuICAgICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG5vZGVzID0gdGhpcy5nZXROb2Rlc0ludGVybmFsKCkubWFwKGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMyMywgX3RoaXMyMy53cmFwKG4pLCBpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBmbGF0dGVuZWQgPSAoMCwgX2ZsYXR0ZW4yWydkZWZhdWx0J10pKG5vZGVzLCB0cnVlKTtcbiAgICAgICAgdmFyIHVuaXF1ZXMgPSAoMCwgX3VuaXEyWydkZWZhdWx0J10pKGZsYXR0ZW5lZCk7XG4gICAgICAgIHZhciBjb21wYWN0ZWQgPSAoMCwgX2NvbXBhY3QyWydkZWZhdWx0J10pKHVuaXF1ZXMpO1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwKGNvbXBhY3RlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbGF0TWFwO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgYWxsIG5vZGVzIGluIHRoZSBjdXJyZW50IHdyYXBwZXIgbm9kZXMnIHJlbmRlciB0cmVlcyB0aGF0IG1hdGNoIHRoZSBwcm92aWRlZCBwcmVkaWNhdGVcbiAgICAgKiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpbmRXaGVyZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGZpbmRXaGVyZShwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzMjQgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBmaW5kV2hlcmVVbndyYXBwZWQodGhpcywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICByZXR1cm4gcHJlZGljYXRlKF90aGlzMjQud3JhcChuKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmluZFdoZXJlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBhdCBhIGdpdmVuIGluZGV4IG9mIHRoZSBjdXJyZW50IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7UmVhY3RFbGVtZW50fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHMoKVtpbmRleF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIG5vZGUgYXQgYSBnaXZlbiBpbmRleCBvZiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhdChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2V0Tm9kZXNJbnRlcm5hbCgpW2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhdDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3cmFwcGVyIGFyb3VuZCB0aGUgZmlyc3Qgbm9kZSBvZiB0aGUgY3VycmVudCB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmlyc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQoMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB3cmFwcGVyIGFyb3VuZCB0aGUgbGFzdCBub2RlIG9mIHRoZSBjdXJyZW50IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UmVhY3RXcmFwcGVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdsYXN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gbGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQodGhpcy5sZW5ndGggLSAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBEZWxlZ2F0ZXMgdG8gZXhpc3RzKClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0VtcHR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdFbnp5bWU6OkRlcHJlY2F0ZWQgbWV0aG9kIGlzRW1wdHkoKSBjYWxsZWQsIHVzZSBleGlzdHMoKSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gIXRoaXMuZXhpc3RzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0VtcHR5O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IHdyYXBwZXIgaGFzIG5vZGVzLiBGYWxzZSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXhpc3RzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXhpc3RzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgdGhhdCB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlIGN1cnJlbnQgaW5zdGFuY2UgaGFzIGEgbGVuZ3RoIG90aGVyIHRoYW4gb25lLlxuICAgICAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gZW5mb3JjZSB0aGF0IGNlcnRhaW4gbWV0aG9kcyBhcmUgb25seSBydW4gb24gYSB3cmFwcGVyIHdoZW4gaXQgaXNcbiAgICAgKiB3cmFwcGluZyBhIHNpbmdsZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2luZ2xlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2luZ2xlKG5hbWUsIGZuKSB7XG4gICAgICAgIHZhciBmbk5hbWUgPSB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgPyBuYW1lIDogJ3Vua25vd24nO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgPyBmbiA6IG5hbWU7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIFxcdTIwMUMnICsgZm5OYW1lICsgJ1xcdTIwMUQgaXMgb25seSBtZWFudCB0byBiZSBydW4gb24gYSBzaW5nbGUgbm9kZS4gJyArIFN0cmluZyh0aGlzLmxlbmd0aCkgKyAnIGZvdW5kIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy5nZXROb2RlSW50ZXJuYWwoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaW5nbGU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZnVsIHV0aWxpdHkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyB3cmFwcGVyIHdpdGggdGhlIHNhbWUgcm9vdCBhcyB0aGUgY3VycmVudCB3cmFwcGVyLCB3aXRoXG4gICAgICogYW55IG5vZGVzIHBhc3NlZCBpbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIGF1dG9tYXRpY2FsbHkgd3JhcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RXcmFwcGVyfFJlYWN0RWxlbWVudHxBcnJheTxSZWFjdEVsZW1lbnQ+fSBub2RlXG4gICAgICogQHJldHVybnMge1JlYWN0V3JhcHBlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnd3JhcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHdyYXAobm9kZSkge1xuICAgICAgICB2YXIgcm9vdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpc1tST09UXTtcblxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFJlYWN0V3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShSZWFjdFdyYXBwZXIsIFtudWxsXS5jb25jYXQoW25vZGUsIHJvb3RdLCBhcmdzKSkpKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB3cmFwO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBIVE1MLWxpa2Ugc3RyaW5nIG9mIHRoZSBzaGFsbG93IHJlbmRlciBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSAoT3B0aW9uYWwpIFByb3BlcnR5IGJhZyBvZiBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogb3B0aW9ucy5pZ25vcmVQcm9wcyAtIGlmIHRydWUsIHByb3BzIGFyZSBvbWl0dGVkIGZyb20gdGhlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZWJ1ZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgcmV0dXJuICgwLCBfRGVidWcuZGVidWdOb2RlcykodGhpcy5nZXROb2Rlc0ludGVybmFsKCksIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGludGVyY2VwdGVyIGFuZCByZXR1cm5zIGl0c2VsZi4gaW50ZXJjZXB0ZXIgaXMgY2FsbGVkIHdpdGggaXRzZWxmLlxuICAgICAqIFRoaXMgaXMgaGVscGZ1bCB3aGVuIGRlYnVnZ2luZyBub2RlcyBpbiBtZXRob2QgY2hhaW5zLlxuICAgICAqIEBwYXJhbSBmblxuICAgICAqIEByZXR1cm5zIHtSZWFjdFdyYXBwZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RhcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHRhcChpbnRlcmNlcHRlcikge1xuICAgICAgICBpbnRlcmNlcHRlcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXA7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyB0aGUgcmVhY3QgdHJlZSBmcm9tIHRoZSBET00uIFJ1bnMgYFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoKWAgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1vc3QgY29tbW9ubHkgYmUgdXNlZCBhcyBhIFwiY2xlYW51cFwiIG1ldGhvZCBpZiB5b3UgZGVjaWRlIHRvIHVzZSB0aGVcbiAgICAgKiBgYXR0YWNoVG9gIG9wdGlvbiBpbiBgbW91bnQobm9kZSwgb3B0aW9ucylgLlxuICAgICAqXG4gICAgICogVGhlIG1ldGhvZCBpcyBpbnRlbnRpb25hbGx5IG5vdCBcImZsdWVudFwiIChpbiB0aGF0IGl0IGRvZXNuJ3QgcmV0dXJuIGB0aGlzYCkgYmVjYXVzZSB5b3Ugc2hvdWxkXG4gICAgICogbm90IGJlIGRvaW5nIGFueXRoaW5nIHdpdGggdGhpcyB3cmFwcGVyIGFmdGVyIHRoaXMgbWV0aG9kIGlzIGNhbGxlZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgICBpZiAodGhpc1tST09UXSAhPT0gdGhpcykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhY3RXcmFwcGVyOjpkZXRhY2goKSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhlIHJvb3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXNbT1BUSU9OU10uYXR0YWNoVG8pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0V3JhcHBlcjo6ZGV0YWNoKCkgY2FuIG9ubHkgYmUgY2FsbGVkIG9uIHdoZW4gdGhlIGBhdHRhY2hUb2Agb3B0aW9uIHdhcyBwYXNzZWQgaW50byBgbW91bnQoKWAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tSRU5ERVJFUl0udW5tb3VudCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGV0YWNoO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogU3RyaXBzIG91dCBhbGwgdGhlIG5vdCBob3N0LW5vZGVzIGZyb20gdGhlIGxpc3Qgb2Ygbm9kZXNcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIGhvc3Qgbm9kZXNcbiAgICAgKiAoYWN0dWFsbHkgcmVuZGVyZWQgSFRNTCBlbGVtZW50cykgaWdub3JpbmcgdGhlIFJlYWN0IG5vZGVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdob3N0Tm9kZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBob3N0Tm9kZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcldoZXJlKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBuLnR5cGUoKSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaG9zdE5vZGVzO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlYWN0V3JhcHBlcjtcbn0oKTtcblxuaWYgKF9VdGlscy5JVEVSQVRPUl9TWU1CT0wpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWN0V3JhcHBlci5wcm90b3R5cGUsIF9VdGlscy5JVEVSQVRPUl9TWU1CT0wsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKCkge1xuICAgICAgICB2YXIgaXRlciA9IHRoaXNbTk9ERVNdW19VdGlscy5JVEVSQVRPUl9TWU1CT0xdKCk7XG4gICAgICAgIHZhciBhZGFwdGVyID0gKDAsIF9VdGlscy5nZXRBZGFwdGVyKSh0aGlzW09QVElPTlNdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICB2YXIgbmV4dCA9IGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgICBpZiAobmV4dC5kb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFkYXB0ZXIubm9kZVRvRWxlbWVudChuZXh0LnZhbHVlKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICB9KClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgIH0oKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJpdmF0ZVdhcm5pbmcocHJvcCwgZXh0cmFNZXNzYWdlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFjdFdyYXBwZXIucHJvdG90eXBlLCBwcm9wLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignXFxuICAgICAgICBBdHRlbXB0ZWQgdG8gYWNjZXNzIFJlYWN0V3JhcHBlcjo6JyArIFN0cmluZyhwcm9wKSArICcsIHdoaWNoIHdhcyBwcmV2aW91c2x5IGEgcHJpdmF0ZSBwcm9wZXJ0eSBvblxcbiAgICAgICAgRW56eW1lIFJlYWN0V3JhcHBlciBpbnN0YW5jZXMsIGJ1dCBpcyBubyBsb25nZXIgYW5kIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24uXFxuICAgICAgICAnICsgU3RyaW5nKGV4dHJhTWVzc2FnZSkgKyAnXFxuICAgICAgJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXQ7XG4gICAgfSgpLFxuXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICB9KTtcbn1cblxucHJpdmF0ZVdhcm5pbmcoJ25vZGUnLCAnQ29uc2lkZXIgdXNpbmcgdGhlIGdldEVsZW1lbnQoKSBtZXRob2QgaW5zdGVhZC4nKTtcbnByaXZhdGVXYXJuaW5nKCdub2RlcycsICdDb25zaWRlciB1c2luZyB0aGUgZ2V0RWxlbWVudHMoKSBtZXRob2QgaW5zdGVhZC4nKTtcbnByaXZhdGVXYXJuaW5nKCdyZW5kZXJlcicsICcnKTtcbnByaXZhdGVXYXJuaW5nKCdvcHRpb25zJywgJycpO1xucHJpdmF0ZVdhcm5pbmcoJ2NvbXBsZXhTZWxlY3RvcicsICcnKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gUmVhY3RXcmFwcGVyOyJdfQ==
c73e2c01fd0093179bbded473196164e
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var PixelRatio=require('PixelRatio');var ReactNativePropRegistry=require('ReactNativePropRegistry');var ReactNativeStyleAttributes=require('ReactNativeStyleAttributes');var StyleSheetValidation=require('StyleSheetValidation');var flatten=require('flattenStyle');var hairlineWidth=PixelRatio.roundToNearestPixel(0.4);if(hairlineWidth===0){hairlineWidth=1/PixelRatio.get();}var absoluteFillObject={position:'absolute',left:0,right:0,top:0,bottom:0};var absoluteFill=ReactNativePropRegistry.register(absoluteFillObject);module.exports={hairlineWidth:hairlineWidth,absoluteFill:absoluteFill,absoluteFillObject:absoluteFillObject,compose:function compose(style1,style2){if(style1&&style2){return[style1,style2];}else{return style1||style2;}},flatten:flatten,setStyleAttributePreprocessor:function setStyleAttributePreprocessor(property,process){var value=void 0;if(typeof ReactNativeStyleAttributes[property]==='string'){value={};}else if(typeof ReactNativeStyleAttributes[property]==='object'){value=ReactNativeStyleAttributes[property];}else{console.error(property+' is not a valid style attribute');return;}if(__DEV__&&typeof value.process==='function'){console.warn('Overwriting '+property+' style attribute preprocessor');}ReactNativeStyleAttributes[property]=_extends({},value,{process:process});},create:function create(obj){var result={};for(var key in obj){StyleSheetValidation.validateStyle(key,obj);result[key]=obj[key]&&ReactNativePropRegistry.register(obj[key]);}return result;}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0eWxlU2hlZXQuanMiXSwibmFtZXMiOlsiUGl4ZWxSYXRpbyIsInJlcXVpcmUiLCJSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeSIsIlJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzIiwiU3R5bGVTaGVldFZhbGlkYXRpb24iLCJmbGF0dGVuIiwiaGFpcmxpbmVXaWR0aCIsInJvdW5kVG9OZWFyZXN0UGl4ZWwiLCJnZXQiLCJhYnNvbHV0ZUZpbGxPYmplY3QiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImFic29sdXRlRmlsbCIsInJlZ2lzdGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbXBvc2UiLCJzdHlsZTEiLCJzdHlsZTIiLCJzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3NvciIsInByb3BlcnR5IiwicHJvY2VzcyIsInZhbHVlIiwiY29uc29sZSIsImVycm9yIiwiX19ERVZfXyIsIndhcm4iLCJjcmVhdGUiLCJvYmoiLCJyZXN1bHQiLCJrZXkiLCJ2YWxpZGF0ZVN0eWxlIl0sIm1hcHBpbmdzIjoiQUFXQSxhLGdPQUVBLEdBQU1BLFlBQWFDLE9BQWIsY0FBTixDQUNBLEdBQU1DLHlCQUEwQkQsT0FBMUIsMkJBQU4sQ0FDQSxHQUFNRSw0QkFBNkJGLE9BQTdCLDhCQUFOLENBQ0EsR0FBTUcsc0JBQXVCSCxPQUF2Qix3QkFBTixDQUVBLEdBQU1JLFNBQVVKLE9BQVYsZ0JBQU4sQ0FnQkEsR0FBSUssZUFBZ0JOLFdBQVdPLG1CQUFYLENBQStCLEdBQS9CLENBQXBCLENBQ0EsR0FBSUQsZ0JBQWtCLENBQXRCLENBQXlCLENBQ3ZCQSxjQUFnQixFQUFJTixXQUFXUSxHQUFYLEVBQXBCLENBQ0QsQ0FFRCxHQUFNQyxvQkFBcUIsQ0FDekJDLFNBQVcsVUFEYyxDQUV6QkMsS0FBTSxDQUZtQixDQUd6QkMsTUFBTyxDQUhrQixDQUl6QkMsSUFBSyxDQUpvQixDQUt6QkMsT0FBUSxDQUxpQixDQUEzQixDQU9BLEdBQU1DLGNBQ0piLHdCQUF3QmMsUUFBeEIsQ0FBaUNQLGtCQUFqQyxDQURGLENBK0NBUSxPQUFPQyxPQUFQLENBQWlCLENBb0JmWiwyQkFwQmUsQ0EyQmZTLHlCQTNCZSxDQXlDZk4scUNBekNlLENBaURmVSxPQWpEZSxrQkFpRFBDLE1BakRPLENBaURhQyxNQWpEYixDQWlENkMsQ0FDMUQsR0FBSUQsUUFBVUMsTUFBZCxDQUFzQixDQUNwQixNQUFPLENBQUNELE1BQUQsQ0FBU0MsTUFBVCxDQUFQLENBQ0QsQ0FGRCxJQUVPLENBQ0wsTUFBT0QsU0FBVUMsTUFBakIsQ0FDRCxDQUNGLENBdkRjLENBZ0dmaEIsZUFoR2UsQ0EyR2ZpQiw2QkEzR2Usd0NBMkdlQyxRQTNHZixDQTJHaUNDLE9BM0dqQyxDQTJHc0UsQ0FDbkYsR0FBSUMsYUFBSixDQUVBLEdBQUksTUFBT3RCLDRCQUEyQm9CLFFBQTNCLENBQVAsR0FBZ0QsUUFBcEQsQ0FBOEQsQ0FDNURFLE1BQVEsRUFBUixDQUNELENBRkQsSUFFTyxJQUFJLE1BQU90Qiw0QkFBMkJvQixRQUEzQixDQUFQLEdBQWdELFFBQXBELENBQThELENBQ25FRSxNQUFRdEIsMkJBQTJCb0IsUUFBM0IsQ0FBUixDQUNELENBRk0sSUFFQSxDQUNMRyxRQUFRQyxLQUFSLENBQWlCSixRQUFqQixvQ0FDQSxPQUNELENBRUQsR0FBSUssU0FBVyxNQUFPSCxPQUFNRCxPQUFiLEdBQXlCLFVBQXhDLENBQW9ELENBQ2xERSxRQUFRRyxJQUFSLGdCQUE0Qk4sUUFBNUIsa0NBQ0QsQ0FFRHBCLDJCQUEyQm9CLFFBQTNCLGNBQTRDRSxLQUE1QyxFQUFtREQsZUFBbkQsR0FDRCxDQTVIYyxDQWlJZk0sTUFqSWUsaUJBaUlHQyxHQWpJSCxDQWlJMEIsQ0FDdkMsR0FBTUMsUUFBUyxFQUFmLENBQ0EsSUFBSyxHQUFNQyxJQUFYLEdBQWtCRixJQUFsQixDQUF1QixDQUNyQjNCLHFCQUFxQjhCLGFBQXJCLENBQW1DRCxHQUFuQyxDQUF3Q0YsR0FBeEMsRUFDQUMsT0FBT0MsR0FBUCxFQUFjRixJQUFJRSxHQUFKLEdBQVkvQix3QkFBd0JjLFFBQXhCLENBQWlDZSxJQUFJRSxHQUFKLENBQWpDLENBQTFCLENBQ0QsQ0FDRCxNQUFPRCxPQUFQLENBQ0QsQ0F4SWMsQ0FBakIiLCJmaWxlIjoiU3R5bGVTaGVldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3R5bGVTaGVldFxuICogQGZsb3dcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQaXhlbFJhdGlvID0gcmVxdWlyZSgnUGl4ZWxSYXRpbycpO1xuY29uc3QgUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkgPSByZXF1aXJlKCdSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeScpO1xuY29uc3QgUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMgPSByZXF1aXJlKCdSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlcycpO1xuY29uc3QgU3R5bGVTaGVldFZhbGlkYXRpb24gPSByZXF1aXJlKCdTdHlsZVNoZWV0VmFsaWRhdGlvbicpO1xuXG5jb25zdCBmbGF0dGVuID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5cbmltcG9ydCB0eXBlIHtcbiAgU3R5bGVTaGVldFN0eWxlIGFzIF9TdHlsZVNoZWV0U3R5bGUsXG4gIFN0eWxlcyBhcyBfU3R5bGVzLFxuICBTdHlsZVNoZWV0IGFzIF9TdHlsZVNoZWV0LFxuICBTdHlsZVZhbHVlIGFzIF9TdHlsZVZhbHVlLFxuICBTdHlsZU9iaixcbn0gZnJvbSAnU3R5bGVTaGVldFR5cGVzJztcblxuZXhwb3J0IHR5cGUgU3R5bGVQcm9wID0gU3R5bGVPYmo7XG5leHBvcnQgdHlwZSBTdHlsZXMgPSBfU3R5bGVzO1xuZXhwb3J0IHR5cGUgU3R5bGVTaGVldDxTPiA9IF9TdHlsZVNoZWV0PFM+O1xuZXhwb3J0IHR5cGUgU3R5bGVWYWx1ZSA9IF9TdHlsZVZhbHVlO1xuZXhwb3J0IHR5cGUgU3R5bGVTaGVldFN0eWxlID0gX1N0eWxlU2hlZXRTdHlsZTtcblxubGV0IGhhaXJsaW5lV2lkdGggPSBQaXhlbFJhdGlvLnJvdW5kVG9OZWFyZXN0UGl4ZWwoMC40KTtcbmlmIChoYWlybGluZVdpZHRoID09PSAwKSB7XG4gIGhhaXJsaW5lV2lkdGggPSAxIC8gUGl4ZWxSYXRpby5nZXQoKTtcbn1cblxuY29uc3QgYWJzb2x1dGVGaWxsT2JqZWN0ID0ge1xuICBwb3NpdGlvbjogKCdhYnNvbHV0ZSc6ICdhYnNvbHV0ZScpLFxuICBsZWZ0OiAwLFxuICByaWdodDogMCxcbiAgdG9wOiAwLFxuICBib3R0b206IDAsXG59O1xuY29uc3QgYWJzb2x1dGVGaWxsOiB0eXBlb2YgYWJzb2x1dGVGaWxsT2JqZWN0ID1cbiAgUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkucmVnaXN0ZXIoYWJzb2x1dGVGaWxsT2JqZWN0KTsgLy8gVGhpcyBhbHNvIGZyZWV6ZXMgaXRcblxuLyoqXG4gKiBBIFN0eWxlU2hlZXQgaXMgYW4gYWJzdHJhY3Rpb24gc2ltaWxhciB0byBDU1MgU3R5bGVTaGVldHNcbiAqXG4gKiBDcmVhdGUgYSBuZXcgU3R5bGVTaGVldDpcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAqICAgY29udGFpbmVyOiB7XG4gKiAgICAgYm9yZGVyUmFkaXVzOiA0LFxuICogICAgIGJvcmRlcldpZHRoOiAwLjUsXG4gKiAgICAgYm9yZGVyQ29sb3I6ICcjZDZkN2RhJyxcbiAqICAgfSxcbiAqICAgdGl0bGU6IHtcbiAqICAgICBmb250U2l6ZTogMTksXG4gKiAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICogICB9LFxuICogICBhY3RpdmVUaXRsZToge1xuICogICAgIGNvbG9yOiAncmVkJyxcbiAqICAgfSxcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVXNlIGEgU3R5bGVTaGVldDpcbiAqXG4gKiBgYGBcbiAqIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT5cbiAqICAgPFRleHQgc3R5bGU9e1tzdHlsZXMudGl0bGUsIHRoaXMucHJvcHMuaXNBY3RpdmUgJiYgc3R5bGVzLmFjdGl2ZVRpdGxlXX0gLz5cbiAqIDwvVmlldz5cbiAqIGBgYFxuICpcbiAqIENvZGUgcXVhbGl0eTpcbiAqXG4gKiAgLSBCeSBtb3Zpbmcgc3R5bGVzIGF3YXkgZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uLCB5b3UncmUgbWFraW5nIHRoZSBjb2RlXG4gKiAgZWFzaWVyIHRvIHVuZGVyc3RhbmQuXG4gKiAgLSBOYW1pbmcgdGhlIHN0eWxlcyBpcyBhIGdvb2Qgd2F5IHRvIGFkZCBtZWFuaW5nIHRvIHRoZSBsb3cgbGV2ZWwgY29tcG9uZW50c1xuICogIGluIHRoZSByZW5kZXIgZnVuY3Rpb24uXG4gKlxuICogUGVyZm9ybWFuY2U6XG4gKlxuICogIC0gTWFraW5nIGEgc3R5bGVzaGVldCBmcm9tIGEgc3R5bGUgb2JqZWN0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIHJlZmVyIHRvIGl0XG4gKiBieSBJRCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IHN0eWxlIG9iamVjdCBldmVyeSB0aW1lLlxuICogIC0gSXQgYWxzbyBhbGxvd3MgdG8gc2VuZCB0aGUgc3R5bGUgb25seSBvbmNlIHRocm91Z2ggdGhlIGJyaWRnZS4gQWxsXG4gKiBzdWJzZXF1ZW50IHVzZXMgYXJlIGdvaW5nIHRvIHJlZmVyIGFuIGlkIChub3QgaW1wbGVtZW50ZWQgeWV0KS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIGRlZmluZWQgYXMgdGhlIHdpZHRoIG9mIGEgdGhpbiBsaW5lIG9uIHRoZSBwbGF0Zm9ybS4gSXQgY2FuIGJlXG4gICAqIHVzZWQgYXMgdGhlIHRoaWNrbmVzcyBvZiBhIGJvcmRlciBvciBkaXZpc2lvbiBiZXR3ZWVuIHR3byBlbGVtZW50cy5cbiAgICogRXhhbXBsZTpcbiAgICogYGBgXG4gICAqICAge1xuICAgKiAgICAgYm9yZGVyQm90dG9tQ29sb3I6ICcjYmJiJyxcbiAgICogICAgIGJvcmRlckJvdHRvbVdpZHRoOiBTdHlsZVNoZWV0LmhhaXJsaW5lV2lkdGhcbiAgICogICB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUaGlzIGNvbnN0YW50IHdpbGwgYWx3YXlzIGJlIGEgcm91bmQgbnVtYmVyIG9mIHBpeGVscyAoc28gYSBsaW5lIGRlZmluZWRcbiAgICogYnkgaXQgbG9vayBjcmlzcCkgYW5kIHdpbGwgdHJ5IHRvIG1hdGNoIHRoZSBzdGFuZGFyZCB3aWR0aCBvZiBhIHRoaW4gbGluZVxuICAgKiBvbiB0aGUgdW5kZXJseWluZyBwbGF0Zm9ybS4gSG93ZXZlciwgeW91IHNob3VsZCBub3QgcmVseSBvbiBpdCBiZWluZyBhXG4gICAqIGNvbnN0YW50IHNpemUsIGJlY2F1c2Ugb24gZGlmZmVyZW50IHBsYXRmb3JtcyBhbmQgc2NyZWVuIGRlbnNpdGllcyBpdHNcbiAgICogdmFsdWUgbWF5IGJlIGNhbGN1bGF0ZWQgZGlmZmVyZW50bHkuXG4gICAqXG4gICAqIEEgbGluZSB3aXRoIGhhaXJsaW5lIHdpZHRoIG1heSBub3QgYmUgdmlzaWJsZSBpZiB5b3VyIHNpbXVsYXRvciBpcyBkb3duc2NhbGVkLlxuICAgKi9cbiAgaGFpcmxpbmVXaWR0aCxcblxuICAvKipcbiAgICogQSB2ZXJ5IGNvbW1vbiBwYXR0ZXJuIGlzIHRvIGNyZWF0ZSBvdmVybGF5cyB3aXRoIHBvc2l0aW9uIGFic29sdXRlIGFuZCB6ZXJvIHBvc2l0aW9uaW5nLFxuICAgKiBzbyBgYWJzb2x1dGVGaWxsYCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVuY2UgYW5kIHRvIHJlZHVjZSBkdXBsaWNhdGlvbiBvZiB0aGVzZSByZXBlYXRlZFxuICAgKiBzdHlsZXMuXG4gICAqL1xuICBhYnNvbHV0ZUZpbGwsXG5cbiAgLyoqXG4gICAqIFNvbWV0aW1lcyB5b3UgbWF5IHdhbnQgYGFic29sdXRlRmlsbGAgYnV0IHdpdGggYSBjb3VwbGUgdHdlYWtzIC0gYGFic29sdXRlRmlsbE9iamVjdGAgY2FuIGJlXG4gICAqIHVzZWQgdG8gY3JlYXRlIGEgY3VzdG9taXplZCBlbnRyeSBpbiBhIGBTdHlsZVNoZWV0YCwgZS5nLjpcbiAgICpcbiAgICogICBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgICB3cmFwcGVyOiB7XG4gICAqICAgICAgIC4uLlN0eWxlU2hlZXQuYWJzb2x1dGVGaWxsT2JqZWN0LFxuICAgKiAgICAgICB0b3A6IDEwLFxuICAgKiAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAqICAgICB9LFxuICAgKiAgIH0pO1xuICAgKi9cbiAgYWJzb2x1dGVGaWxsT2JqZWN0LFxuXG4gIC8qKlxuICAgKiBDb21iaW5lcyB0d28gc3R5bGVzIHN1Y2ggdGhhdCBgc3R5bGUyYCB3aWxsIG92ZXJyaWRlIGFueSBzdHlsZXMgaW4gYHN0eWxlMWAuXG4gICAqIElmIGVpdGhlciBzdHlsZSBpcyBmYWxzeSwgdGhlIG90aGVyIG9uZSBpcyByZXR1cm5lZCB3aXRob3V0IGFsbG9jYXRpbmcgYW5cbiAgICogYXJyYXksIHNhdmluZyBhbGxvY2F0aW9ucyBhbmQgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIGVxdWFsaXR5IGZvclxuICAgKiBQdXJlQ29tcG9uZW50IGNoZWNrcy5cbiAgICovXG4gIGNvbXBvc2Uoc3R5bGUxOiA/U3R5bGVQcm9wLCBzdHlsZTI6ID9TdHlsZVByb3ApOiA/U3R5bGVQcm9wIHtcbiAgICBpZiAoc3R5bGUxICYmIHN0eWxlMikge1xuICAgICAgcmV0dXJuIFtzdHlsZTEsIHN0eWxlMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdHlsZTEgfHwgc3R5bGUyO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRmxhdHRlbnMgYW4gYXJyYXkgb2Ygc3R5bGUgb2JqZWN0cywgaW50byBvbmUgYWdncmVnYXRlZCBzdHlsZSBvYmplY3QuXG4gICAqIEFsdGVybmF0aXZlbHksIHRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGxvb2t1cCBJRHMsIHJldHVybmVkIGJ5XG4gICAqIFN0eWxlU2hlZXQucmVnaXN0ZXIuXG4gICAqXG4gICAqID4gKipOT1RFKio6IEV4ZXJjaXNlIGNhdXRpb24gYXMgYWJ1c2luZyB0aGlzIGNhbiB0YXggeW91IGluIHRlcm1zIG9mXG4gICAqID4gb3B0aW1pemF0aW9ucy5cbiAgICogPlxuICAgKiA+IElEcyBlbmFibGUgb3B0aW1pemF0aW9ucyB0aHJvdWdoIHRoZSBicmlkZ2UgYW5kIG1lbW9yeSBpbiBnZW5lcmFsLiBSZWZlcmluZ1xuICAgKiA+IHRvIHN0eWxlIG9iamVjdHMgZGlyZWN0bHkgd2lsbCBkZXByaXZlIHlvdSBvZiB0aGVzZSBvcHRpbWl6YXRpb25zLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiBgYGBcbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGxpc3RJdGVtOiB7XG4gICAqICAgICBmbGV4OiAxLFxuICAgKiAgICAgZm9udFNpemU6IDE2LFxuICAgKiAgICAgY29sb3I6ICd3aGl0ZSdcbiAgICogICB9LFxuICAgKiAgIHNlbGVjdGVkTGlzdEl0ZW06IHtcbiAgICogICAgIGNvbG9yOiAnZ3JlZW4nXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogU3R5bGVTaGVldC5mbGF0dGVuKFtzdHlsZXMubGlzdEl0ZW0sIHN0eWxlcy5zZWxlY3RlZExpc3RJdGVtXSlcbiAgICogLy8gcmV0dXJucyB7IGZsZXg6IDEsIGZvbnRTaXplOiAxNiwgY29sb3I6ICdncmVlbicgfVxuICAgKiBgYGBcbiAgICogQWx0ZXJuYXRpdmUgdXNlOlxuICAgKiBgYGBcbiAgICogU3R5bGVTaGVldC5mbGF0dGVuKHN0eWxlcy5saXN0SXRlbSk7XG4gICAqIC8vIHJldHVybiB7IGZsZXg6IDEsIGZvbnRTaXplOiAxNiwgY29sb3I6ICd3aGl0ZScgfVxuICAgKiAvLyBTaW1wbHkgc3R5bGVzLmxpc3RJdGVtIHdvdWxkIHJldHVybiBpdHMgSUQgKG51bWJlcilcbiAgICogYGBgXG4gICAqIFRoaXMgbWV0aG9kIGludGVybmFsbHkgdXNlcyBgU3R5bGVTaGVldFJlZ2lzdHJ5LmdldFN0eWxlQnlJRChzdHlsZSlgXG4gICAqIHRvIHJlc29sdmUgc3R5bGUgb2JqZWN0cyByZXByZXNlbnRlZCBieSBJRHMuIFRodXMsIGFuIGFycmF5IG9mIHN0eWxlXG4gICAqIG9iamVjdHMgKGluc3RhbmNlcyBvZiBTdHlsZVNoZWV0LmNyZWF0ZSksIGFyZSBpbmRpdmlkdWFsbHkgcmVzb2x2ZWQgdG8sXG4gICAqIHRoZWlyIHJlc3BlY3RpdmUgb2JqZWN0cywgbWVyZ2VkIGFzIG9uZSBhbmQgdGhlbiByZXR1cm5lZC4gVGhpcyBhbHNvIGV4cGxhaW5zXG4gICAqIHRoZSBhbHRlcm5hdGl2ZSB1c2UuXG4gICAqL1xuICBmbGF0dGVuLFxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBFWFBFUklNRU5UQUwuIEJyZWFraW5nIGNoYW5nZXMgd2lsbCBwcm9iYWJseSBoYXBwZW4gYSBsb3QgYW5kIHdpbGxcbiAgICogbm90IGJlIHJlbGlhYmx5IGFubm91bmNlZC4gVGhlIHdob2xlIHRoaW5nIG1pZ2h0IGJlIGRlbGV0ZWQsIHdobyBrbm93cz8gVXNlXG4gICAqIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFNldHMgYSBmdW5jdGlvbiB0byB1c2UgdG8gcHJlLXByb2Nlc3MgYSBzdHlsZSBwcm9wZXJ0eSB2YWx1ZS4gVGhpcyBpcyB1c2VkXG4gICAqIGludGVybmFsbHkgdG8gcHJvY2VzcyBjb2xvciBhbmQgdHJhbnNmb3JtIHZhbHVlcy4gWW91IHNob3VsZCBub3QgdXNlIHRoaXNcbiAgICogdW5sZXNzIHlvdSByZWFsbHkga25vdyB3aGF0IHlvdSBhcmUgZG9pbmcgYW5kIGhhdmUgZXhoYXVzdGVkIG90aGVyIG9wdGlvbnMuXG4gICAqL1xuICBzZXRTdHlsZUF0dHJpYnV0ZVByZXByb2Nlc3Nvcihwcm9wZXJ0eTogc3RyaW5nLCBwcm9jZXNzOiAobmV4dFByb3A6IG1peGVkKSA9PiBtaXhlZCkge1xuICAgIGxldCB2YWx1ZTtcblxuICAgIGlmICh0eXBlb2YgUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXNbcHJvcGVydHldID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBSZWFjdE5hdGl2ZVN0eWxlQXR0cmlidXRlc1twcm9wZXJ0eV0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzW3Byb3BlcnR5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgJHtwcm9wZXJ0eX0gaXMgbm90IGEgdmFsaWQgc3R5bGUgYXR0cmlidXRlYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgdHlwZW9mIHZhbHVlLnByb2Nlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUud2FybihgT3ZlcndyaXRpbmcgJHtwcm9wZXJ0eX0gc3R5bGUgYXR0cmlidXRlIHByZXByb2Nlc3NvcmApO1xuICAgIH1cblxuICAgIFJlYWN0TmF0aXZlU3R5bGVBdHRyaWJ1dGVzW3Byb3BlcnR5XSA9IHsgLi4udmFsdWUsIHByb2Nlc3MgfTtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFN0eWxlU2hlZXQgc3R5bGUgcmVmZXJlbmNlIGZyb20gdGhlIGdpdmVuIG9iamVjdC5cbiAgICovXG4gIGNyZWF0ZTxTOiBTdHlsZXM+KG9iajogUyk6IFN0eWxlU2hlZXQ8Uz4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgU3R5bGVTaGVldFZhbGlkYXRpb24udmFsaWRhdGVTdHlsZShrZXksIG9iaik7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldICYmIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LnJlZ2lzdGVyKG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbn07XG4iXX0=